(self.webpackChunkclient=self.webpackChunkclient||[]).push([[953],{2953:(_s,wi,ae)=>{"use strict";ae.r(wi),ae.d(wi,{PlatformDataChartComponent:()=>Xe});var x=ae(9212),nt=ae(5294),Rn=ae(7593),Si=ae(6676),qn=ae.n(Si),Yt=ae(6990);ae(1894);class jn{constructor(L,_t,et){this.year=L,this.syndrome=_t,this.variable=et}year;syndrome;variable}var Zt=ae(6814),Qn=ae(1824),ne=ae(6223),rr=ae(4170),oe=ae(3680);const Se=["chart"];function vt(ht,L){if(1&ht&&(x.TgZ(0,"mat-option",11),x._uU(1),x.qZA()),2&ht){const _t=L.$implicit;x.Q6J("value",_t),x.xp6(),x.AsE("",_t,"-",_t+1,"")}}function fe(ht,L){if(1&ht){const _t=x.EpF();x.TgZ(0,"mat-form-field",1)(1,"mat-select",9,10),x.NdJ("selectionChange",function(St){x.CHM(_t);const Ut=x.oxw();return x.KtG(Ut.filterChange({year:St.value}))}),x.SjG(3,vt,2,3,"mat-option",11,x.x6l),x.qZA()()}if(2&ht){const _t=x.oxw();let et;x.xp6(),x.Q6J("value",_t.currentFilter().year)("disabled",!_t.currentFilter().year),x.xp6(2),x.wJu(null==(et=_t.filterAvailable())?null:et.year)}}function hn(ht,L){if(1&ht&&(x.TgZ(0,"mat-option",11),x._uU(1),x.qZA()),2&ht){const _t=L.$implicit;x.Q6J("value",_t),x.xp6(),x.Oqu(_t.split(".")[0])}}function Ti(ht,L){if(1&ht){const _t=x.EpF();x.TgZ(0,"mat-form-field",2)(1,"mat-select",9,10),x.NdJ("selectionChange",function(St){x.CHM(_t);const Ut=x.oxw();return x.KtG(Ut.filterChange({syndrome:St.value}))}),x.SjG(3,hn,2,2,"mat-option",11,x.x6l),x.qZA()()}if(2&ht){const _t=x.oxw();let et;x.xp6(),x.Q6J("value",_t.currentFilter().syndrome)("disabled",!_t.currentFilter().syndrome),x.xp6(2),x.wJu(null==(et=_t.filterAvailable())?null:et.syndrome)}}function Ai(ht,L){if(1&ht&&(x.TgZ(0,"mat-option",11),x._uU(1),x.qZA()),2&ht){const _t=L.$implicit;x.Q6J("value",_t),x.xp6(),x.Oqu(_t.split(".")[1])}}function ar(ht,L){if(1&ht){const _t=x.EpF();x.TgZ(0,"mat-form-field",2)(1,"mat-select",12,10),x.NdJ("selectionChange",function(St){x.CHM(_t);const Ut=x.oxw();return x.KtG(Ut.filterChange({variable:St.value}))})("ngModelChange",function(St){x.CHM(_t);const Ut=x.oxw();return x.KtG(Ut.currentFilter().variable=St)}),x.SjG(3,Ai,2,2,"mat-option",11,x.x6l),x.qZA()()}if(2&ht){const _t=x.oxw();let et;x.xp6(),x.Q6J("ngModel",_t.currentFilter().variable)("disabled",!_t.currentFilter().variable),x.xp6(2),x.wJu(null==(et=_t.filterAvailable())?null:et.variable)}}let Xe=(()=>{class ht{constructor(){(0,x.cEC)(()=>!!this.chart()&&!!this.filterAvailable()&&this.filterChange(),{allowSignalWrites:!0}),(0,x.cEC)(()=>this.currentFilter()&&this.hasData()&&this.generateChart(),{allowSignalWrites:!0})}dataType=(0,x.qHZ)();data=(0,x.qHZ)();set _chart(_t){this.chart.set(_t.nativeElement)}chart=(0,x.tdS)(void 0);hasData=(0,x.Flj)(()=>!(0,Yt.isEmpty)(this.data()));hasRendered=(0,x.tdS)(void 0);isLoading=(0,x.Flj)(()=>!this.data()&&!this.hasRendered());filterAvailable=(0,x.Flj)(()=>this.hasData()&&this.getPlatformDataFilterAvailable(this.data()));currentFilter=(0,x.tdS)({});chartInstance=(0,x.tdS)(void 0);getPlatformDataFilterAvailable(_t){let et=Object.keys(_t).reduce((St,Ut)=>{let[Ie,Fe,Wt]=Ut.split("|");return{year:"_"!==Ie?[...St.year,Number(Ie)]:St.year,syndrome:"_"!==Fe?[...St.syndrome,Fe]:St.syndrome,variable:"_"!==Wt?[...St.variable,Wt]:St.variable}},{year:[],syndrome:[],variable:[]});return{year:[...new Set(et.year)].sort().reverse(),syndrome:[...new Set(et.syndrome)],variable:[...new Set(et.variable)]}}filterChange(_t={}){this.currentFilter.update(et=>new jn(_t.year||et.year||this.filterAvailable().year[0],_t.syndrome||et.syndrome||this.filterAvailable().syndrome[0],_t.variable||et.variable||this.filterAvailable().variable[0]))}onBeforeRender(){this.hasRendered.set(!1)}onAfterRender(){this.hasRendered.set(!0)}generateChart(_t=this.chart(),et=this.data(),St=this.currentFilter()){this.onBeforeRender();let Ut=Rn.wh.statsToIndex(St.year,St.syndrome,St.variable,this.dataType()),Ie=!!et&&et[Ut];Ie&&_t&&this.chartInstance.set(nt.generate({bindto:_t,svg:{classname:"svg-chart"},data:{json:Ie,keys:{value:["max","min","value"]},types:{max:"area",min:"area",value:"line"},color:(Fe,Wt)=>"value"===Wt.id?"#555":"#bbb"},resize:{auto:!0},axis:{x:{type:"category",tick:{format:Fe=>{let Wt=Ie[Fe];return Wt instanceof Rn.nO?`${Wt.season}`:1==Wt.week?` ${Wt.year}`:Wt.isFirstOfMonth?qn()().month(Wt.month).format("MMM"):void 0},width:100}},y:{type:"linear"}},legend:{show:!1},grid:{focus:{show:!1}},transition:{duration:null},onrendered:()=>{this.onAfterRender()}}))}static \u0275fac=function(et){return new(et||ht)};static \u0275cmp=x.Xpm({type:ht,selectors:[["platform-data-chart"]],viewQuery:function(et,St){if(1&et&&x.Gf(Se,5,x.SBq),2&et){let Ut;x.iGM(Ut=x.CRH())&&(St._chart=Ut.first)}},inputs:{dataType:[x.lbL.SignalBased,"dataType"],data:[x.lbL.SignalBased,"data"]},standalone:!0,features:[x.jDz],decls:13,vars:9,consts:[[1,"filters"],["appearance","outline","subscriptSizing","dynamic"],["appearance","outline"],[1,"chart-container"],[1,"chart"],["chart",""],[1,"nodata"],[1,"nodata","color-main"],[1,"fa-solid","fa-circle-notch","fa-spin","font-xxxl"],[3,"value","disabled","selectionChange"],["select",""],[3,"value"],[3,"ngModel","disabled","selectionChange","ngModelChange"]],template:function(et,St){1&et&&(x.TgZ(0,"div",0),x.YNc(1,fe,5,2,"mat-form-field",1)(2,Ti,5,2,"mat-form-field",2)(3,ar,5,2,"mat-form-field",2),x.qZA(),x.TgZ(4,"div",3),x._UZ(5,"div",4,5),x.TgZ(7,"div",6)(8,"p"),x._uU(9,"Data not available"),x.qZA()(),x.TgZ(10,"div",7)(11,"h2"),x._UZ(12,"i",8),x.qZA()()()),2&et&&(x.ekj("transparent",!St.hasData()),x.xp6(),x.um2(1,"visits_cumulated"!==St.dataType()?1:-1),x.xp6(),x.um2(2,"active"!==St.dataType()?2:-1),x.xp6(),x.um2(3,"visits_cumulated"===St.dataType()?3:-1),x.xp6(4),x.ekj("hidden",St.hasData()||St.isLoading()),x.xp6(3),x.ekj("hidden",!St.isLoading()))},dependencies:[Zt.ez,Qn.LD,rr.KE,Qn.gD,oe.ey,ne.u5,ne.JJ,ne.On],styles:['@import"https://fonts.googleapis.com/css2?family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap";.color-base[_ngcontent-%COMP%]{color:#303030}.bg-base[_ngcontent-%COMP%]{background-color:#303030}.color-base-light[_ngcontent-%COMP%]{color:#fcfcfc}.bg-base-light[_ngcontent-%COMP%]{background-color:#fcfcfc}.color-base-accent[_ngcontent-%COMP%]{color:#f0f3f6}.bg-base-accent[_ngcontent-%COMP%]{background-color:#f0f3f6}.color-main[_ngcontent-%COMP%], .subtitle[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]{color:#003556}.bg-main[_ngcontent-%COMP%]{background-color:#003556}.color-accent[_ngcontent-%COMP%]{color:#00ab9f}.bg-accent[_ngcontent-%COMP%]{background-color:#00ab9f}.color-base-accent-dark[_ngcontent-%COMP%], [_nghost-%COMP%]   .chart-container[_ngcontent-%COMP%]   .nodata[_ngcontent-%COMP%]{color:#979d9d}.bg-base-accent-dark[_ngcontent-%COMP%]{background-color:#979d9d}.color-base-accent-medium[_ngcontent-%COMP%]{color:#cccece}.bg-base-accent-medium[_ngcontent-%COMP%]{background-color:#cccece}.t-none[_ngcontent-%COMP%]{padding-top:0}.b-none[_ngcontent-%COMP%]{padding-bottom:0}.t-0[_ngcontent-%COMP%]{padding-top:.5rem}.b-0[_ngcontent-%COMP%]{padding-bottom:.5rem}.tb-0[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.5rem}.l-none[_ngcontent-%COMP%]{padding-left:0}.r-none[_ngcontent-%COMP%]{padding-right:0}.l-0[_ngcontent-%COMP%]{padding-left:.5rem}.r-0[_ngcontent-%COMP%], mat-form-field[_ngcontent-%COMP%]{padding-right:.5rem}.lr-0[_ngcontent-%COMP%]{padding-left:.5rem;padding-right:.5rem}.mt-none[_ngcontent-%COMP%]{margin-top:0}.mb-none[_ngcontent-%COMP%]{margin-bottom:0}.mt-0[_ngcontent-%COMP%]{margin-top:.5rem}.mb-0[_ngcontent-%COMP%]{margin-bottom:.5rem}.mtb-0[_ngcontent-%COMP%]{margin-top:.5rem;margin-bottom:.5rem}.ml-none[_ngcontent-%COMP%]{margin-left:0}.mr-none[_ngcontent-%COMP%]{margin-right:0}.ml-0[_ngcontent-%COMP%]{margin-left:.5rem}.mr-0[_ngcontent-%COMP%]{margin-right:.5rem}.mlr-0[_ngcontent-%COMP%]{margin-left:.5rem;padding-right:.5rem}.t-1[_ngcontent-%COMP%]{padding-top:1rem}.b-1[_ngcontent-%COMP%], [_nghost-%COMP%]   .filters[_ngcontent-%COMP%]{padding-bottom:1rem}.tb-1[_ngcontent-%COMP%]{padding-top:1rem;padding-bottom:1rem}.l-1[_ngcontent-%COMP%]{padding-left:1rem}.r-1[_ngcontent-%COMP%]{padding-right:1rem}.lr-1[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem}.mt-1[_ngcontent-%COMP%]{margin-top:1rem}.mb-1[_ngcontent-%COMP%]{margin-bottom:1rem}.mtb-1[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:1rem}.ml-1[_ngcontent-%COMP%]{margin-left:1rem}.mr-1[_ngcontent-%COMP%]{margin-right:1rem}.mlr-1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}.t-2[_ngcontent-%COMP%]{padding-top:2rem}.b-2[_ngcontent-%COMP%], .space-Y21[_ngcontent-%COMP%]{padding-bottom:2rem}.tb-2[_ngcontent-%COMP%]{padding-top:2rem;padding-bottom:2rem}.l-2[_ngcontent-%COMP%]{padding-left:2rem}.r-2[_ngcontent-%COMP%]{padding-right:2rem}.lr-2[_ngcontent-%COMP%]{padding-left:2rem;padding-right:2rem}.mt-2[_ngcontent-%COMP%]{margin-top:2rem}.mb-2[_ngcontent-%COMP%]{margin-bottom:2rem}.mtb-2[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:2rem}.ml-2[_ngcontent-%COMP%]{margin-left:2rem}.mr-2[_ngcontent-%COMP%]{margin-right:2rem}.mlr-2[_ngcontent-%COMP%]{margin-left:2rem;margin-right:2rem}.t-3[_ngcontent-%COMP%], .space-Y21[_ngcontent-%COMP%]{padding-top:3rem}.b-3[_ngcontent-%COMP%]{padding-bottom:3rem}.tb-3[_ngcontent-%COMP%]{padding-top:3rem;padding-bottom:3rem}.l-3[_ngcontent-%COMP%]{padding-left:3rem}.r-3[_ngcontent-%COMP%]{padding-right:3rem}.lr-3[_ngcontent-%COMP%]{padding-left:3rem;padding-right:3rem}.mt-3[_ngcontent-%COMP%]{margin-top:3rem}.mb-3[_ngcontent-%COMP%]{margin-bottom:3rem}.mtb-3[_ngcontent-%COMP%]{margin-top:3rem;margin-bottom:3rem}.ml-3[_ngcontent-%COMP%]{margin-left:3rem}.mr-3[_ngcontent-%COMP%]{margin-right:3rem}.mlr-3[_ngcontent-%COMP%]{margin-left:3rem;margin-right:3rem}.t-4[_ngcontent-%COMP%]{padding-top:4rem}.b-4[_ngcontent-%COMP%], .about-section[_ngcontent-%COMP%]{padding-bottom:4rem}.tb-4[_ngcontent-%COMP%]{padding-top:4rem;padding-bottom:4rem}.l-4[_ngcontent-%COMP%]{padding-left:4rem}.r-4[_ngcontent-%COMP%]{padding-right:4rem}.lr-4[_ngcontent-%COMP%]{padding-left:4rem;padding-right:4rem}.mt-4[_ngcontent-%COMP%]{margin-top:4rem}.mb-4[_ngcontent-%COMP%]{margin-bottom:4rem}.mtb-4[_ngcontent-%COMP%]{margin-top:4rem;margin-bottom:4rem}.ml-4[_ngcontent-%COMP%]{margin-left:4rem}.mr-4[_ngcontent-%COMP%]{margin-right:4rem}.mlr-4[_ngcontent-%COMP%]{margin-left:4rem;margin-right:4rem}.t-5[_ngcontent-%COMP%]{padding-top:5rem}.b-5[_ngcontent-%COMP%]{padding-bottom:5rem}.tb-5[_ngcontent-%COMP%]{padding-top:5rem;padding-bottom:5rem}.l-5[_ngcontent-%COMP%]{padding-left:5rem}.r-5[_ngcontent-%COMP%]{padding-right:5rem}.lr-5[_ngcontent-%COMP%]{padding-left:5rem;padding-right:5rem}.mt-5[_ngcontent-%COMP%]{margin-top:5rem}.mb-5[_ngcontent-%COMP%]{margin-bottom:5rem}.mtb-5[_ngcontent-%COMP%]{margin-top:5rem;margin-bottom:5rem}.ml-5[_ngcontent-%COMP%]{margin-left:5rem}.mr-5[_ngcontent-%COMP%]{margin-right:5rem}.mlr-5[_ngcontent-%COMP%]{margin-left:5rem;margin-right:5rem}.t-6[_ngcontent-%COMP%]{padding-top:6rem}.b-6[_ngcontent-%COMP%]{padding-bottom:6rem}.tb-6[_ngcontent-%COMP%]{padding-top:6rem;padding-bottom:6rem}.l-6[_ngcontent-%COMP%]{padding-left:6rem}.r-6[_ngcontent-%COMP%]{padding-right:6rem}.lr-6[_ngcontent-%COMP%]{padding-left:6rem;padding-right:6rem}.mt-6[_ngcontent-%COMP%]{margin-top:6rem}.mb-6[_ngcontent-%COMP%]{margin-bottom:6rem}.mtb-6[_ngcontent-%COMP%]{margin-top:6rem;margin-bottom:6rem}.ml-6[_ngcontent-%COMP%]{margin-left:6rem}.mr-6[_ngcontent-%COMP%]{margin-right:6rem}.mlr-6[_ngcontent-%COMP%]{margin-left:6rem;margin-right:6rem}.t-7[_ngcontent-%COMP%]{padding-top:7rem}.b-7[_ngcontent-%COMP%]{padding-bottom:7rem}.tb-7[_ngcontent-%COMP%]{padding-top:7rem;padding-bottom:7rem}.l-7[_ngcontent-%COMP%]{padding-left:7rem}.r-7[_ngcontent-%COMP%]{padding-right:7rem}.lr-7[_ngcontent-%COMP%]{padding-left:7rem;padding-right:7rem}.mt-7[_ngcontent-%COMP%]{margin-top:7rem}.mb-7[_ngcontent-%COMP%]{margin-bottom:7rem}.mtb-7[_ngcontent-%COMP%]{margin-top:7rem;margin-bottom:7rem}.ml-7[_ngcontent-%COMP%]{margin-left:7rem}.mr-7[_ngcontent-%COMP%]{margin-right:7rem}.mlr-7[_ngcontent-%COMP%]{margin-left:7rem;margin-right:7rem}.t-8[_ngcontent-%COMP%]{padding-top:8rem}.b-8[_ngcontent-%COMP%]{padding-bottom:8rem}.tb-8[_ngcontent-%COMP%]{padding-top:8rem;padding-bottom:8rem}.l-8[_ngcontent-%COMP%]{padding-left:8rem}.r-8[_ngcontent-%COMP%]{padding-right:8rem}.lr-8[_ngcontent-%COMP%]{padding-left:8rem;padding-right:8rem}.mt-8[_ngcontent-%COMP%]{margin-top:8rem}.mb-8[_ngcontent-%COMP%]{margin-bottom:8rem}.mtb-8[_ngcontent-%COMP%]{margin-top:8rem;margin-bottom:8rem}.ml-8[_ngcontent-%COMP%]{margin-left:8rem}.mr-8[_ngcontent-%COMP%]{margin-right:8rem}.mlr-8[_ngcontent-%COMP%]{margin-left:8rem;margin-right:8rem}.t-9[_ngcontent-%COMP%]{padding-top:9rem}.b-9[_ngcontent-%COMP%]{padding-bottom:9rem}.tb-9[_ngcontent-%COMP%]{padding-top:9rem;padding-bottom:9rem}.l-9[_ngcontent-%COMP%]{padding-left:9rem}.r-9[_ngcontent-%COMP%]{padding-right:9rem}.lr-9[_ngcontent-%COMP%]{padding-left:9rem;padding-right:9rem}.mt-9[_ngcontent-%COMP%]{margin-top:9rem}.mb-9[_ngcontent-%COMP%]{margin-bottom:9rem}.mtb-9[_ngcontent-%COMP%]{margin-top:9rem;margin-bottom:9rem}.ml-9[_ngcontent-%COMP%]{margin-left:9rem}.mr-9[_ngcontent-%COMP%]{margin-right:9rem}.mlr-9[_ngcontent-%COMP%]{margin-left:9rem;margin-right:9rem}.t-10[_ngcontent-%COMP%]{padding-top:10rem}.b-10[_ngcontent-%COMP%]{padding-bottom:10rem}.tb-10[_ngcontent-%COMP%]{padding-top:10rem;padding-bottom:10rem}.l-10[_ngcontent-%COMP%]{padding-left:10rem}.r-10[_ngcontent-%COMP%]{padding-right:10rem}.lr-10[_ngcontent-%COMP%]{padding-left:10rem;padding-right:10rem}.mt-10[_ngcontent-%COMP%]{margin-top:10rem}.mb-10[_ngcontent-%COMP%]{margin-bottom:10rem}.mtb-10[_ngcontent-%COMP%]{margin-top:10rem;margin-bottom:10rem}.ml-10[_ngcontent-%COMP%]{margin-left:10rem}.mr-10[_ngcontent-%COMP%]{margin-right:10rem}.mlr-10[_ngcontent-%COMP%]{margin-left:10rem;margin-right:10rem}.font-lh-none[_ngcontent-%COMP%]{line-height:0}.font-xxs[_ngcontent-%COMP%]{font-size:12px;line-height:22.8px}.font-lh-xxs[_ngcontent-%COMP%]{line-height:22.8px}.font-xs[_ngcontent-%COMP%]{font-size:14px;line-height:26.6px}.font-lh-xs[_ngcontent-%COMP%]{line-height:26.6px}.font-s[_ngcontent-%COMP%], .button[_ngcontent-%COMP%], .button-accent[_ngcontent-%COMP%]{font-size:16px;line-height:30.4px}.font-lh-s[_ngcontent-%COMP%]{line-height:30.4px}.font-m[_ngcontent-%COMP%]{font-size:18px;line-height:34.2px}.font-lh-m[_ngcontent-%COMP%]{line-height:34.2px}.font-l[_ngcontent-%COMP%]{font-size:21px;line-height:39.9px}.font-lh-l[_ngcontent-%COMP%]{line-height:39.9px}.font-xl[_ngcontent-%COMP%], .subtitle[_ngcontent-%COMP%]{font-size:24px;line-height:45.6px}.font-lh-xl[_ngcontent-%COMP%]{line-height:45.6px}.font-xxl[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]{font-size:28px;line-height:53.2px}.font-lh-xxl[_ngcontent-%COMP%]{line-height:53.2px}.font-xxxl[_ngcontent-%COMP%]{font-size:32px;line-height:60.8px}.font-lh-xxxl[_ngcontent-%COMP%]{line-height:60.8px}.font-4xl[_ngcontent-%COMP%]{font-size:40px;line-height:76px}.font-lh-4xl[_ngcontent-%COMP%]{line-height:76px}.letter-spacing-none[_ngcontent-%COMP%]{letter-spacing:0!important}.letter-spacing-s[_ngcontent-%COMP%], .button[_ngcontent-%COMP%], .button-accent[_ngcontent-%COMP%], .nunito[_ngcontent-%COMP%], .button-accent.small[_ngcontent-%COMP%]{letter-spacing:.5px!important}.letter-spacing-m[_ngcontent-%COMP%]{letter-spacing:.75px!important}.letter-spacing-l[_ngcontent-%COMP%]{letter-spacing:1px!important}.roboto[_ngcontent-%COMP%]{font-family:Roboto,sans-serif}.nunito[_ngcontent-%COMP%], .button-accent.small[_ngcontent-%COMP%], .button[_ngcontent-%COMP%], .button-accent[_ngcontent-%COMP%]{font-family:Nunito Sans,sans-serif}.ubuntu[_ngcontent-%COMP%]{font-family:Ubuntu,sans-serif}.space-rx[_ngcontent-%COMP%], .space-x[_ngcontent-%COMP%], .about-section[_ngcontent-%COMP%]{padding-right:10vw}@media all and (max-width: 1200px){.space-rx[_ngcontent-%COMP%], .space-x[_ngcontent-%COMP%], .about-section[_ngcontent-%COMP%]{padding-right:1rem}}.space-lx[_ngcontent-%COMP%], .space-x[_ngcontent-%COMP%], .about-section[_ngcontent-%COMP%]{padding-left:10vw}@media all and (max-width: 1200px){.space-lx[_ngcontent-%COMP%], .space-x[_ngcontent-%COMP%], .about-section[_ngcontent-%COMP%]{padding-left:1rem}}.space-x-none[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.cover[_ngcontent-%COMP%], [_nghost-%COMP%]     .c3 .svg-chart, [_nghost-%COMP%]     .c3, [_nghost-%COMP%]   .chart-container[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%], [_nghost-%COMP%]   .chart-container[_ngcontent-%COMP%]   .nodata[_ngcontent-%COMP%]{width:100%!important;height:100%!important;min-height:100%!important;min-width:100%!important;max-height:100%!important;max-width:100%!important;box-sizing:border-box}.link[_ngcontent-%COMP%], .anchor[_ngcontent-%COMP%]{cursor:pointer}a.link[_ngcontent-%COMP%], a.anchor[_ngcontent-%COMP%]{color:#00ab9f}.anchor[_ngcontent-%COMP%]{text-decoration:underline}.capitalize[_ngcontent-%COMP%]{text-transform:capitalize}.underline[_ngcontent-%COMP%]{text-decoration:underline}.button[_ngcontent-%COMP%], .button-accent[_ngcontent-%COMP%]{font-weight:700;padding:.8rem 1.5rem;border-radius:10px;cursor:pointer}.button-accent[_ngcontent-%COMP%]{background-color:#00ab9f;border:solid 2px #00AB9F;color:#fff}.button-accent[_ngcontent-%COMP%]:hover{opacity:.95}.button-accent.inverted[_ngcontent-%COMP%], .button-accent.small[_ngcontent-%COMP%]{border-color:#00ab9f;background-color:#0000!important;color:#00ab9f}.button-accent.small[_ngcontent-%COMP%]{padding:0 .5rem .25em}a.button[_ngcontent-%COMP%], a.button-accent[_ngcontent-%COMP%]{text-decoration:none;display:inline-flex}.bold[_ngcontent-%COMP%], .subtitle[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]{font-weight:700}@media all and (max-width: 1200px){.mobile-hidden[_ngcontent-%COMP%]{display:none!important}}@media all and (min-width: 1200px){.desktop-hidden[_ngcontent-%COMP%]{display:none!important}}.transparent[_ngcontent-%COMP%]{opacity:0}.mat-form-field-text[_ngcontent-%COMP%], .cdk-overlay-container[_ngcontent-%COMP%]   .mat-mdc-option[_ngcontent-%COMP%], mat-form-field[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper.mdc-text-field--outlined[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%], mat-form-field[_ngcontent-%COMP%]{font-size:.7rem;line-height:1.25rem}mat-form-field[_ngcontent-%COMP%]   .mdc-text-field--focused[_ngcontent-%COMP%], mat-form-field[_ngcontent-%COMP%]   .mdc-text-field--focused[_ngcontent-%COMP%]   .mdc-notched-outline[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{border-color:#979d9d!important;border-width:1px!important}mat-form-field[_ngcontent-%COMP%]   .mdc-notched-outline[_ngcontent-%COMP%], mat-form-field[_ngcontent-%COMP%]   .mdc-notched-outline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{border-color:#0000!important}mat-form-field[_ngcontent-%COMP%]   .mat-mdc-select-arrow[_ngcontent-%COMP%]{color:#979d9d!important}mat-form-field[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper.mdc-text-field--outlined[_ngcontent-%COMP%]{background:#fff;border-radius:5px}mat-form-field[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper.mdc-text-field--outlined[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{min-height:auto;width:auto;min-width:3rem;padding:0}mat-form-field[_ngcontent-%COMP%]   .mat-mdc-select-value[_ngcontent-%COMP%]{padding:.2rem .45rem .2rem .2rem}mat-form-field[_ngcontent-%COMP%]     span{text-transform:capitalize!important}.cdk-overlay-container[_ngcontent-%COMP%]   .cdk-overlay-pane[_ngcontent-%COMP%]{width:auto!important}.cdk-overlay-container[_ngcontent-%COMP%]   .mat-mdc-option[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{font-size:.7rem!important}.cdk-overlay-container[_ngcontent-%COMP%]   .mdc-list-item--selected[_ngcontent-%COMP%]   .mdc-list-item__primary-text[_ngcontent-%COMP%]{color:#00ab9f!important}.page-title-section[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.card-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,minmax(0,1fr));column-gap:1rem;row-gap:1rem}@media all and (max-width: 1800px){.card-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(4,minmax(0,1fr))}}@media all and (max-width: 1200px){.card-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,minmax(0,1fr))}}@media all and (max-width: 800px){.card-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))}}@media all and (max-width: 600px){.card-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(1,minmax(0,1fr))}}[_nghost-%COMP%]{position:relative;z-index:10}[_nghost-%COMP%]   .filters[_ngcontent-%COMP%]{display:flex}@media all and (max-width: 1200px){[_nghost-%COMP%]   .filters[_ngcontent-%COMP%]{justify-content:center}}[_nghost-%COMP%]   .chart-container[_ngcontent-%COMP%]{position:relative;aspect-ratio:16/9}[_nghost-%COMP%]   .chart-container[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%], [_nghost-%COMP%]   .chart-container[_ngcontent-%COMP%]   .nodata[_ngcontent-%COMP%]{background:#fff}@media all and (max-width: 1200px){[_nghost-%COMP%]   .chart-container[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%], [_nghost-%COMP%]   .chart-container[_ngcontent-%COMP%]   .nodata[_ngcontent-%COMP%]{padding-left:0;padding-right:0;padding-bottom:0}}[_nghost-%COMP%]   .chart-container[_ngcontent-%COMP%]   .nodata[_ngcontent-%COMP%]{background:#eaeef2;position:absolute;inset:0;display:flex;justify-content:center;align-items:center}[_nghost-%COMP%]     .c3{display:flex;justify-content:stretch;align-items:stretch}[_nghost-%COMP%]     .c3 .svg-chart .domain{opacity:0}[_nghost-%COMP%]     .c3 .svg-chart .c3-line{stroke-width:2px}[_nghost-%COMP%]     .c3 .svg-chart path.c3-area-min{opacity:1!important;fill:#fff!important}[_nghost-%COMP%]     .c3 .svg-chart path.c3-area-max{fill:#979d9d!important}[_nghost-%COMP%]     .c3 .svg-chart path.c3-line-avg, [_nghost-%COMP%]     .c3 .svg-chart path.c3-line-value{opacity:1!important;stroke:#979d9d!important}[_nghost-%COMP%]     .c3 .svg-chart .c3-circles-avg>*, [_nghost-%COMP%]     .c3 .svg-chart .c3-circles-value>*{fill:#979d9d!important;stroke:#979d9d!important}[_nghost-%COMP%]     .c3 .svg-chart .c3-line-min, [_nghost-%COMP%]     .c3 .svg-chart .c3-line-max, [_nghost-%COMP%]     .c3 .svg-chart .c3-circles-min>*, [_nghost-%COMP%]     .c3 .svg-chart .c3-circles-max>*{fill:none!important;stroke:none!important}[_nghost-%COMP%]     .c3 .svg-chart .tick text{fill:#303030!important}[_nghost-%COMP%]     .c3 .svg-chart .tick line{fill:none;stroke:none!important}[_nghost-%COMP%]   .hidden[_ngcontent-%COMP%]{display:none!important}[_nghost-%COMP%]     .mat-mdc-form-field-bottom-align{height:0}']})}return ht})()},5294:function(_s,wi,ae){_s.exports=function(){"use strict";function x(n){var r=this;r.d3=window.d3?window.d3:ae(5405),r.api=n,r.config=r.getDefaultConfig(),r.data={},r.cache={},r.axes={}}function nt(n){this.internal=new x(this),this.internal.loadConfig(n),this.internal.beforeInit(n),this.internal.init(),this.internal.afterInit(n),function r(s,u,g){Object.keys(s).forEach(function(y){u[y]=s[y].bind(g),Object.keys(s[y]).length>0&&r(s[y],u[y],g)})}(nt.prototype,this,this)}var Rn=function(n){return Math.ceil(n)+.5},Si=function(n){return 10*Math.ceil(n/10)},qn=function(n){return n[1]-n[0]},Yt=function(n,r,s){return Zt(n[r])?n[r]:s},da=function(n){var r=Je(n),s=[n.pathSegList.getItem(0),n.pathSegList.getItem(1)];return{x:s[0].x,y:Math.min(s[0].y,s[1].y),width:r.width,height:r.height}},Je=function(n){try{return n.getBBox()}catch{return{x:0,y:0,width:0,height:0}}},jn=function(n){return Array.isArray(n)},Zt=function(n){return typeof n<"u"},Qn=function(n){return typeof n>"u"||null===n||oe(n)&&0===n.length||"object"==typeof n&&0===Object.keys(n).length},ne=function(n){return"function"==typeof n},rr=function(n){return"number"==typeof n},oe=function(n){return"string"==typeof n},Se=function(n){return typeof n>"u"},vt=function(n){return n||0===n},fe=function(n){return!Qn(n)},hn=function(n){return"string"==typeof n?n.replace(/</g,"&lt;").replace(/>/g,"&gt;"):n},Xe=function(n){var r=function(n){typeof n>"u"&&(n=window.navigator.userAgent);var r=n.indexOf("MSIE ");return r>0?parseInt(n.substring(r+5,n.indexOf(".",r)),10):(r=n.indexOf("Trident/"))>0&&(r=n.indexOf("rv:"),parseInt(n.substring(r+3,n.indexOf(".",r)),10))}();return typeof n>"u"?!!r:n===r};function ht(n,r){var s=this;s.component=n,s.params=r||{},s.d3=n.d3,s.scale=s.d3.scaleLinear(),s.orient="bottom",s.innerTickSize=6,s.outerTickSize=this.params.withOuterTick?6:0,s.tickPadding=3,s.tickValues=null,s.tickOffset=0,s.tickCulling=!0,s.tickTextRotate=s.params.tickTextRotate,s.axis=s.generateAxis()}ht.prototype.axisX=function(n,r,s){n.attr("transform",function(u){return"translate("+Math.ceil(r(u)+s)+", 0)"})},ht.prototype.axisY=function(n,r){n.attr("transform",function(s){return"translate(0,"+Math.ceil(r(s))+")"})},ht.prototype.scaleExtent=function(n){var r=n[0],s=n[n.length-1];return r<s?[r,s]:[s,r]},ht.prototype.generateTicks=function(n){var s,u,g=[];if(n.ticks)return n.ticks.apply(n,this.tickArguments);for(u=n.domain(),s=Math.ceil(u[0]);s<u[1];s++)g.push(s);return g.length>0&&g[0]>0&&g.unshift(g[0]-(g[1]-g[0])),g},ht.prototype.copyScale=function(){var s,n=this,r=n.scale.copy();return n.params.isCategory&&(s=n.scale.domain(),r.domain([s[0],s[1]-1])),r},ht.prototype.textFormatted=function(n){var s=this.tickFormat?this.tickFormat(n):n;return typeof s<"u"?s:""},ht.prototype.updateRange=function(){var n=this;return n.range=n.scale.rangeExtent?n.scale.rangeExtent():n.scaleExtent(n.scale.range()),n.range},ht.prototype.updateTickTextCharSize=function(n){var r=this;if(r.tickTextCharSize)return r.tickTextCharSize;var s={h:11.5,w:5.5};return n.select("text").text(function(u){return r.textFormatted(u)}).each(function(u){var g=Je(this),y=r.textFormatted(u),w=g.height,T=y?g.width/y.length:void 0;w&&T&&(s.h=w,s.w=T)}).text(""),r.tickTextCharSize=s,s},ht.prototype.isVertical=function(){return"left"===this.orient||"right"===this.orient},ht.prototype.tspanData=function(n,r,s){var u=this,g=u.params.tickMultiline?u.splitTickText(n,s):[].concat(u.textFormatted(n));return u.params.tickMultiline&&u.params.tickMultilineMax>0&&(g=u.ellipsify(g,u.params.tickMultilineMax)),g.map(function(y){return{index:r,splitted:y,length:g.length}})},ht.prototype.splitTickText=function(n,r){var y,w,s=this,u=s.textFormatted(n),g=s.params.tickWidth;if("[object Array]"===Object.prototype.toString.call(u))return u;return(!g||g<=0)&&(g=s.isVertical()?95:s.params.isCategory?Math.ceil(r(1)-r(0))-12:110),function P(V,G){w=void 0;for(var Y=1;Y<G.length;Y++)if(" "===G.charAt(Y)&&(w=Y),y=G.substr(0,Y+1),g<s.tickTextCharSize.w*y.length)return P(V.concat(G.substr(0,w||Y)),G.slice(w?w+1:Y));return V.concat(G)}([],u+"")},ht.prototype.ellipsify=function(n,r){if(n.length<=r)return n;for(var s=n.slice(0,r),u=3,g=r-1;g>=0;g--){var y=s[g].length;if(s[g]=s[g].substr(0,y-u).padEnd(y,"."),(u-=y)<=0)break}return s},ht.prototype.updateTickLength=function(){var n=this;n.tickLength=Math.max(n.innerTickSize,0)+n.tickPadding},ht.prototype.lineY2=function(n){var r=this,s=r.scale(n)+(r.tickCentered?0:r.tickOffset);return r.range[0]<s&&s<r.range[1]?r.innerTickSize:0},ht.prototype.textY=function(){var r=this.tickTextRotate;return r?11.5-r/15*2.5*(r>0?1:-1):this.tickLength},ht.prototype.textTransform=function(){var r=this.tickTextRotate;return r?"rotate("+r+")":""},ht.prototype.textTextAnchor=function(){var r=this.tickTextRotate;return r?r>0?"start":"end":"middle"},ht.prototype.tspanDx=function(){var r=this.tickTextRotate;return r?8*Math.sin(Math.PI*(r/180)):0},ht.prototype.tspanDy=function(n,r){var s=this,u=s.tickTextCharSize.h;return 0===r&&(u=s.isVertical()?-(s.tickTextCharSize.h/2*(n.length-1)-3):".71em"),u},ht.prototype.generateAxis=function(){var n=this,r=n.d3,s=n.params;function u(g,y){var w;return g.each(function(){var q,Z,tt,T=u.g=r.select(this),O=this.__chart__||n.scale,P=this.__chart__=n.copyScale(),V=n.tickValues?n.tickValues:n.generateTicks(P),G=T.selectAll(".tick").data(V,P),Y=G.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),z=G.exit().remove(),X=G.merge(Y);s.isCategory?(n.tickOffset=Math.ceil((P(1)-P(0))/2),Z=n.tickCentered?0:n.tickOffset,tt=n.tickCentered?n.tickOffset:0):n.tickOffset=Z=0,n.updateRange(),n.updateTickLength(),n.updateTickTextCharSize(T.select(".tick"));var yt=X.select("line").merge(Y.append("line")),Pt=X.select("text").merge(Y.append("text")),Rt=X.selectAll("text").selectAll("tspan").data(function(ot,ut){return n.tspanData(ot,ut,P)}),$t=Rt.enter().append("tspan").merge(Rt).text(function(ot){return ot.splitted});Rt.exit().remove();var Et=T.selectAll(".domain").data([0]),mt=Et.enter().append("path").merge(Et).attr("class","domain");switch(n.orient){case"bottom":q=n.axisX,yt.attr("x1",Z).attr("x2",Z).attr("y2",function(ot,ut){return n.lineY2(ot,ut)}),Pt.attr("x",0).attr("y",function(ot,ut){return n.textY(ot,ut)}).attr("transform",function(ot,ut){return n.textTransform(ot,ut)}).style("text-anchor",function(ot,ut){return n.textTextAnchor(ot,ut)}),$t.attr("x",0).attr("dy",function(ot,ut){return n.tspanDy(ot,ut)}).attr("dx",function(ot,ut){return n.tspanDx(ot,ut)}),mt.attr("d","M"+n.range[0]+","+n.outerTickSize+"V0H"+n.range[1]+"V"+n.outerTickSize);break;case"top":q=n.axisX,yt.attr("x1",Z).attr("x2",Z).attr("y2",function(ot,ut){return-1*n.lineY2(ot,ut)}),Pt.attr("x",0).attr("y",function(ot,ut){return-1*n.textY(ot,ut)-(s.isCategory?2:n.tickLength-2)}).attr("transform",function(ot,ut){return n.textTransform(ot,ut)}).style("text-anchor",function(ot,ut){return n.textTextAnchor(ot,ut)}),$t.attr("x",0).attr("dy",function(ot,ut){return n.tspanDy(ot,ut)}).attr("dx",function(ot,ut){return n.tspanDx(ot,ut)}),mt.attr("d","M"+n.range[0]+","+-n.outerTickSize+"V0H"+n.range[1]+"V"+-n.outerTickSize);break;case"left":q=n.axisY,yt.attr("x2",-n.innerTickSize).attr("y1",tt).attr("y2",tt),Pt.attr("x",-n.tickLength).attr("y",n.tickOffset).style("text-anchor","end"),$t.attr("x",-n.tickLength).attr("dy",function(ot,ut){return n.tspanDy(ot,ut)}),mt.attr("d","M"+-n.outerTickSize+","+n.range[0]+"H0V"+n.range[1]+"H"+-n.outerTickSize);break;case"right":q=n.axisY,yt.attr("x2",n.innerTickSize).attr("y1",tt).attr("y2",tt),Pt.attr("x",n.tickLength).attr("y",n.tickOffset).style("text-anchor","start"),$t.attr("x",n.tickLength).attr("dy",function(ot,ut){return n.tspanDy(ot,ut)}),mt.attr("d","M"+n.outerTickSize+","+n.range[0]+"H0V"+n.range[1]+"H"+n.outerTickSize)}if(P.rangeBand){var Ht=P,gt=Ht.rangeBand()/2;O=P=function(ot){return Ht(ot)+gt}}else O.rangeBand?O=P:z.call(q,P,n.tickOffset);Y.call(q,O,n.tickOffset),w=(y?X.transition(y):X).style("opacity",1).call(q,P,n.tickOffset)}),w}return u.scale=function(g){return arguments.length?(n.scale=g,u):n.scale},u.orient=function(g){return arguments.length?(n.orient=g in{top:1,right:1,bottom:1,left:1}?g+"":"bottom",u):n.orient},u.tickFormat=function(g){return arguments.length?(n.tickFormat=g,u):n.tickFormat},u.tickCentered=function(g){return arguments.length?(n.tickCentered=g,u):n.tickCentered},u.tickOffset=function(){return n.tickOffset},u.tickInterval=function(){var g;return(g=s.isCategory?2*n.tickOffset:(u.g.select("path.domain").node().getTotalLength()-2*n.outerTickSize)/u.g.selectAll("line").size())==1/0?0:g},u.ticks=function(){return arguments.length?(n.tickArguments=arguments,u):n.tickArguments},u.tickCulling=function(g){return arguments.length?(n.tickCulling=g,u):n.tickCulling},u.tickValues=function(g){if("function"==typeof g)n.tickValues=function(){return g(n.scale.domain())};else{if(!arguments.length)return n.tickValues;n.tickValues=g}return u},u};var L={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",dragZoom:"c3-drag-zoom",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",title:"c3-title",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcLabelLine:"c3-arc-label-line",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",colorScale:"c3-colorscale",stanfordElements:"c3-stanford-elements",stanfordLine:"c3-stanford-line",stanfordLines:"c3-stanford-lines",stanfordRegion:"c3-stanford-region",stanfordRegions:"c3-stanford-regions",stanfordText:"c3-stanford-text",stanfordTexts:"c3-stanford-texts",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"},_t=function(){return function n(r){this.owner=r,this.d3=r.d3,this.internal=ht}}(),et=_t;et.prototype.init=function(){var r=this.owner,s=r.config,u=r.main;r.axes.x=u.append("g").attr("class",L.axis+" "+L.axisX).attr("clip-path",s.axis_x_inner?"":r.clipPathForXAxis).attr("transform",r.getTranslate("x")).style("visibility",s.axis_x_show?"visible":"hidden"),r.axes.x.append("text").attr("class",L.axisXLabel).attr("transform",s.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this)),r.axes.y=u.append("g").attr("class",L.axis+" "+L.axisY).attr("clip-path",s.axis_y_inner?"":r.clipPathForYAxis).attr("transform",r.getTranslate("y")).style("visibility",s.axis_y_show?"visible":"hidden"),r.axes.y.append("text").attr("class",L.axisYLabel).attr("transform",s.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this)),r.axes.y2=u.append("g").attr("class",L.axis+" "+L.axisY2).attr("transform",r.getTranslate("y2")).style("visibility",s.axis_y2_show?"visible":"hidden"),r.axes.y2.append("text").attr("class",L.axisY2Label).attr("transform",s.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))},et.prototype.getXAxis=function(r,s,u,g,y,w,T){var O=this.owner,P=O.config,V={isCategory:O.isCategorized(),withOuterTick:y,tickMultiline:P.axis_x_tick_multiline,tickMultilineMax:P.axis_x_tick_multiline?Number(P.axis_x_tick_multilineMax):0,tickWidth:P.axis_x_tick_width,tickTextRotate:T?0:P.axis_x_tick_rotate,withoutTransition:w},G=new this.internal(this,V).axis.scale(r).orient(s);return O.isTimeSeries()&&g&&"function"!=typeof g&&(g=g.map(function(Y){return O.parseDate(Y)})),G.tickFormat(u).tickValues(g),O.isCategorized()&&(G.tickCentered(P.axis_x_tick_centered),Qn(P.axis_x_tick_culling)&&(P.axis_x_tick_culling=!1)),G},et.prototype.updateXAxisTickValues=function(r,s){var y,u=this.owner,g=u.config;return(g.axis_x_tick_fit||g.axis_x_tick_count)&&(y=this.generateTickValues(u.mapTargetsToUniqueXs(r),g.axis_x_tick_count,u.isTimeSeries())),s?s.tickValues(y):(u.xAxis.tickValues(y),u.subXAxis.tickValues(y)),y},et.prototype.getYAxis=function(r,s,u,g,y,w,T){var O=this.owner,P=O.config,V=P["axis_"+r+"_tick_format"];!V&&O.isAxisNormalized(r)&&(V=function(Y){return Y+"%"});var G=new this.internal(this,{withOuterTick:y,withoutTransition:w,tickTextRotate:T?0:P.axis_y_tick_rotate}).axis.scale(s).orient(u);return V&&G.tickFormat(V),O.isTimeSeriesY()?G.ticks(P.axis_y_tick_time_type,P.axis_y_tick_time_interval):G.tickValues(g),G},et.prototype.getId=function(r){var s=this.owner.config;return r in s.data_axes?s.data_axes[r]:"y"},et.prototype.getXAxisTickFormat=function(){var r=this.owner,s=r.config,u=r.isTimeSeries()?r.defaultAxisTimeFormat:r.isCategorized()?r.categoryName:function(g){return g};return s.axis_x_tick_format&&(ne(s.axis_x_tick_format)?u=s.axis_x_tick_format:r.isTimeSeries()&&(u=function(g){return g?r.axisTimeFormat(s.axis_x_tick_format)(g):""})),ne(u)?function(g){return u.call(r,g)}:u},et.prototype.getTickValues=function(r,s){return r||(s?s.tickValues():void 0)},et.prototype.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},et.prototype.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},et.prototype.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},et.prototype.getLabelOptionByAxisId=function(r){var g,u=this.owner.config;return"y"===r?g=u.axis_y_label:"y2"===r?g=u.axis_y2_label:"x"===r&&(g=u.axis_x_label),g},et.prototype.getLabelText=function(r){var s=this.getLabelOptionByAxisId(r);return oe(s)?s:s?s.text:null},et.prototype.setLabelText=function(r,s){var g=this.owner.config,y=this.getLabelOptionByAxisId(r);oe(y)?"y"===r?g.axis_y_label=s:"y2"===r?g.axis_y2_label=s:"x"===r&&(g.axis_x_label=s):y&&(y.text=s)},et.prototype.getLabelPosition=function(r,s){var u=this.getLabelOptionByAxisId(r),g=u&&"object"==typeof u&&u.position?u.position:s;return{isInner:g.indexOf("inner")>=0,isOuter:g.indexOf("outer")>=0,isLeft:g.indexOf("left")>=0,isCenter:g.indexOf("center")>=0,isRight:g.indexOf("right")>=0,isTop:g.indexOf("top")>=0,isMiddle:g.indexOf("middle")>=0,isBottom:g.indexOf("bottom")>=0}},et.prototype.getXAxisLabelPosition=function(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")},et.prototype.getYAxisLabelPosition=function(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")},et.prototype.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")},et.prototype.getLabelPositionById=function(r){return"y2"===r?this.getY2AxisLabelPosition():"y"===r?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},et.prototype.textForXAxisLabel=function(){return this.getLabelText("x")},et.prototype.textForYAxisLabel=function(){return this.getLabelText("y")},et.prototype.textForY2AxisLabel=function(){return this.getLabelText("y2")},et.prototype.xForAxisLabel=function(r,s){var u=this.owner;return r?s.isLeft?0:s.isCenter?u.width/2:u.width:s.isBottom?-u.height:s.isMiddle?-u.height/2:0},et.prototype.dxForAxisLabel=function(r,s){return r?s.isLeft?"0.5em":s.isRight?"-0.5em":"0":s.isTop?"-0.5em":s.isBottom?"0.5em":"0"},et.prototype.textAnchorForAxisLabel=function(r,s){return r?s.isLeft?"start":s.isCenter?"middle":"end":s.isBottom?"start":s.isMiddle?"middle":"end"},et.prototype.xForXAxisLabel=function(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},et.prototype.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},et.prototype.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},et.prototype.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},et.prototype.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},et.prototype.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},et.prototype.dyForXAxisLabel=function(){var r=this.owner,s=r.config,u=this.getXAxisLabelPosition();return s.axis_rotated?u.isInner?"1.2em":-25-(r.config.axis_x_inner?0:this.getMaxTickWidth("x")):u.isInner?"-0.5em":r.getHorizontalAxisHeight("x")-10},et.prototype.dyForYAxisLabel=function(){var r=this.owner,s=this.getYAxisLabelPosition();return r.config.axis_rotated?s.isInner?"-0.5em":"3em":s.isInner?"1.2em":-10-(r.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},et.prototype.dyForY2AxisLabel=function(){var r=this.owner,s=this.getY2AxisLabelPosition();return r.config.axis_rotated?s.isInner?"1.2em":"-2.2em":s.isInner?"-0.5em":15+(r.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},et.prototype.textAnchorForXAxisLabel=function(){return this.textAnchorForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},et.prototype.textAnchorForYAxisLabel=function(){return this.textAnchorForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},et.prototype.textAnchorForY2AxisLabel=function(){return this.textAnchorForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},et.prototype.getMaxTickWidth=function(r,s){var y,w,T,O,u=this.owner,g=0;return s&&u.currentMaxTickWidths[r]||(u.svg&&(y=u.filterTargetsToShow(u.data.targets),"y"===r?(w=u.y.copy().domain(u.getYDomain(y,"y")),T=this.getYAxis(r,w,u.yOrient,u.yAxisTickValues,!1,!0,!0)):"y2"===r?(w=u.y2.copy().domain(u.getYDomain(y,"y2")),T=this.getYAxis(r,w,u.y2Orient,u.y2AxisTickValues,!1,!0,!0)):(w=u.x.copy().domain(u.getXDomain(y)),T=this.getXAxis(w,u.xOrient,u.xAxisTickFormat,u.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(y,T)),(O=u.d3.select("body").append("div").classed("c3",!0)).append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0).append("g").call(T).each(function(){u.d3.select(this).selectAll("text").each(function(){var V=Je(this);g<V.width&&(g=V.width)}),O.remove()})),u.currentMaxTickWidths[r]=g<=0?u.currentMaxTickWidths[r]:g),u.currentMaxTickWidths[r]},et.prototype.updateLabels=function(r){var s=this.owner,u=s.main.select("."+L.axisX+" ."+L.axisXLabel),g=s.main.select("."+L.axisY+" ."+L.axisYLabel),y=s.main.select("."+L.axisY2+" ."+L.axisY2Label);(r?u.transition():u).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),(r?g.transition():g).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(r?y.transition():y).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},et.prototype.getPadding=function(r,s,u,g){var y="number"==typeof r?r:r[s];return vt(y)?"ratio"===r.unit?r[s]*g:this.convertPixelsToAxisPadding(y,g):u},et.prototype.convertPixelsToAxisPadding=function(r,s){var u=this.owner;return s*(r/(u.config.axis_rotated?u.width:u.height))},et.prototype.generateTickValues=function(r,s,u){var y,w,T,O,P,V,G,g=r;if(s)if(1===(y=ne(s)?s():s))g=[r[0]];else if(2===y)g=[r[0],r[r.length-1]];else if(y>2){for(P=((T=r[r.length-1])-(w=r[0]))/(1+(O=y-2)),g=[w],V=0;V<O;V++)G=+w+P*(V+1),g.push(u?new Date(G):G);g.push(T)}return u||(g=g.sort(function(Y,z){return Y-z})),g},et.prototype.generateTransitions=function(r){var u=this.owner.axes;return{axisX:r?u.x.transition().duration(r):u.x,axisY:r?u.y.transition().duration(r):u.y,axisY2:r?u.y2.transition().duration(r):u.y2,axisSubX:r?u.subx.transition().duration(r):u.subx}},et.prototype.redraw=function(r,s){var u=this.owner,g=r?u.d3.transition().duration(r):null;u.axes.x.style("opacity",s?0:1).call(u.xAxis,g),u.axes.y.style("opacity",s?0:1).call(u.yAxis,g),u.axes.y2.style("opacity",s?0:1).call(u.y2Axis,g),u.axes.subx.style("opacity",s?0:1).call(u.subXAxis,g)};var St={version:"0.7.20",chart:{fn:nt.prototype,internal:{fn:x.prototype,axis:{fn:_t.prototype,internal:{fn:ht.prototype}}}},generate:function(n){return new nt(n)}};function Ut(n,r,s){var u=[.01,10];function y(w){return s(r(w))}return r||(r=n.scaleLinear()).range(u),s||((s=n.scaleLog()).domain(u),s.nice()),y.domain=function(w){return arguments.length?(r.domain(w),y):r.domain()},y.range=function(w){return arguments.length?(s.range(w),y):s.range()},y.ticks=function(w){return function g(w,T,O){var P,V,G,Y;if(arguments.length<3)O=10;else if(0===O)return[];Y=(T-w)/(V=O-1),G=w,(P=new Array(O))[0]=Math.pow(10,G);for(var z=1;z<V;z++)G+=Y,P[z]=Math.pow(10,G);return P[V]=Math.pow(10,T),P}(-2,1,w||10).map(function(T){return r.invert(T)})},y.copy=function(){return Ut(n,r.copy(),s.copy())},y}function Ie(n){return n/Math.pow(10,Math.ceil(Math.log(n)/Math.LN10-1e-12))==1}x.prototype.beforeInit=function(){},x.prototype.afterInit=function(){},x.prototype.init=function(){var n=this,r=n.config;if(n.initParams(),r.data_url)n.convertUrlToData(r.data_url,r.data_mimeType,r.data_headers,r.data_keys,n.initWithData);else if(r.data_json)n.initWithData(n.convertJsonToData(r.data_json,r.data_keys));else if(r.data_rows)n.initWithData(n.convertRowsToData(r.data_rows));else{if(!r.data_columns)throw Error("url or json or rows or columns is required.");n.initWithData(n.convertColumnsToData(r.data_columns))}},x.prototype.initParams=function(){var n=this,r=n.d3,s=n.config;n.clipId="c3-"+(new Date).valueOf()+"-clip",n.clipIdForXAxis=n.clipId+"-xaxis",n.clipIdForYAxis=n.clipId+"-yaxis",n.clipIdForGrid=n.clipId+"-grid",n.clipIdForSubchart=n.clipId+"-subchart",n.clipPath=n.getClipPath(n.clipId),n.clipPathForXAxis=n.getClipPath(n.clipIdForXAxis),n.clipPathForYAxis=n.getClipPath(n.clipIdForYAxis),n.clipPathForGrid=n.getClipPath(n.clipIdForGrid),n.clipPathForSubchart=n.getClipPath(n.clipIdForSubchart),n.dragStart=null,n.dragging=!1,n.flowing=!1,n.cancelClick=!1,n.mouseover=void 0,n.transiting=!1,n.color=n.generateColor(),n.levelColor=n.generateLevelColor(),n.dataTimeParse=(s.data_xLocaltime?r.timeParse:r.utcParse)(n.config.data_xFormat),n.axisTimeFormat=s.axis_x_localtime?r.timeFormat:r.utcFormat,n.defaultAxisTimeFormat=function(u){return u.getMilliseconds()?r.timeFormat(".%L")(u):u.getSeconds()?r.timeFormat(":%S")(u):u.getMinutes()?r.timeFormat("%I:%M")(u):u.getHours()?r.timeFormat("%I %p")(u):u.getDay()&&1!==u.getDate()||1!==u.getDate()||u.getMonth()?r.timeFormat("%-m/%-d")(u):r.timeFormat("%Y/%-m/%-d")(u)},n.hiddenTargetIds=[],n.hiddenLegendIds=[],n.focusedTargetIds=[],n.defocusedTargetIds=[],n.xOrient=s.axis_rotated?s.axis_x_inner?"right":"left":s.axis_x_inner?"top":"bottom",n.yOrient=s.axis_rotated?s.axis_y_inner?"top":"bottom":s.axis_y_inner?"right":"left",n.y2Orient=s.axis_rotated?s.axis_y2_inner?"bottom":"top":s.axis_y2_inner?"left":"right",n.subXOrient=s.axis_rotated?"left":"bottom",n.isLegendRight="right"===s.legend_position,n.isLegendInset="inset"===s.legend_position,n.isLegendTop="top-left"===s.legend_inset_anchor||"top-right"===s.legend_inset_anchor,n.isLegendLeft="top-left"===s.legend_inset_anchor||"bottom-left"===s.legend_inset_anchor,n.legendStep=0,n.legendItemWidth=0,n.legendItemHeight=0,n.currentMaxTickWidths={x:0,y:0,y2:0},n.rotated_padding_left=30,n.rotated_padding_right=s.axis_rotated&&!s.axis_x_show?0:30,n.rotated_padding_top=5,n.withoutFadeIn={},n.intervalForObserveInserted=void 0,n.axes.subx=r.selectAll([])},x.prototype.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},x.prototype.initWithData=function(n){var g,y,r=this,s=r.d3,u=r.config,w=!0;r.axis=new _t(r),r.selectChart=u.bindto?"function"==typeof u.bindto.node?u.bindto:s.select(u.bindto):s.selectAll([]),r.selectChart.empty()&&(r.selectChart=s.select(document.createElement("div")).style("opacity",0),r.observeInserted(r.selectChart),w=!1),r.selectChart.html("").classed("c3",!0),r.data.xs={},r.data.targets=r.convertDataToTargets(n),u.data_filter&&(r.data.targets=r.data.targets.filter(u.data_filter)),u.data_hide&&r.addHiddenTargetIds(!0===u.data_hide?r.mapToIds(r.data.targets):u.data_hide),u.legend_hide&&r.addHiddenLegendIds(!0===u.legend_hide?r.mapToIds(r.data.targets):u.legend_hide),r.isStanfordGraphType()&&r.initStanfordData(),r.updateSizes(),r.updateScales(),r.x.domain(s.extent(r.getXDomain(r.data.targets))),r.y.domain(r.getYDomain(r.data.targets,"y")),r.y2.domain(r.getYDomain(r.data.targets,"y2")),r.subX.domain(r.x.domain()),r.subY.domain(r.y.domain()),r.subY2.domain(r.y2.domain()),r.orgXDomain=r.x.domain(),r.svg=r.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return u.onmouseover.call(r)}).on("mouseleave",function(){return u.onmouseout.call(r)}),r.config.svg_classname&&r.svg.attr("class",r.config.svg_classname),g=r.svg.append("defs"),r.clipChart=r.appendClip(g,r.clipId),r.clipXAxis=r.appendClip(g,r.clipIdForXAxis),r.clipYAxis=r.appendClip(g,r.clipIdForYAxis),r.clipGrid=r.appendClip(g,r.clipIdForGrid),r.clipSubchart=r.appendClip(g,r.clipIdForSubchart),r.updateSvgSize(),y=r.main=r.svg.append("g").attr("transform",r.getTranslate("main")),r.initPie&&r.initPie(),r.initDragZoom&&r.initDragZoom(),u.subchart_show&&r.initSubchart&&r.initSubchart(),r.initTooltip&&r.initTooltip(),r.initLegend&&r.initLegend(),r.initTitle&&r.initTitle(),r.initZoom&&r.initZoom(),r.isStanfordGraphType()&&r.drawColorScale(),u.subchart_show&&r.initSubchartBrush&&r.initSubchartBrush(),y.append("text").attr("class",L.text+" "+L.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),r.initRegion(),r.initGrid(),y.append("g").attr("clip-path",r.clipPath).attr("class",L.chart),u.grid_lines_front&&r.initGridLines(),r.initStanfordElements(),r.initEventRect(),r.initChartElements(),r.axis.init(),r.updateTargets(r.data.targets),u.axis_x_selection&&r.brush.selectionAsValue(r.getDefaultSelection()),w&&(r.updateDimension(),r.config.oninit.call(r),r.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),r.bindResize(),r.bindWindowFocus(),r.api.element=r.selectChart.node()},x.prototype.smoothLines=function(n,r){var s=this;"grid"===r&&n.each(function(){var u=s.d3.select(this),g=u.attr("x1"),y=u.attr("x2"),w=u.attr("y1"),T=u.attr("y2");u.attr({x1:Math.ceil(g),x2:Math.ceil(y),y1:Math.ceil(w),y2:Math.ceil(T)})})},x.prototype.updateSizes=function(){var n=this,r=n.config,s=n.legend?n.getLegendHeight():0,u=n.legend?n.getLegendWidth():0,g=n.isLegendRight||n.isLegendInset?0:s,y=n.hasArcType(),w=r.axis_rotated||y?0:n.getHorizontalAxisHeight("x"),T=r.axis_rotated||y?0:n.getHorizontalAxisHeight("x",!0),O=r.subchart_show&&!y?r.subchart_size_height+T:0;n.currentWidth=n.getCurrentWidth(),n.currentHeight=n.getCurrentHeight(),n.margin=r.axis_rotated?{top:n.getHorizontalAxisHeight("y2")+n.getCurrentPaddingTop(),right:y?0:n.getCurrentPaddingRight(),bottom:n.getHorizontalAxisHeight("y")+g+n.getCurrentPaddingBottom(),left:O+(y?0:n.getCurrentPaddingLeft())}:{top:4+n.getCurrentPaddingTop(),right:y?0:n.getCurrentPaddingRight(),bottom:w+O+g+n.getCurrentPaddingBottom(),left:y?0:n.getCurrentPaddingLeft()},n.margin2=r.axis_rotated?{top:n.margin.top,right:NaN,bottom:20+g,left:n.rotated_padding_left}:{top:n.currentHeight-O-g,right:NaN,bottom:T+g,left:n.margin.left},n.margin3={top:0,right:NaN,bottom:0,left:0},n.updateSizeForLegend&&n.updateSizeForLegend(s,u),n.width=n.currentWidth-n.margin.left-n.margin.right,n.height=n.currentHeight-n.margin.top-n.margin.bottom,n.width<0&&(n.width=0),n.height<0&&(n.height=0),n.width2=r.axis_rotated?n.margin.left-n.rotated_padding_left-n.rotated_padding_right:n.width,n.height2=r.axis_rotated?n.height:n.currentHeight-n.margin2.top-n.margin2.bottom,n.width2<0&&(n.width2=0),n.height2<0&&(n.height2=0),n.arcWidth=n.width-(n.isLegendRight?u+10:0),n.arcHeight=n.height-(n.isLegendRight?0:10),n.hasType("gauge")&&!r.gauge_fullCircle&&(n.arcHeight+=n.height-n.getGaugeLabelHeight()),n.updateRadius&&n.updateRadius(),n.isLegendRight&&y&&(n.margin3.left=n.arcWidth/2+1.1*n.radiusExpanded)},x.prototype.updateTargets=function(n){var r=this,s=r.config;r.updateTargetsForText(n),r.updateTargetsForBar(n),r.updateTargetsForLine(n),r.hasArcType()&&r.updateTargetsForArc&&r.updateTargetsForArc(n),s.subchart_show&&r.updateTargetsForSubchart&&r.updateTargetsForSubchart(n),r.showTargets()},x.prototype.showTargets=function(){var n=this;n.svg.selectAll("."+L.target).filter(function(r){return n.isTargetToShow(r.id)}).transition().duration(n.config.transition_duration).style("opacity",1)},x.prototype.redraw=function(n,r){var P,V,G,Y,z,X,q,Z,tt,yt,Pt,Rt,Mt,Et,mt,Ht,gt,ot,ut,qt,se,he,te,ce,ye,J,xt,He,dn,gn,Ue,s=this,u=s.main,g=s.d3,y=s.config,w=s.getShapeIndices(s.isAreaType),T=s.getShapeIndices(s.isBarType),O=s.getShapeIndices(s.isLineType),$t=s.hasArcType(),Bt=s.filterTargetsToShow(s.data.targets),or=s.xv.bind(s);if(P=Yt(n=n||{},"withY",!0),V=Yt(n,"withSubchart",!0),G=Yt(n,"withTransition",!0),X=Yt(n,"withTransform",!1),q=Yt(n,"withUpdateXDomain",!1),Z=Yt(n,"withUpdateOrgXDomain",!1),tt=Yt(n,"withTrimXDomain",!0),Mt=Yt(n,"withUpdateXAxis",q),yt=Yt(n,"withLegend",!1),Pt=Yt(n,"withEventRect",!0),Rt=Yt(n,"withDimension",!0),Y=Yt(n,"withTransitionForExit",G),z=Yt(n,"withTransitionForAxis",G),ut=G?y.transition_duration:0,qt=Y?ut:0,se=z?ut:0,r=r||s.axis.generateTransitions(se),yt&&y.legend_show?s.updateLegend(s.mapToIds(s.data.targets),n,r):Rt&&s.updateDimension(!0),s.isCategorized()&&0===Bt.length&&s.x.domain([0,s.axes.x.selectAll(".tick").size()]),Bt.length?(s.updateXDomain(Bt,q,Z,tt),y.axis_x_tick_values||(J=s.axis.updateXAxisTickValues(Bt))):(s.xAxis.tickValues([]),s.subXAxis.tickValues([])),y.zoom_rescale&&!n.flow&&(dn=s.x.orgDomain()),s.y.domain(s.getYDomain(Bt,"y",dn)),s.y2.domain(s.getYDomain(Bt,"y2",dn)),!y.axis_y_tick_values&&y.axis_y_tick_count&&s.yAxis.tickValues(s.axis.generateTickValues(s.y.domain(),y.axis_y_tick_count)),!y.axis_y2_tick_values&&y.axis_y2_tick_count&&s.y2Axis.tickValues(s.axis.generateTickValues(s.y2.domain(),y.axis_y2_tick_count)),s.axis.redraw(se,$t),s.axis.updateLabels(G),(q||Mt)&&Bt.length)if(y.axis_x_tick_culling&&J){for(xt=1;xt<J.length;xt++)if(J.length/xt<y.axis_x_tick_culling_max){He=xt;break}s.svg.selectAll("."+L.axisX+" .tick text").each(function(Ve){var pn=J.indexOf(Ve);pn>=0&&g.select(this).style("display",pn%He?"none":"block")})}else s.svg.selectAll("."+L.axisX+" .tick text").style("display","block");Et=s.generateDrawArea?s.generateDrawArea(w,!1):void 0,mt=s.generateDrawBar?s.generateDrawBar(T):void 0,Ht=s.generateDrawLine?s.generateDrawLine(O,!1):void 0,gt=s.generateXYForText(w,T,O,!0),ot=s.generateXYForText(w,T,O,!1),s.updateCircleY(),gn=(s.config.axis_rotated?s.circleY:s.circleX).bind(s),Ue=(s.config.axis_rotated?s.circleX:s.circleY).bind(s),P&&(s.subY.domain(s.getYDomain(Bt,"y")),s.subY2.domain(s.getYDomain(Bt,"y2"))),s.updateXgridFocus(),u.select("text."+L.text+"."+L.empty).attr("x",s.width/2).attr("y",s.height/2).text(y.data_empty_label_text).transition().style("opacity",Bt.length?0:1),Pt&&s.redrawEventRect(),s.updateGrid(ut),s.updateStanfordElements(ut),s.updateRegion(ut),s.updateBar(qt),s.updateLine(qt),s.updateArea(qt),s.updateCircle(gn,Ue),s.hasDataLabel()&&s.updateText(gt,ot,qt),s.redrawTitle&&s.redrawTitle(),s.redrawArc&&s.redrawArc(ut,qt,X),y.subchart_show&&s.redrawSubchart&&s.redrawSubchart(V,r,ut,qt,w,T,O),s.isStanfordGraphType()&&s.drawColorScale(),u.selectAll("."+L.selectedCircles).filter(s.isBarType.bind(s)).selectAll("circle").remove(),n.flow&&(ce=s.generateFlow({targets:Bt,flow:n.flow,duration:n.flow.duration,drawBar:mt,drawLine:Ht,drawArea:Et,cx:gn,cy:Ue,xv:or,xForText:gt,yForText:ot})),ut&&s.isTabVisible()?(ye=g.transition().duration(ut),he=[],[s.redrawBar(mt,!0,ye),s.redrawLine(Ht,!0,ye),s.redrawArea(Et,!0,ye),s.redrawCircle(gn,Ue,!0,ye),s.redrawText(gt,ot,n.flow,!0,ye),s.redrawRegion(!0,ye),s.redrawGrid(!0,ye)].forEach(function(Ve){Ve.forEach(function(pn){he.push(pn)})}),te=s.generateWait(),he.forEach(function(Ve){te.add(Ve)}),te(function(){ce&&ce(),y.onrendered&&y.onrendered.call(s)})):(s.redrawBar(mt),s.redrawLine(Ht),s.redrawArea(Et),s.redrawCircle(gn,Ue),s.redrawText(gt,ot,n.flow),s.redrawRegion(),s.redrawGrid(),ce&&ce(),y.onrendered&&y.onrendered.call(s)),s.mapToIds(s.data.targets).forEach(function(Ve){s.withoutFadeIn[Ve]=!0})},x.prototype.updateAndRedraw=function(n){var u,r=this,s=r.config;(n=n||{}).withTransition=Yt(n,"withTransition",!0),n.withTransform=Yt(n,"withTransform",!1),n.withLegend=Yt(n,"withLegend",!1),n.withUpdateXDomain=Yt(n,"withUpdateXDomain",!0),n.withUpdateOrgXDomain=Yt(n,"withUpdateOrgXDomain",!0),n.withTransitionForExit=!1,n.withTransitionForTransform=Yt(n,"withTransitionForTransform",n.withTransition),r.updateSizes(),n.withLegend&&s.legend_show||(u=r.axis.generateTransitions(n.withTransitionForAxis?s.transition_duration:0),r.updateScales(),r.updateSvgSize(),r.transformAll(n.withTransitionForTransform,u)),r.redraw(n,u)},x.prototype.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},x.prototype.isTimeSeries=function(){return"timeseries"===this.config.axis_x_type},x.prototype.isCategorized=function(){return this.config.axis_x_type.indexOf("categor")>=0},x.prototype.isCustomX=function(){var r=this.config;return!this.isTimeSeries()&&(r.data_x||fe(r.data_xs))},x.prototype.isTimeSeriesY=function(){return"timeseries"===this.config.axis_y_type},x.prototype.getTranslate=function(n){var u,g,r=this,s=r.config;return"main"===n?(u=Rn(r.margin.left),g=Rn(r.margin.top)):"context"===n?(u=Rn(r.margin2.left),g=Rn(r.margin2.top)):"legend"===n?(u=r.margin3.left,g=r.margin3.top):"x"===n?(u=0,g=s.axis_rotated?0:r.height):"y"===n?(u=0,g=s.axis_rotated?r.height:0):"y2"===n?(u=s.axis_rotated?0:r.width,g=s.axis_rotated?1:0):"subx"===n?(u=0,g=s.axis_rotated?0:r.height2):"arc"===n&&(u=r.arcWidth/2,g=r.arcHeight/2-(r.hasType("gauge")?6:0)),"translate("+u+","+g+")"},x.prototype.initialOpacity=function(n){return null!==n.value&&this.withoutFadeIn[n.id]?1:0},x.prototype.initialOpacityForCircle=function(n){return null!==n.value&&this.withoutFadeIn[n.id]?this.opacityForCircle(n):0},x.prototype.opacityForCircle=function(n){var s=(ne(this.config.point_show)?this.config.point_show(n):this.config.point_show)||this.isStanfordType(n)?1:0;return vt(n.value)?this.isScatterType(n)?.5:s:0},x.prototype.opacityForText=function(){return this.hasDataLabel()?1:0},x.prototype.xx=function(n){return n?this.x(n.x):null},x.prototype.xvCustom=function(n,r){var s=this,u=r?n[r]:n.value;return s.isTimeSeries()?u=s.parseDate(n.value):s.isCategorized()&&"string"==typeof n.value&&(u=s.config.axis_x_categories.indexOf(n.value)),Math.ceil(s.x(u))},x.prototype.yvCustom=function(n,r){return Math.ceil((n.axis&&"y2"===n.axis?this.y2:this.y)(r?n[r]:n.value))},x.prototype.xv=function(n){var r=this,s=n.value;return r.isTimeSeries()?s=r.parseDate(n.value):r.isCategorized()&&"string"==typeof n.value&&(s=r.config.axis_x_categories.indexOf(n.value)),Math.ceil(r.x(s))},x.prototype.yv=function(n){return Math.ceil((n.axis&&"y2"===n.axis?this.y2:this.y)(n.value))},x.prototype.subxx=function(n){return n?this.subX(n.x):null},x.prototype.transformMain=function(n,r){var u,g,y,s=this;r&&r.axisX?u=r.axisX:(u=s.main.select("."+L.axisX),n&&(u=u.transition())),r&&r.axisY?g=r.axisY:(g=s.main.select("."+L.axisY),n&&(g=g.transition())),r&&r.axisY2?y=r.axisY2:(y=s.main.select("."+L.axisY2),n&&(y=y.transition())),(n?s.main.transition():s.main).attr("transform",s.getTranslate("main")),u.attr("transform",s.getTranslate("x")),g.attr("transform",s.getTranslate("y")),y.attr("transform",s.getTranslate("y2")),s.main.select("."+L.chartArcs).attr("transform",s.getTranslate("arc"))},x.prototype.transformAll=function(n,r){var s=this;s.transformMain(n,r),s.config.subchart_show&&s.transformContext(n,r),s.legend&&s.transformLegend(n)},x.prototype.updateSvgSize=function(){var n=this,r=n.svg.select("."+L.brush+" .overlay");n.svg.attr("width",n.currentWidth).attr("height",n.currentHeight),n.svg.selectAll(["#"+n.clipId,"#"+n.clipIdForGrid]).select("rect").attr("width",n.width).attr("height",n.height),n.svg.select("#"+n.clipIdForXAxis).select("rect").attr("x",n.getXAxisClipX.bind(n)).attr("y",n.getXAxisClipY.bind(n)).attr("width",n.getXAxisClipWidth.bind(n)).attr("height",n.getXAxisClipHeight.bind(n)),n.svg.select("#"+n.clipIdForYAxis).select("rect").attr("x",n.getYAxisClipX.bind(n)).attr("y",n.getYAxisClipY.bind(n)).attr("width",n.getYAxisClipWidth.bind(n)).attr("height",n.getYAxisClipHeight.bind(n)),n.svg.select("#"+n.clipIdForSubchart).select("rect").attr("width",n.width).attr("height",r.size()&&r.attr("height")||0),n.selectChart.style("max-height",n.currentHeight+"px")},x.prototype.updateDimension=function(n){var r=this;n||(r.config.axis_rotated?(r.axes.x.call(r.xAxis),r.axes.subx.call(r.subXAxis)):(r.axes.y.call(r.yAxis),r.axes.y2.call(r.y2Axis))),r.updateSizes(),r.updateScales(),r.updateSvgSize(),r.transformAll(!1)},x.prototype.observeInserted=function(n){var s,r=this;typeof MutationObserver>"u"?window.console.error("MutationObserver not defined."):(s=new MutationObserver(function(u){u.forEach(function(g){"childList"===g.type&&g.previousSibling&&(s.disconnect(),r.intervalForObserveInserted=window.setInterval(function(){n.node().parentNode&&(window.clearInterval(r.intervalForObserveInserted),r.updateDimension(),r.brush&&r.brush.update(),r.config.oninit.call(r),r.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),n.transition().style("opacity",1))},10))})})).observe(n.node(),{attributes:!0,childList:!0,characterData:!0})},x.prototype.bindResize=function(){var n=this,r=n.config;n.resizeFunction=n.generateResize(),n.resizeFunction.add(function(){r.onresize.call(n)}),r.resize_auto&&n.resizeFunction.add(function(){void 0!==n.resizeTimeout&&window.clearTimeout(n.resizeTimeout),n.resizeTimeout=window.setTimeout(function(){delete n.resizeTimeout,n.updateAndRedraw({withUpdateXDomain:!1,withUpdateOrgXDomain:!1,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),n.brush&&n.brush.update()},100)}),n.resizeFunction.add(function(){r.onresized.call(n)}),n.resizeIfElementDisplayed=function(){null==n.api||!n.api.element.offsetParent||n.resizeFunction()},window.addEventListener("resize",n.resizeIfElementDisplayed,!1)},x.prototype.bindWindowFocus=function(){var n=this;this.windowFocusHandler||(this.windowFocusHandler=function(){n.redraw()},window.addEventListener("focus",this.windowFocusHandler))},x.prototype.unbindWindowFocus=function(){window.removeEventListener("focus",this.windowFocusHandler),delete this.windowFocusHandler},x.prototype.generateResize=function(){var n=[];function r(){n.forEach(function(s){s()})}return r.add=function(s){n.push(s)},r.remove=function(s){for(var u=0;u<n.length;u++)if(n[u]===s){n.splice(u,1);break}},r},x.prototype.endall=function(n,r){var s=0;n.each(function(){++s}).on("end",function(){--s||r.apply(this,arguments)})},x.prototype.generateWait=function(){var n=this,r=[],s=function(u){var g=setInterval(function(){if(n.isTabVisible()){var y=0;r.forEach(function(w){if(w.empty())y+=1;else try{w.transition()}catch{y+=1}}),y===r.length&&(clearInterval(g),u&&u())}},50)};return s.add=function(u){r.push(u)},s},x.prototype.parseDate=function(n){var s;return n instanceof Date?s=n:"string"==typeof n?s=this.dataTimeParse(n):("object"==typeof n||"number"==typeof n&&!isNaN(n))&&(s=new Date(+n)),(!s||isNaN(+s))&&window.console.error("Failed to parse x '"+n+"' to Date object"),s},x.prototype.isTabVisible=function(){return!document.hidden},x.prototype.getPathBox=da,x.prototype.CLASS=L,"SVGPathSeg"in window||(window.SVGPathSeg=function(n,r,s){this.pathSegType=n,this.pathSegTypeAsLetter=r,this._owningPathSegList=s},window.SVGPathSeg.prototype.classname="SVGPathSeg",window.SVGPathSeg.PATHSEG_UNKNOWN=0,window.SVGPathSeg.PATHSEG_CLOSEPATH=1,window.SVGPathSeg.PATHSEG_MOVETO_ABS=2,window.SVGPathSeg.PATHSEG_MOVETO_REL=3,window.SVGPathSeg.PATHSEG_LINETO_ABS=4,window.SVGPathSeg.PATHSEG_LINETO_REL=5,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,window.SVGPathSeg.PATHSEG_ARC_ABS=10,window.SVGPathSeg.PATHSEG_ARC_REL=11,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,window.SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CLOSEPATH,"z",n)},window.SVGPathSegClosePath.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},window.SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},window.SVGPathSegClosePath.prototype.clone=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathSegMovetoAbs=function(n,r,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_ABS,"M",n),this._x=r,this._y=s},window.SVGPathSegMovetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},window.SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoAbs.prototype.clone=function(){return new window.SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(n,r,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_REL,"m",n),this._x=r,this._y=s},window.SVGPathSegMovetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},window.SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoRel.prototype.clone=function(){return new window.SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(n,r,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_ABS,"L",n),this._x=r,this._y=s},window.SVGPathSegLinetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},window.SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoAbs.prototype.clone=function(){return new window.SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(n,r,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_REL,"l",n),this._x=r,this._y=s},window.SVGPathSegLinetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},window.SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoRel.prototype.clone=function(){return new window.SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(n,r,s,u,g,y,w){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",n),this._x=r,this._y=s,this._x1=u,this._y1=g,this._x2=y,this._y2=w},window.SVGPathSegCurvetoCubicAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},window.SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(n){this._x1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(n){this._y1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(n){this._x2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(n){this._y2=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(n,r,s,u,g,y,w){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",n),this._x=r,this._y=s,this._x1=u,this._y1=g,this._x2=y,this._y2=w},window.SVGPathSegCurvetoCubicRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},window.SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(n){this._x1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(n){this._y1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(n){this._x2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(n){this._y2=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(n,r,s,u,g){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",n),this._x=r,this._y=s,this._x1=u,this._y1=g},window.SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(n){this._x1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(n){this._y1=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(n,r,s,u,g){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",n),this._x=r,this._y=s,this._x1=u,this._y1=g},window.SVGPathSegCurvetoQuadraticRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(n){this._x1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(n){this._y1=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(n,r,s,u,g,y,w,T){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_ABS,"A",n),this._x=r,this._y=s,this._r1=u,this._r2=g,this._angle=y,this._largeArcFlag=w,this._sweepFlag=T},window.SVGPathSegArcAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},window.SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcAbs.prototype.clone=function(){return new window.SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(n){this._r1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(n){this._r2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(n){this._angle=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(n){this._largeArcFlag=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(n){this._sweepFlag=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(n,r,s,u,g,y,w,T){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_REL,"a",n),this._x=r,this._y=s,this._r1=u,this._r2=g,this._angle=y,this._largeArcFlag=w,this._sweepFlag=T},window.SVGPathSegArcRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},window.SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcRel.prototype.clone=function(){return new window.SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(n){this._r1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(n){this._r2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(n){this._angle=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(n){this._largeArcFlag=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(n){this._sweepFlag=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(n,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",n),this._x=r},window.SVGPathSegLinetoHorizontalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(n,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",n),this._x=r},window.SVGPathSegLinetoHorizontalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},window.SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(n,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",n),this._y=r},window.SVGPathSegLinetoVerticalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},window.SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(n,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",n),this._y=r},window.SVGPathSegLinetoVerticalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},window.SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(n,r,s,u,g){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",n),this._x=r,this._y=s,this._x2=u,this._y2=g},window.SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(n){this._x2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(n){this._y2=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(n,r,s,u,g){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",n),this._x=r,this._y=s,this._x2=u,this._y2=g},window.SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(n){this._x2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(n){this._y2=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(n,r,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",n),this._x=r,this._y=s},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(n,r,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",n),this._x=r,this._y=s},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(n,r){return new window.SVGPathSegMovetoAbs(void 0,n,r)},window.SVGPathElement.prototype.createSVGPathSegMovetoRel=function(n,r){return new window.SVGPathSegMovetoRel(void 0,n,r)},window.SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(n,r){return new window.SVGPathSegLinetoAbs(void 0,n,r)},window.SVGPathElement.prototype.createSVGPathSegLinetoRel=function(n,r){return new window.SVGPathSegLinetoRel(void 0,n,r)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(n,r,s,u,g,y){return new window.SVGPathSegCurvetoCubicAbs(void 0,n,r,s,u,g,y)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(n,r,s,u,g,y){return new window.SVGPathSegCurvetoCubicRel(void 0,n,r,s,u,g,y)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(n,r,s,u){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,n,r,s,u)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(n,r,s,u){return new window.SVGPathSegCurvetoQuadraticRel(void 0,n,r,s,u)},window.SVGPathElement.prototype.createSVGPathSegArcAbs=function(n,r,s,u,g,y,w){return new window.SVGPathSegArcAbs(void 0,n,r,s,u,g,y,w)},window.SVGPathElement.prototype.createSVGPathSegArcRel=function(n,r,s,u,g,y,w){return new window.SVGPathSegArcRel(void 0,n,r,s,u,g,y,w)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(n){return new window.SVGPathSegLinetoHorizontalAbs(void 0,n)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(n){return new window.SVGPathSegLinetoHorizontalRel(void 0,n)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(n){return new window.SVGPathSegLinetoVerticalAbs(void 0,n)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(n){return new window.SVGPathSegLinetoVerticalRel(void 0,n)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(n,r,s,u){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,n,r,s,u)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(n,r,s,u){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,n,r,s,u)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(n,r){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,n,r)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(n,r){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,n,r)},"getPathSegAtLength"in window.SVGPathElement.prototype||(window.SVGPathElement.prototype.getPathSegAtLength=function(n){if(void 0===n||!isFinite(n))throw"Invalid arguments.";var r=document.createElementNS("http://www.w3.org/2000/svg","path");r.setAttribute("d",this.getAttribute("d"));var s=r.pathSegList.numberOfItems-1;if(s<=0)return 0;do{if(r.pathSegList.removeItem(s),n>r.getTotalLength())break;s--}while(s>0);return s})),"SVGPathSegList"in window||(window.SVGPathSegList=function(n){this._pathElement=n,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(window.SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new window.SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),window.SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},window.SVGPathSegList.prototype._updateListFromPathMutations=function(n){if(this._pathElement){var r=!1;n.forEach(function(s){"d"==s.attributeName&&(r=!0)}),r&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))}},window.SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",window.SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.segmentChanged=function(n){this._writeListToPath()},window.SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach(function(n){n._owningPathSegList=null}),this._list=[],this._writeListToPath()},window.SVGPathSegList.prototype.initialize=function(n){return this._checkPathSynchronizedToList(),this._list=[n],n._owningPathSegList=this,this._writeListToPath(),n},window.SVGPathSegList.prototype._checkValidIndex=function(n){if(isNaN(n)||n<0||n>=this.numberOfItems)throw"INDEX_SIZE_ERR"},window.SVGPathSegList.prototype.getItem=function(n){return this._checkPathSynchronizedToList(),this._checkValidIndex(n),this._list[n]},window.SVGPathSegList.prototype.insertItemBefore=function(n,r){return this._checkPathSynchronizedToList(),r>this.numberOfItems&&(r=this.numberOfItems),n._owningPathSegList&&(n=n.clone()),this._list.splice(r,0,n),n._owningPathSegList=this,this._writeListToPath(),n},window.SVGPathSegList.prototype.replaceItem=function(n,r){return this._checkPathSynchronizedToList(),n._owningPathSegList&&(n=n.clone()),this._checkValidIndex(r),this._list[r]=n,n._owningPathSegList=this,this._writeListToPath(),n},window.SVGPathSegList.prototype.removeItem=function(n){this._checkPathSynchronizedToList(),this._checkValidIndex(n);var r=this._list[n];return this._list.splice(n,1),this._writeListToPath(),r},window.SVGPathSegList.prototype.appendItem=function(n){return this._checkPathSynchronizedToList(),n._owningPathSegList&&(n=n.clone()),this._list.push(n),n._owningPathSegList=this,this._writeListToPath(),n},window.SVGPathSegList._pathSegArrayAsString=function(n){var r="",s=!0;return n.forEach(function(u){s?(s=!1,r+=u._asPathString()):r+=" "+u._asPathString()}),r},window.SVGPathSegList.prototype._parsePath=function(n){if(!n||0==n.length)return[];var r=this,s=function(){this.pathSegList=[]};s.prototype.appendSegment=function(T){this.pathSegList.push(T)};var u=function(T){this._string=T,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=window.SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};u.prototype._isCurrentSpace=function(){var T=this._string[this._currentIndex];return T<=" "&&(" "==T||"\n"==T||"\t"==T||"\r"==T||"\f"==T)},u.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},u.prototype._skipOptionalSpacesOrDelimiter=function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!=this._string.charAt(this._currentIndex))&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","==this._string.charAt(this._currentIndex)&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},u.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},u.prototype.peekSegmentType=function(){return this._pathSegTypeFromChar(this._string[this._currentIndex])},u.prototype._pathSegTypeFromChar=function(T){switch(T){case"Z":case"z":return window.SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return window.SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return window.SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return window.SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return window.SVGPathSeg.PATHSEG_LINETO_REL;case"C":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return window.SVGPathSeg.PATHSEG_ARC_ABS;case"a":return window.SVGPathSeg.PATHSEG_ARC_REL;case"H":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return window.SVGPathSeg.PATHSEG_UNKNOWN}},u.prototype._nextCommandHelper=function(T,O){return("+"==T||"-"==T||"."==T||T>="0"&&T<="9")&&O!=window.SVGPathSeg.PATHSEG_CLOSEPATH?O==window.SVGPathSeg.PATHSEG_MOVETO_ABS?window.SVGPathSeg.PATHSEG_LINETO_ABS:O==window.SVGPathSeg.PATHSEG_MOVETO_REL?window.SVGPathSeg.PATHSEG_LINETO_REL:O:window.SVGPathSeg.PATHSEG_UNKNOWN},u.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var T=this.peekSegmentType();return T==window.SVGPathSeg.PATHSEG_MOVETO_ABS||T==window.SVGPathSeg.PATHSEG_MOVETO_REL},u.prototype._parseNumber=function(){var T=0,O=0,P=1,V=0,G=1,Y=1,z=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:this._currentIndex<this._endIndex&&"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,G=-1),!(this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")&&"."!=this._string.charAt(this._currentIndex))){for(var X=this._currentIndex;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=X)for(var q=this._currentIndex-1,Z=1;q>=X;)O+=Z*(this._string.charAt(q--)-"0"),Z*=10;if(this._currentIndex<this._endIndex&&"."==this._string.charAt(this._currentIndex)){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)P*=10,V+=(this._string.charAt(this._currentIndex)-"0")/P,this._currentIndex+=1}if(this._currentIndex!=z&&this._currentIndex+1<this._endIndex&&("e"==this._string.charAt(this._currentIndex)||"E"==this._string.charAt(this._currentIndex))&&"x"!=this._string.charAt(this._currentIndex+1)&&"m"!=this._string.charAt(this._currentIndex+1)){if(this._currentIndex++,"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,Y=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)T*=10,T+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}var tt=O+V;if(tt*=G,T&&(tt*=Math.pow(10,Y*T)),z!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),tt}},u.prototype._parseArcFlag=function(){if(!(this._currentIndex>=this._endIndex)){var T=!1,O=this._string.charAt(this._currentIndex++);if("0"==O)T=!1;else{if("1"!=O)return;T=!0}return this._skipOptionalSpacesOrDelimiter(),T}},u.prototype.parseSegment=function(){var T=this._string[this._currentIndex],O=this._pathSegTypeFromChar(T);if(O==window.SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==window.SVGPathSeg.PATHSEG_UNKNOWN||(O=this._nextCommandHelper(T,this._previousCommand))==window.SVGPathSeg.PATHSEG_UNKNOWN)return null}else this._currentIndex++;switch(this._previousCommand=O,O){case window.SVGPathSeg.PATHSEG_MOVETO_REL:return new window.SVGPathSegMovetoRel(r,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_MOVETO_ABS:return new window.SVGPathSegMovetoAbs(r,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_REL:return new window.SVGPathSegLinetoRel(r,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_ABS:return new window.SVGPathSegLinetoAbs(r,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new window.SVGPathSegLinetoHorizontalRel(r,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new window.SVGPathSegLinetoHorizontalAbs(r,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new window.SVGPathSegLinetoVerticalRel(r,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new window.SVGPathSegLinetoVerticalAbs(r,this._parseNumber());case window.SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new window.SVGPathSegClosePath(r);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var P={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicRel(r,P.x,P.y,P.x1,P.y1,P.x2,P.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:return P={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicAbs(r,P.x,P.y,P.x1,P.y1,P.x2,P.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:return P={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothRel(r,P.x,P.y,P.x2,P.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:return P={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothAbs(r,P.x,P.y,P.x2,P.y2);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:return P={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticRel(r,P.x,P.y,P.x1,P.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:return P={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticAbs(r,P.x,P.y,P.x1,P.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new window.SVGPathSegCurvetoQuadraticSmoothRel(r,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new window.SVGPathSegCurvetoQuadraticSmoothAbs(r,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_ARC_REL:return P={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcRel(r,P.x,P.y,P.x1,P.y1,P.arcAngle,P.arcLarge,P.arcSweep);case window.SVGPathSeg.PATHSEG_ARC_ABS:return P={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcAbs(r,P.x,P.y,P.x1,P.y1,P.arcAngle,P.arcLarge,P.arcSweep);default:throw"Unknown path seg type."}};var g=new s,y=new u(n);if(!y.initialCommandIsMoveTo())return[];for(;y.hasMoreData();){var w=y.parseSegment();if(!w)return[];g.appendSegment(w)}return g.pathSegList}),String.prototype.padEnd||(String.prototype.padEnd=function(r,s){return r>>=0,s=String(typeof s<"u"?s:" "),this.length>r?String(this):((r-=this.length)>s.length&&(s+=s.repeat(r/s.length)),String(this)+s.slice(0,r))}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(r,s){if(null==r)throw new TypeError("Cannot convert undefined or null to object");for(var u=Object(r),g=1;g<arguments.length;g++){var y=arguments[g];if(null!=y)for(var w in y)Object.prototype.hasOwnProperty.call(y,w)&&(u[w]=y[w])}return u},writable:!0,configurable:!0}),(nt.prototype.axis=function(){}).labels=function(n){var r=this.internal;arguments.length&&(Object.keys(n).forEach(function(s){r.axis.setLabelText(s,n[s])}),r.axis.updateLabels())},nt.prototype.axis.max=function(n){var r=this.internal,s=r.config;if(!arguments.length)return{x:s.axis_x_max,y:s.axis_y_max,y2:s.axis_y2_max};"object"==typeof n?(vt(n.x)&&(s.axis_x_max=n.x),vt(n.y)&&(s.axis_y_max=n.y),vt(n.y2)&&(s.axis_y2_max=n.y2)):s.axis_y_max=s.axis_y2_max=n,r.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},nt.prototype.axis.min=function(n){var r=this.internal,s=r.config;if(!arguments.length)return{x:s.axis_x_min,y:s.axis_y_min,y2:s.axis_y2_min};"object"==typeof n?(vt(n.x)&&(s.axis_x_min=n.x),vt(n.y)&&(s.axis_y_min=n.y),vt(n.y2)&&(s.axis_y2_min=n.y2)):s.axis_y_min=s.axis_y2_min=n,r.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},nt.prototype.axis.range=function(n){if(!arguments.length)return{max:this.axis.max(),min:this.axis.min()};Zt(n.max)&&this.axis.max(n.max),Zt(n.min)&&this.axis.min(n.min)},nt.prototype.axis.types=function(n){var r=this.internal;if(void 0===n)return{y:r.config.axis_y_type,y2:r.config.axis_y2_type};Zt(n.y)&&(r.config.axis_y_type=n.y),Zt(n.y2)&&(r.config.axis_y2_type=n.y2),r.updateScales(),r.redraw()},nt.prototype.category=function(n,r){var s=this.internal,u=s.config;return arguments.length>1&&(u.axis_x_categories[n]=r,s.redraw()),u.axis_x_categories[n]},nt.prototype.categories=function(n){var r=this.internal,s=r.config;return arguments.length&&(s.axis_x_categories=n,r.redraw()),s.axis_x_categories},nt.prototype.resize=function(n){var s=this.internal.config;s.size_width=n?n.width:null,s.size_height=n?n.height:null,this.flush()},nt.prototype.flush=function(){this.internal.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},nt.prototype.destroy=function(){var n=this.internal;return window.clearInterval(n.intervalForObserveInserted),void 0!==n.resizeTimeout&&window.clearTimeout(n.resizeTimeout),window.removeEventListener("resize",n.resizeIfElementDisplayed),n.resizeFunction.remove(),n.unbindWindowFocus(),n.selectChart.classed("c3",!1).html(""),Object.keys(n).forEach(function(r){n[r]=null}),null},nt.prototype.color=function(n){return this.internal.color(n)},(nt.prototype.data=function(n){var r=this.internal.data.targets;return typeof n>"u"?r:r.filter(function(s){return[].concat(n).indexOf(s.id)>=0})}).shown=function(n){return this.internal.filterTargetsToShow(this.data(n))},nt.prototype.data.values=function(n,r){void 0===r&&(r=!0);var s=null;if(n){var u=this.data(n);u&&jn(u)&&(s=u.reduce(function(g,y){var w=y.values.map(function(T){return T.value});return r?g=g.concat(w):g.push(w),g},[]))}return s},nt.prototype.data.names=function(n){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",n)},nt.prototype.data.colors=function(n){return this.internal.updateDataAttributes("colors",n)},nt.prototype.data.axes=function(n){return this.internal.updateDataAttributes("axes",n)},nt.prototype.data.stackNormalized=function(n){if(void 0===n)return this.internal.isStackNormalized();this.internal.config.data_stack_normalize=!!n,this.internal.redraw()},(nt.prototype.donut=function(){}).padAngle=function(n){if(void 0===n)return this.internal.config.donut_padAngle;this.internal.config.donut_padAngle=n,this.flush()},nt.prototype.flow=function(n){var s,u,T,O,P,Y,z,r=this.internal,g=[],y=r.getMaxDataCount(),V=0,G=0;if(n.json)u=r.convertJsonToData(n.json,n.keys);else if(n.rows)u=r.convertRowsToData(n.rows);else{if(!n.columns)return;u=r.convertColumnsToData(n.columns)}s=r.convertDataToTargets(u,!0),r.data.targets.forEach(function(X){var Z,tt,q=!1;for(Z=0;Z<s.length;Z++)if(X.id===s[Z].id){for(q=!0,X.values[X.values.length-1]&&(G=X.values[X.values.length-1].index+1),V=s[Z].values.length,tt=0;tt<V;tt++)s[Z].values[tt].index=G+tt,r.isTimeSeries()||(s[Z].values[tt].x=G+tt);X.values=X.values.concat(s[Z].values),s.splice(Z,1);break}q||g.push(X.id)}),r.data.targets.forEach(function(X){var q,Z;for(q=0;q<g.length;q++)if(X.id===g[q])for(G=X.values[X.values.length-1].index+1,Z=0;Z<V;Z++)X.values.push({id:X.id,index:G+Z,x:r.isTimeSeries()?r.getOtherTargetX(G+Z):G+Z,value:null})}),r.data.targets.length&&s.forEach(function(X){var q,Z=[];for(q=r.data.targets[0].values[0].index;q<G;q++)Z.push({id:X.id,index:q,x:r.isTimeSeries()?r.getOtherTargetX(q):q,value:null});X.values.forEach(function(tt){tt.index+=G,r.isTimeSeries()||(tt.x+=G)}),X.values=Z.concat(X.values)}),r.data.targets=r.data.targets.concat(s),r.getMaxDataCount(),P=(O=r.data.targets[0]).values[0],Zt(n.to)?(V=0,z=r.isTimeSeries()?r.parseDate(n.to):n.to,O.values.forEach(function(X){X.x<z&&V++})):Zt(n.length)&&(V=n.length),y?1===y&&r.isTimeSeries()&&(Y=(O.values[O.values.length-1].x-P.x)/2,T=[new Date(+P.x-Y),new Date(+P.x+Y)],r.updateXDomain(null,!0,!0,!1,T)):(Y=r.isTimeSeries()?O.values.length>1?O.values[O.values.length-1].x-P.x:P.x-r.getXDomain(r.data.targets)[0]:1,r.updateXDomain(null,!0,!0,!1,T=[P.x-Y,P.x])),r.updateTargets(r.data.targets),r.redraw({flow:{index:P.index,length:V,duration:vt(n.duration)?n.duration:r.config.transition_duration,done:n.done,orgDataCount:y},withLegend:!0,withTransition:y>1,withTrimXDomain:!1,withUpdateXAxis:!0})},x.prototype.generateFlow=function(n){var r=this,s=r.config,u=r.d3;return function(){var q,tt,Et,ot,ut,qt,se,he,te,ce,ye,g=n.targets,y=n.flow,w=n.drawBar,T=n.drawLine,O=n.drawArea,P=n.cx,V=n.cy,G=n.xv,Y=n.xForText,z=n.yForText,X=n.duration,yt=y.index,Pt=y.length,Rt=r.getValueOnIndex(r.data.targets[0].values,yt),Mt=r.getValueOnIndex(r.data.targets[0].values,yt+Pt),$t=r.x.domain(),mt=y.duration||X,Ht=y.done||function(){},gt=r.generateWait();r.flowing=!0,r.data.targets.forEach(function(J){J.values.splice(0,Pt)}),Et=r.updateXDomain(g,!0,!0),r.updateXGrid&&r.updateXGrid(!0),ot=r.xgrid||u.selectAll([]),ut=r.xgridLines||u.selectAll([]),qt=r.mainRegion||u.selectAll([]),se=r.mainText||u.selectAll([]),he=r.mainBar||u.selectAll([]),te=r.mainLine||u.selectAll([]),ce=r.mainArea||u.selectAll([]),ye=r.mainCircle||u.selectAll([]),y.orgDataCount?q=1===y.orgDataCount||(Rt&&Rt.x)===(Mt&&Mt.x)||r.isTimeSeries()?r.x($t[0])-r.x(Et[0]):r.x(Rt.x)-r.x(Mt.x):1!==r.data.targets[0].values.length?q=r.x($t[0])-r.x(Et[0]):r.isTimeSeries()?(Rt=r.getValueOnIndex(r.data.targets[0].values,0),Mt=r.getValueOnIndex(r.data.targets[0].values,r.data.targets[0].values.length-1),q=r.x(Rt.x)-r.x(Mt.x)):q=qn(Et)/2,tt="translate("+q+",0) scale("+qn($t)/qn(Et)+",1)",r.hideXGridFocus();var Bt=u.transition().ease(u.easeLinear).duration(mt);gt.add(r.xAxis(r.axes.x,Bt)),gt.add(he.transition(Bt).attr("transform",tt)),gt.add(te.transition(Bt).attr("transform",tt)),gt.add(ce.transition(Bt).attr("transform",tt)),gt.add(ye.transition(Bt).attr("transform",tt)),gt.add(se.transition(Bt).attr("transform",tt)),gt.add(qt.filter(r.isRegionOnX).transition(Bt).attr("transform",tt)),gt.add(ot.transition(Bt).attr("transform",tt)),gt.add(ut.transition(Bt).attr("transform",tt)),gt(function(){var J,xt=[],He=[];if(Pt){for(J=0;J<Pt;J++)xt.push("."+L.shape+"-"+(yt+J)),He.push("."+L.text+"-"+(yt+J));r.svg.selectAll("."+L.shapes).selectAll(xt).remove(),r.svg.selectAll("."+L.texts).selectAll(He).remove(),r.svg.select("."+L.xgrid).remove()}ot.attr("transform",null).attr("x1",r.xgridAttr.x1).attr("x2",r.xgridAttr.x2).attr("y1",r.xgridAttr.y1).attr("y2",r.xgridAttr.y2).style("opacity",r.xgridAttr.opacity),ut.attr("transform",null),ut.select("line").attr("x1",s.axis_rotated?0:G).attr("x2",s.axis_rotated?r.width:G),ut.select("text").attr("x",s.axis_rotated?r.width:0).attr("y",G),he.attr("transform",null).attr("d",w),te.attr("transform",null).attr("d",T),ce.attr("transform",null).attr("d",O),ye.attr("transform",null).attr("cx",P).attr("cy",V),se.attr("transform",null).attr("x",Y).attr("y",z).style("fill-opacity",r.opacityForText.bind(r)),qt.attr("transform",null),qt.filter(r.isRegionOnX).attr("x",r.regionX.bind(r)).attr("width",r.regionWidth.bind(r)),Ht(),r.flowing=!1})}},nt.prototype.focus=function(n){var s,r=this.internal;n=r.mapToTargetIds(n),s=r.svg.selectAll(r.selectorTargets(n.filter(r.isTargetToShow,r))),this.revert(),this.defocus(),s.classed(L.focused,!0).classed(L.defocused,!1),r.hasArcType()&&r.expandArc(n),r.toggleFocusLegend(n,!0),r.focusedTargetIds=n,r.defocusedTargetIds=r.defocusedTargetIds.filter(function(u){return n.indexOf(u)<0})},nt.prototype.defocus=function(n){var r=this.internal;n=r.mapToTargetIds(n),r.svg.selectAll(r.selectorTargets(n.filter(r.isTargetToShow,r))).classed(L.focused,!1).classed(L.defocused,!0),r.hasArcType()&&r.unexpandArc(n),r.toggleFocusLegend(n,!1),r.focusedTargetIds=r.focusedTargetIds.filter(function(u){return n.indexOf(u)<0}),r.defocusedTargetIds=n},nt.prototype.revert=function(n){var r=this.internal;n=r.mapToTargetIds(n),r.svg.selectAll(r.selectorTargets(n)).classed(L.focused,!1).classed(L.defocused,!1),r.hasArcType()&&r.unexpandArc(n),r.config.legend_show&&(r.showLegend(n.filter(r.isLegendToShow.bind(r))),r.legend.selectAll(r.selectorLegends(n)).filter(function(){return r.d3.select(this).classed(L.legendItemFocused)}).classed(L.legendItemFocused,!1)),r.focusedTargetIds=[],r.defocusedTargetIds=[]},(nt.prototype.xgrids=function(n){var r=this.internal,s=r.config;return n&&(s.grid_x_lines=n,r.redrawWithoutRescale()),s.grid_x_lines}).add=function(n){return this.xgrids(this.internal.config.grid_x_lines.concat(n||[]))},nt.prototype.xgrids.remove=function(n){this.internal.removeGridLines(n,!0)},(nt.prototype.ygrids=function(n){var r=this.internal,s=r.config;return n&&(s.grid_y_lines=n,r.redrawWithoutRescale()),s.grid_y_lines}).add=function(n){return this.ygrids(this.internal.config.grid_y_lines.concat(n||[]))},nt.prototype.ygrids.remove=function(n){this.internal.removeGridLines(n,!1)},nt.prototype.groups=function(n){var r=this.internal,s=r.config;return Se(n)||(s.data_groups=n,r.redraw()),s.data_groups},(nt.prototype.legend=function(){}).show=function(n){var r=this.internal;r.showLegend(r.mapToTargetIds(n)),r.updateAndRedraw({withLegend:!0})},nt.prototype.legend.hide=function(n){var r=this.internal;r.hideLegend(r.mapToTargetIds(n)),r.updateAndRedraw({withLegend:!1})},nt.prototype.load=function(n){var r=this.internal,s=r.config;n.xs&&r.addXs(n.xs),"names"in n&&nt.prototype.data.names.bind(this)(n.names),"classes"in n&&Object.keys(n.classes).forEach(function(u){s.data_classes[u]=n.classes[u]}),"categories"in n&&r.isCategorized()&&(s.axis_x_categories=n.categories),"axes"in n&&Object.keys(n.axes).forEach(function(u){s.data_axes[u]=n.axes[u]}),"colors"in n&&Object.keys(n.colors).forEach(function(u){s.data_colors[u]=n.colors[u]}),"cacheIds"in n&&r.hasCaches(n.cacheIds)?r.load(r.getCaches(n.cacheIds),n.done):n.unload?r.unload(r.mapToTargetIds(!0===n.unload?null:n.unload),function(){r.loadFromArgs(n)}):r.loadFromArgs(n)},nt.prototype.unload=function(n){var r=this.internal;(n=n||{})instanceof Array?n={ids:n}:"string"==typeof n&&(n={ids:[n]}),r.unload(r.mapToTargetIds(n.ids),function(){r.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),n.done&&n.done()})},(nt.prototype.pie=function(){}).padAngle=function(n){if(void 0===n)return this.internal.config.pie_padAngle;this.internal.config.pie_padAngle=n,this.flush()},(nt.prototype.regions=function(n){var r=this.internal,s=r.config;return n&&(s.regions=n,r.redrawWithoutRescale()),s.regions}).add=function(n){var r=this.internal,s=r.config;return n&&(s.regions=s.regions.concat(n),r.redrawWithoutRescale()),s.regions},nt.prototype.regions.remove=function(n){var u,g,y,r=this.internal,s=r.config;return u=Yt(n=n||{},"duration",s.transition_duration),g=Yt(n,"classes",[L.region]),y=r.main.select("."+L.regions).selectAll(g.map(function(w){return"."+w})),(u?y.transition().duration(u):y).style("opacity",0).remove(),s.regions=s.regions.filter(function(w){var T=!1;return!w.class||(w.class.split(" ").forEach(function(O){g.indexOf(O)>=0&&(T=!0)}),!T)}),s.regions},nt.prototype.selected=function(n){var r=this.internal,s=r.d3;return r.main.selectAll("."+L.shapes+r.getTargetSelectorSuffix(n)).selectAll("."+L.shape).filter(function(){return s.select(this).classed(L.SELECTED)}).nodes().map(function(u){var g=u.__data__;return g.data?g.data:g})},nt.prototype.select=function(n,r,s){var u=this.internal,g=u.d3,y=u.config;y.data_selection_enabled&&u.main.selectAll("."+L.shapes).selectAll("."+L.shape).each(function(w,T){var O=g.select(this),P=w.data?w.data.id:w.id,V=u.getToggle(this,w).bind(u),G=y.data_selection_grouped||!n||n.indexOf(P)>=0,Y=!r||r.indexOf(T)>=0,z=O.classed(L.SELECTED);O.classed(L.line)||O.classed(L.area)||(G&&Y?y.data_selection_isselectable(w)&&!z&&V(!0,O.classed(L.SELECTED,!0),w,T):Zt(s)&&s&&z&&V(!1,O.classed(L.SELECTED,!1),w,T))})},nt.prototype.unselect=function(n,r){var s=this.internal,u=s.d3,g=s.config;g.data_selection_enabled&&s.main.selectAll("."+L.shapes).selectAll("."+L.shape).each(function(y,w){var T=u.select(this),O=y.data?y.data.id:y.id,P=s.getToggle(this,y).bind(s),V=g.data_selection_grouped||!n||n.indexOf(O)>=0,G=!r||r.indexOf(w)>=0,Y=T.classed(L.SELECTED);T.classed(L.line)||T.classed(L.area)||V&&G&&g.data_selection_isselectable(y)&&Y&&P(!1,T.classed(L.SELECTED,!1),y,w)})},nt.prototype.show=function(n,r){var u,s=this.internal;n=s.mapToTargetIds(n),r=r||{},s.removeHiddenTargetIds(n),(u=s.svg.selectAll(s.selectorTargets(n))).transition().style("display",Xe()?"block":"initial","important").style("opacity",1,"important").call(s.endall,function(){u.style("opacity",null).style("opacity",1)}),r.withLegend&&s.showLegend(n),s.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},nt.prototype.hide=function(n,r){var u,s=this.internal;n=s.mapToTargetIds(n),r=r||{},s.addHiddenTargetIds(n),(u=s.svg.selectAll(s.selectorTargets(n))).transition().style("opacity",0,"important").call(s.endall,function(){u.style("opacity",null).style("opacity",0),u.style("display","none")}),r.withLegend&&s.hideLegend(n),s.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},nt.prototype.toggle=function(n,r){var s=this,u=this.internal;u.mapToTargetIds(n).forEach(function(g){u.isTargetToShow(g)?s.hide(g,r):s.show(g,r)})},(nt.prototype.subchart=function(){}).isShown=function(){return this.internal.config.subchart_show},nt.prototype.subchart.show=function(){var n=this.internal;n.config.subchart_show||(n.config.subchart_show=!0,n.initSubchart(),n.updateDimension(),n.initSubchartBrush(),n.updateTargetsForSubchart(n.getTargets()),n.mapToIds(n.data.targets).forEach(function(r){n.withoutFadeIn[r]=!1}),n.updateAndRedraw(),n.showTargets())},nt.prototype.subchart.hide=function(){var n=this.internal;n.config.subchart_show&&(n.config.subchart_show=!1,n.removeSubchart(),n.redraw())},(nt.prototype.tooltip=function(){}).show=function(n){var s,u,r=this.internal,g={};n.mouse?g=n.mouse:(n.data?u=n.data:typeof n.x<"u"&&(s=n.id?r.data.targets.filter(function(y){return y.id===n.id}):r.data.targets,u=r.filterByX(s,n.x).slice(0,1)[0]),g=u?r.getMousePosition(u):null),r.dispatchEvent("mousemove",g),r.config.tooltip_onshow.call(r,u)},nt.prototype.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0),this.internal.config.tooltip_onhide.call(this)},nt.prototype.transform=function(n,r){var s=this.internal,u=["pie","donut"].indexOf(n)>=0?{withTransform:!0}:null;s.transformTo(r,n,u)},x.prototype.transformTo=function(n,r,s){var u=this,g=!u.hasArcType(),y=s||{withTransitionForAxis:g};y.withTransitionForTransform=!1,u.transiting=!1,u.setTargetType(n,r),u.updateTargets(u.data.targets),u.updateAndRedraw(y)},nt.prototype.x=function(n){var r=this.internal;return arguments.length&&(r.updateTargetX(r.data.targets,n),r.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),r.data.xs},nt.prototype.xs=function(n){var r=this.internal;return arguments.length&&(r.updateTargetXs(r.data.targets,n),r.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),r.data.xs},(nt.prototype.zoom=function(n){var r=this.internal;return n?(r.isTimeSeries()&&(n=n.map(function(s){return r.parseDate(s)})),r.config.subchart_show?r.brush.selectionAsValue(n,!0):(r.updateXDomain(null,!0,!1,!1,n),r.redraw({withY:r.config.zoom_rescale,withSubchart:!1})),r.config.zoom_onzoom.call(this,r.x.orgDomain()),n):r.x.domain()}).enable=function(n){var r=this.internal;r.config.zoom_enabled=n,r.updateAndRedraw()},nt.prototype.unzoom=function(){var n=this.internal;n.config.subchart_show?n.brush.clear():(n.updateXDomain(null,!0,!1,!1,n.subX.domain()),n.redraw({withY:n.config.zoom_rescale,withSubchart:!1}))},nt.prototype.zoom.max=function(n){var r=this.internal,s=r.config;if(0!==n&&!n)return s.zoom_x_max;s.zoom_x_max=r.d3.max([r.orgXDomain[1],n])},nt.prototype.zoom.min=function(n){var r=this.internal,s=r.config;if(0!==n&&!n)return s.zoom_x_min;s.zoom_x_min=r.d3.min([r.orgXDomain[0],n])},nt.prototype.zoom.range=function(n){if(!arguments.length)return{max:this.domain.max(),min:this.domain.min()};Zt(n.max)&&this.domain.max(n.max),Zt(n.min)&&this.domain.min(n.min)},x.prototype.initPie=function(){var n=this;n.pie=n.d3.pie().padAngle(this.getPadAngle.bind(this)).value(function(g){return g.values.reduce(function(y,w){return y+w.value},0)});var s=n.getOrderFunction();if(s&&(n.isOrderAsc()||n.isOrderDesc())){var u=s;s=function(g,y){return-1*u(g,y)}}n.pie.sort(s||null)},x.prototype.updateRadius=function(){var n=this,r=n.config,s=r.gauge_width||r.donut_width,u=n.filterTargetsToShow(n.data.targets).length*n.config.gauge_arcs_minWidth;n.radiusExpanded=Math.min(n.arcWidth,n.arcHeight)/2*(n.hasType("gauge")?.85:1),n.radius=.95*n.radiusExpanded,n.innerRadiusRatio=s?(n.radius-s)/n.radius:.6,n.innerRadius=n.hasType("donut")||n.hasType("gauge")?n.radius*n.innerRadiusRatio:0,n.gaugeArcWidth=s||(u<=n.radius-n.innerRadius?n.radius-n.innerRadius:u<=n.radius?u:n.radius)},x.prototype.getPadAngle=function(){return this.hasType("pie")?this.config.pie_padAngle||0:this.hasType("donut")&&this.config.donut_padAngle||0},x.prototype.updateArc=function(){var n=this;n.svgArc=n.getSvgArc(),n.svgArcExpanded=n.getSvgArcExpanded(),n.svgArcExpandedSub=n.getSvgArcExpanded(.98)},x.prototype.updateAngle=function(n){var y,w,T,O,r=this,s=r.config,u=!1,g=0;return s?(r.pie(r.filterTargetsToShow(r.data.targets)).forEach(function(P){!u&&P.data.id===n.data.id&&(u=!0,(n=P).index=g),g++}),isNaN(n.startAngle)&&(n.startAngle=0),isNaN(n.endAngle)&&(n.endAngle=n.startAngle),r.isGaugeType(n.data)&&(y=s.gauge_min,w=s.gauge_max,T=Math.PI*(s.gauge_fullCircle?2:1)/(w-y),O=n.value<y?0:n.value<w?n.value-y:w-y,n.startAngle=s.gauge_startingAngle,n.endAngle=n.startAngle+T*O),u?n:null):null},x.prototype.getSvgArc=function(){var n=this,r=n.hasType("gauge"),s=n.gaugeArcWidth/n.filterTargetsToShow(n.data.targets).length,u=n.d3.arc().outerRadius(function(y){return r?n.radius-s*y.index:n.radius}).innerRadius(function(y){return r?n.radius-s*(y.index+1):n.innerRadius}),g=function(y,w){var T;return w?u(y):(T=n.updateAngle(y))?u(T):"M 0 0"};return g.centroid=u.centroid,g},x.prototype.getSvgArcExpanded=function(n){n=n||1;var r=this,s=r.hasType("gauge"),u=r.gaugeArcWidth/r.filterTargetsToShow(r.data.targets).length,g=Math.min(r.radiusExpanded*n-r.radius,.8*u-100*(1-n)),y=r.d3.arc().outerRadius(function(w){return s?r.radius-u*w.index+g:r.radiusExpanded*n}).innerRadius(function(w){return s?r.radius-u*(w.index+1):r.innerRadius});return function(w){var T=r.updateAngle(w);return T?y(T):"M 0 0"}},x.prototype.getArc=function(n,r,s){return s||this.isArcType(n.data)?this.svgArc(n,r):"M 0 0"},x.prototype.transformForArcLabel=function(n){var g,y,w,T,O,r=this,s=r.config,u=r.updateAngle(n),P="",V=r.hasType("gauge");if(u&&!V)g=this.svgArc.centroid(u),y=isNaN(g[0])?0:g[0],w=isNaN(g[1])?0:g[1],T=Math.sqrt(y*y+w*w),P="translate("+y*(O=r.hasType("donut")&&s.donut_label_ratio?ne(s.donut_label_ratio)?s.donut_label_ratio(n,r.radius,T):s.donut_label_ratio:r.hasType("pie")&&s.pie_label_ratio?ne(s.pie_label_ratio)?s.pie_label_ratio(n,r.radius,T):s.pie_label_ratio:r.radius&&T?(36/r.radius>.375?1.175-36/r.radius:.8)*r.radius/T:0)+","+w*O+")";else if(u&&V&&r.filterTargetsToShow(r.data.targets).length>1){var G=Math.sin(u.endAngle-Math.PI/2);P="translate("+(y=Math.cos(u.endAngle-Math.PI/2)*(r.radiusExpanded+25))+","+(w=G*(r.radiusExpanded+15-Math.abs(10*G))+3)+")"}return P},x.prototype.getArcRatio=function(n){return this.getRatio("arc",n)},x.prototype.convertToArcData=function(n){return this.addName({id:n.data.id,value:n.value,ratio:this.getRatio("arc",n),index:n.index})},x.prototype.textForArcLabel=function(n){var s,u,g,y,w,r=this;return r.shouldShowArcLabel()&&(u=(s=r.updateAngle(n))?s.value:null,g=r.getRatio("arc",s),y=n.data.id,r.hasType("gauge")||r.meetsArcLabelThreshold(g))?(w=r.getArcLabelFormat())?w(u,g,y):r.defaultArcValueFormat(u,g):""},x.prototype.textForGaugeMinMax=function(n,r){var u=this.getGaugeLabelExtents();return u?u(n,r):n},x.prototype.expandArc=function(n){var s,r=this;r.transiting?s=window.setInterval(function(){r.transiting||(window.clearInterval(s),r.legend.selectAll(".c3-legend-item-focused").size()>0&&r.expandArc(n))},10):(n=r.mapToTargetIds(n),r.svg.selectAll(r.selectorTargets(n,"."+L.chartArc)).each(function(u){r.shouldExpand(u.data.id)&&r.d3.select(this).selectAll("path").transition().duration(r.expandDuration(u.data.id)).attr("d",r.svgArcExpanded).transition().duration(2*r.expandDuration(u.data.id)).attr("d",r.svgArcExpandedSub).each(function(g){r.isDonutType(g.data)})}))},x.prototype.unexpandArc=function(n){var r=this;r.transiting||(n=r.mapToTargetIds(n),r.svg.selectAll(r.selectorTargets(n,"."+L.chartArc)).selectAll("path").transition().duration(function(s){return r.expandDuration(s.data.id)}).attr("d",r.svgArc),r.svg.selectAll("."+L.arc))},x.prototype.expandDuration=function(n){var r=this,s=r.config;return r.isDonutType(n)?s.donut_expand_duration:r.isGaugeType(n)?s.gauge_expand_duration:r.isPieType(n)?s.pie_expand_duration:50},x.prototype.shouldExpand=function(n){var r=this,s=r.config;return r.isDonutType(n)&&s.donut_expand||r.isGaugeType(n)&&s.gauge_expand||r.isPieType(n)&&s.pie_expand},x.prototype.shouldShowArcLabel=function(){var n=this,r=n.config,s=!0;return n.hasType("donut")?s=r.donut_label_show:n.hasType("pie")&&(s=r.pie_label_show),s},x.prototype.meetsArcLabelThreshold=function(n){var s=this.config;return n>=(this.hasType("donut")?s.donut_label_threshold:s.pie_label_threshold)},x.prototype.getArcLabelFormat=function(){var n=this,r=n.config,s=r.pie_label_format;return n.hasType("gauge")?s=r.gauge_label_format:n.hasType("donut")&&(s=r.donut_label_format),s},x.prototype.getGaugeLabelExtents=function(){return this.config.gauge_label_extents},x.prototype.getArcTitle=function(){return this.hasType("donut")?this.config.donut_title:""},x.prototype.updateTargetsForArc=function(n){var g,r=this,s=r.main,y=r.classChartArc.bind(r),w=r.classArcs.bind(r),T=r.classFocus.bind(r);(g=s.select("."+L.chartArcs).selectAll("."+L.chartArc).data(r.pie(n)).attr("class",function(O){return y(O)+T(O.data)}).enter().append("g").attr("class",y)).append("g").attr("class",w),g.append("text").attr("dy",r.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},x.prototype.initArc=function(){var n=this;n.arcs=n.main.select("."+L.chart).append("g").attr("class",L.chartArcs).attr("transform",n.getTranslate("arc")),n.arcs.append("text").attr("class",L.chartArcsTitle).style("text-anchor","middle").text(n.getArcTitle())},x.prototype.redrawArc=function(n,r,s){var T,O,P,V,u=this,g=u.d3,y=u.config,w=u.main,G=u.hasType("gauge");if(O=(T=w.selectAll("."+L.arcs).selectAll("."+L.arc).data(u.arcData.bind(u))).enter().append("path").attr("class",u.classArc.bind(u)).style("fill",function(X){return u.color(X.data)}).style("cursor",function(X){return y.interaction_enabled&&y.data_selection_isselectable(X)?"pointer":null}).each(function(X){u.isGaugeType(X.data)&&(X.startAngle=X.endAngle=y.gauge_startingAngle),this._current=X}).merge(T),G&&(V=(P=w.selectAll("."+L.arcs).selectAll("."+L.arcLabelLine).data(u.arcData.bind(u))).enter().append("rect").attr("class",function(X){return L.arcLabelLine+" "+L.target+" "+L.target+"-"+X.data.id}).merge(P),1===u.filterTargetsToShow(u.data.targets).length?V.style("display","none"):V.style("fill",function(X){return u.levelColor?u.levelColor(X.data.values.reduce(function(q,Z){return q+Z.value},0)):u.color(X.data)}).style("display",y.gauge_labelLine_show?"":"none").each(function(X){var q=0,tt=0,yt=0,Pt="";if(u.hiddenTargetIds.indexOf(X.data.id)<0){var Rt=u.updateAngle(X),Mt=u.gaugeArcWidth/u.filterTargetsToShow(u.data.targets).length*(Rt.index+1),$t=Rt.endAngle-Math.PI/2,Et=u.radius-Mt,mt=$t-(0===Et?0:1/Et);q=u.radiusExpanded-u.radius+Mt,tt=Math.cos(mt)*Et,yt=Math.sin(mt)*Et,Pt="rotate("+180*$t/Math.PI+", "+tt+", "+yt+")"}g.select(this).attr("x",tt).attr("y",yt).attr("width",q).attr("height",2).attr("transform",Pt).style("stroke-dasharray","0, "+(q+2)+", 0")})),O.attr("transform",function(X){return!u.isGaugeType(X.data)&&s?"scale(0)":""}).on("mouseover",y.interaction_enabled?function(X){var q,Z;u.transiting||(q=u.updateAngle(X))&&(Z=u.convertToArcData(q),u.expandArc(q.data.id),u.api.focus(q.data.id),u.toggleFocusLegend(q.data.id,!0),u.config.data_onmouseover(Z,this))}:null).on("mousemove",y.interaction_enabled?function(X){var Z,q=u.updateAngle(X);q&&(Z=u.convertToArcData(q),u.showTooltip([Z],this))}:null).on("mouseout",y.interaction_enabled?function(X){var q,Z;u.transiting||(q=u.updateAngle(X))&&(Z=u.convertToArcData(q),u.unexpandArc(q.data.id),u.api.revert(),u.revertLegend(),u.hideTooltip(),u.config.data_onmouseout(Z,this))}:null).on("click",y.interaction_enabled?function(X,q){var tt,Z=u.updateAngle(X);Z&&(tt=u.convertToArcData(Z),u.toggleShape&&u.toggleShape(this,tt,q),u.config.data_onclick.call(u.api,tt,this))}:null).each(function(){u.transiting=!0}).transition().duration(n).attrTween("d",function(X){var Z,q=u.updateAngle(X);return q?(isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),Z=g.interpolate(this._current,q),this._current=Z(0),function(tt){if(null===u.config)return"M 0 0";var yt=Z(tt);return yt.data=X.data,u.getArc(yt,!0)}):function(){return"M 0 0"}}).attr("transform",s?"scale(1)":"").style("fill",function(X){return u.levelColor?u.levelColor(X.data.values.reduce(function(q,Z){return q+Z.value},0)):u.color(X.data.id)}).call(u.endall,function(){u.transiting=!1}),T.exit().transition().duration(r).style("opacity",0).remove(),w.selectAll("."+L.chartArc).select("text").style("opacity",0).attr("class",function(X){return u.isGaugeType(X.data)?L.gaugeValue:""}).text(u.textForArcLabel.bind(u)).attr("transform",u.transformForArcLabel.bind(u)).style("font-size",function(X){return u.isGaugeType(X.data)&&1===u.filterTargetsToShow(u.data.targets).length?Math.round(u.radius/5)+"px":""}).transition().duration(n).style("opacity",function(X){return u.isTargetToShow(X.data.id)&&u.isArcType(X.data)?1:0}),w.select("."+L.chartArcsTitle).style("opacity",u.hasType("donut")||G?1:0),G){var Y=0,z=u.arcs.select("g."+L.chartArcsBackground).selectAll("path."+L.chartArcsBackground).data(u.data.targets);z.enter().append("path").attr("class",function(X,q){return L.chartArcsBackground+" "+L.chartArcsBackground+"-"+q}).merge(z).attr("d",function(X){if(u.hiddenTargetIds.indexOf(X.id)>=0)return"M 0 0";var q={data:[{value:y.gauge_max}],startAngle:y.gauge_startingAngle,endAngle:-1*y.gauge_startingAngle*(y.gauge_fullCircle?Math.PI:1),index:Y++};return u.getArc(q,!0,!0)}),z.exit().remove(),u.arcs.select("."+L.chartArcsGaugeUnit).attr("dy",".75em").text(y.gauge_label_show?y.gauge_units:""),u.arcs.select("."+L.chartArcsGaugeMin).attr("dx",-1*(u.innerRadius+(u.radius-u.innerRadius)/(y.gauge_fullCircle?1:2))+"px").attr("dy","1.2em").text(y.gauge_label_show?u.textForGaugeMinMax(y.gauge_min,!1):""),u.arcs.select("."+L.chartArcsGaugeMax).attr("dx",u.innerRadius+(u.radius-u.innerRadius)/(y.gauge_fullCircle?1:2)+"px").attr("dy","1.2em").text(y.gauge_label_show?u.textForGaugeMinMax(y.gauge_max,!0):"")}},x.prototype.initGauge=function(){var n=this.arcs;this.hasType("gauge")&&(n.append("g").attr("class",L.chartArcsBackground),n.append("text").attr("class",L.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),n.append("text").attr("class",L.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),n.append("text").attr("class",L.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},x.prototype.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},x.prototype.addToCache=function(n,r){this.cache["$"+n]=r},x.prototype.getFromCache=function(n){return this.cache["$"+n]},x.prototype.resetCache=function(){var n=this;Object.keys(this.cache).filter(function(r){return/^\$/.test(r)}).forEach(function(r){delete n.cache[r]})},x.prototype.hasCaches=function(n){for(var r=0;r<n.length;r++)if(!(n[r]in this.cache))return!1;return!0},x.prototype.addCache=function(n,r){this.cache[n]=this.cloneTarget(r)},x.prototype.getCaches=function(n){var s,r=[];for(s=0;s<n.length;s++)n[s]in this.cache&&r.push(this.cloneTarget(this.cache[n[s]]));return r},x.prototype.categoryName=function(n){var r=this.config;return n<r.axis_x_categories.length?r.axis_x_categories[n]:n},x.prototype.generateTargetClass=function(n){return n||0===n?("-"+n).replace(/\s/g,"-"):""},x.prototype.generateClass=function(n,r){return" "+n+" "+n+this.generateTargetClass(r)},x.prototype.classText=function(n){return this.generateClass(L.text,n.index)},x.prototype.classTexts=function(n){return this.generateClass(L.texts,n.id)},x.prototype.classShape=function(n){return this.generateClass(L.shape,n.index)},x.prototype.classShapes=function(n){return this.generateClass(L.shapes,n.id)},x.prototype.classLine=function(n){return this.classShape(n)+this.generateClass(L.line,n.id)},x.prototype.classLines=function(n){return this.classShapes(n)+this.generateClass(L.lines,n.id)},x.prototype.classCircle=function(n){return this.classShape(n)+this.generateClass(L.circle,n.index)},x.prototype.classCircles=function(n){return this.classShapes(n)+this.generateClass(L.circles,n.id)},x.prototype.classBar=function(n){return this.classShape(n)+this.generateClass(L.bar,n.index)},x.prototype.classBars=function(n){return this.classShapes(n)+this.generateClass(L.bars,n.id)},x.prototype.classArc=function(n){return this.classShape(n.data)+this.generateClass(L.arc,n.data.id)},x.prototype.classArcs=function(n){return this.classShapes(n.data)+this.generateClass(L.arcs,n.data.id)},x.prototype.classArea=function(n){return this.classShape(n)+this.generateClass(L.area,n.id)},x.prototype.classAreas=function(n){return this.classShapes(n)+this.generateClass(L.areas,n.id)},x.prototype.classRegion=function(n,r){return this.generateClass(L.region,r)+" "+("class"in n?n.class:"")},x.prototype.classEvent=function(n){return this.generateClass(L.eventRect,n.index)},x.prototype.classTarget=function(n){var s=this.config.data_classes[n],u="";return s&&(u=" "+L.target+"-"+s),this.generateClass(L.target,n)+u},x.prototype.classFocus=function(n){return this.classFocused(n)+this.classDefocused(n)},x.prototype.classFocused=function(n){return" "+(this.focusedTargetIds.indexOf(n.id)>=0?L.focused:"")},x.prototype.classDefocused=function(n){return" "+(this.defocusedTargetIds.indexOf(n.id)>=0?L.defocused:"")},x.prototype.classChartText=function(n){return L.chartText+this.classTarget(n.id)},x.prototype.classChartLine=function(n){return L.chartLine+this.classTarget(n.id)},x.prototype.classChartBar=function(n){return L.chartBar+this.classTarget(n.id)},x.prototype.classChartArc=function(n){return L.chartArc+this.classTarget(n.data.id)},x.prototype.getTargetSelectorSuffix=function(n){var r=this.generateTargetClass(n);return window.CSS&&window.CSS.escape?window.CSS.escape(r):r.replace(/([?!@#$%^&*()=+,.<>'":;\[\]\/|~`{}\\])/g,"\\$1")},x.prototype.selectorTarget=function(n,r){return(r||"")+"."+L.target+this.getTargetSelectorSuffix(n)},x.prototype.selectorTargets=function(n,r){var s=this;return(n=n||[]).length?n.map(function(u){return s.selectorTarget(u,r)}):null},x.prototype.selectorLegend=function(n){return"."+L.legendItem+this.getTargetSelectorSuffix(n)},x.prototype.selectorLegends=function(n){var r=this;return n&&n.length?n.map(function(s){return r.selectorLegend(s)}):null},x.prototype.getClipPath=function(n){return"url("+(Xe(9)?"":document.URL.split("#")[0])+"#"+n+")"},x.prototype.appendClip=function(n,r){return n.append("clipPath").attr("id",r).append("rect")},x.prototype.getAxisClipX=function(n){var r=Math.max(30,this.margin.left);return n?-(1+r):-(r-1)},x.prototype.getAxisClipY=function(n){return n?-20:-this.margin.top},x.prototype.getXAxisClipX=function(){return this.getAxisClipX(!this.config.axis_rotated)},x.prototype.getXAxisClipY=function(){return this.getAxisClipY(!this.config.axis_rotated)},x.prototype.getYAxisClipX=function(){var n=this;return n.config.axis_y_inner?-1:n.getAxisClipX(n.config.axis_rotated)},x.prototype.getYAxisClipY=function(){return this.getAxisClipY(this.config.axis_rotated)},x.prototype.getAxisClipWidth=function(n){var r=this,s=Math.max(30,r.margin.left),u=Math.max(30,r.margin.right);return n?r.width+2+s+u:r.margin.left+20},x.prototype.getAxisClipHeight=function(n){return(n?this.margin.bottom:this.margin.top+this.height)+20},x.prototype.getXAxisClipWidth=function(){return this.getAxisClipWidth(!this.config.axis_rotated)},x.prototype.getXAxisClipHeight=function(){return this.getAxisClipHeight(!this.config.axis_rotated)},x.prototype.getYAxisClipWidth=function(){var n=this;return n.getAxisClipWidth(n.config.axis_rotated)+(n.config.axis_y_inner?20:0)},x.prototype.getYAxisClipHeight=function(){return this.getAxisClipHeight(this.config.axis_rotated)},x.prototype.generateColor=function(){var r=this.config,s=this.d3,u=r.data_colors,g=fe(r.color_pattern)?r.color_pattern:s.schemeCategory10,y=r.data_color,w=[];return function(T){var P,O=T.id||T.data&&T.data.id||T;return u[O]instanceof Function?P=u[O](T):u[O]?P=u[O]:(w.indexOf(O)<0&&w.push(O),P=g[w.indexOf(O)%g.length],u[O]=P),y instanceof Function?y(P,T):P}},x.prototype.generateLevelColor=function(){var r=this.config,s=r.color_pattern,u=r.color_threshold,g="value"===u.unit,y=u.values&&u.values.length?u.values:[],w=u.max||100;return fe(u)&&fe(s)?function(T){var O,V=s[s.length-1];for(O=0;O<y.length;O++)if((g?T:100*T/w)<y[O]){V=s[O];break}return V}:null},x.prototype.getDefaultConfig=function(){var n={bindto:"#chart",svg_classname:void 0,size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,resize_auto:!0,zoom_enabled:!1,zoom_initialRange:void 0,zoom_type:"scroll",zoom_disableDefaultBehavior:!1,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},zoom_x_min:void 0,zoom_x_max:void 0,interaction_brighten:!0,interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_epochs:"epochs",data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(r){return r},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_stack_normalize:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:void 0,data_headers:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onmouseover:void 0,legend_item_onmouseout:void 0,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_multilineMax:0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_selection:void 0,axis_x_label:{},axis_x_inner:void 0,axis_y_show:!0,axis_y_type:"linear",axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:void 0,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:void 0,axis_y_tick_time_type:void 0,axis_y_tick_time_interval:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_type:"linear",axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:void 0,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:"step",bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0,bar_space:0,area_zerobased:!0,area_above:!1,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:.05,pie_label_ratio:void 0,pie_expand:{},pie_expand_duration:50,pie_padAngle:0,gauge_fullCircle:!1,gauge_label_show:!0,gauge_labelLine_show:!0,gauge_label_format:void 0,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*Math.PI/2,gauge_label_extents:void 0,gauge_units:void 0,gauge_width:void 0,gauge_arcs_minWidth:5,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:.05,donut_label_ratio:void 0,donut_width:void 0,donut_title:"",donut_expand:{},donut_expand_duration:50,donut_padAngle:0,spline_interpolation_type:"cardinal",stanford_lines:[],stanford_regions:[],stanford_texts:[],stanford_scaleMin:void 0,stanford_scaleMax:void 0,stanford_scaleWidth:void 0,stanford_scaleFormat:void 0,stanford_scaleValues:void 0,stanford_colors:void 0,stanford_padding:{top:0,right:0,bottom:0,left:0},regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_order:void 0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_horizontal:void 0,tooltip_position:void 0,tooltip_contents:function(r,s,u,g){return this.getTooltipContent?this.getTooltipContent(r,s,u,g):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_onshow:function(){},tooltip_onhide:function(){},title_text:void 0,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center"};return Object.keys(this.additionalConfig).forEach(function(r){n[r]=this.additionalConfig[r]},this),n},x.prototype.additionalConfig={},x.prototype.loadConfig=function(n){var s,u,g,r=this.config;function y(){var w=u.shift();return w&&s&&"object"==typeof s&&w in s?(s=s[w],y()):w?void 0:s}Object.keys(r).forEach(function(w){s=n,u=w.split("_"),g=y(),Zt(g)&&(r[w]=g)})},x.prototype.convertUrlToData=function(n,r,s,u,g){var T,O,y=this,w=r||"csv";"json"===w?(T=y.d3.json,O=y.convertJsonToData):"tsv"===w?(T=y.d3.tsv,O=y.convertXsvToData):(T=y.d3.csv,O=y.convertXsvToData),T(n,s).then(function(P){g.call(y,O.call(y,P,u))}).catch(function(P){throw P})},x.prototype.convertXsvToData=function(n){var r=n.columns;return 0===n.length?{keys:r,rows:[r.reduce(function(u,g){var y;return Object.assign(u,((y={})[g]=null,y))},{})]}:{keys:r,rows:[].concat(n)}},x.prototype.convertJsonToData=function(n,r){var g,y,s=this,u=[];return r?(r.x?(g=r.value.concat(r.x),s.config.data_x=r.x):g=r.value,u.push(g),n.forEach(function(w){var T=[];g.forEach(function(O){var P=s.findValueInJson(w,O);Se(P)&&(P=null),T.push(P)}),u.push(T)}),y=s.convertRowsToData(u)):(Object.keys(n).forEach(function(w){u.push([w].concat(n[w]))}),y=s.convertColumnsToData(u)),y},x.prototype.findValueInJson=function(n,r){if(r in n)return n[r];for(var s=(r=(r=r.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),u=0;u<s.length;++u){var g=s[u];if(!(g in n))return;n=n[g]}return n},x.prototype.convertRowsToData=function(n){for(var r=[],s=n[0],u=1;u<n.length;u++){for(var g={},y=0;y<n[u].length;y++){if(Se(n[u][y]))throw new Error("Source data is missing a component at ("+u+","+y+")!");g[s[y]]=n[u][y]}r.push(g)}return{keys:s,rows:r}},x.prototype.convertColumnsToData=function(n){for(var r=[],s=[],u=0;u<n.length;u++){for(var g=n[u][0],y=1;y<n[u].length;y++){if(Se(r[y-1])&&(r[y-1]={}),Se(n[u][y]))throw new Error("Source data is missing a component at ("+u+","+y+")!");r[y-1][g]=n[u][y]}s.push(g)}return{keys:s,rows:r}},x.prototype.convertDataToTargets=function(n,r){var g,y,w,T,O,s=this,u=s.config;if(jn(n)?T=Object.keys(n[0]):(T=n.keys,n=n.rows),w=T.filter(s.isX,s),s.isStanfordGraphType()){if(O=T.filter(s.isEpochs,s),y=T.filter(s.isNotXAndNotEpochs,s),1!==w.length||1!==O.length||1!==y.length)throw new Error("You must define the 'x' key name and the 'epochs' for Stanford Diagrams")}else y=T.filter(s.isNotX,s);return y.forEach(function(P){var V=s.getXKey(P);s.isCustomX()||s.isTimeSeries()?w.indexOf(V)>=0?s.data.xs[P]=(r&&s.data.xs[P]?s.data.xs[P]:[]).concat(n.map(function(G){return G[V]}).filter(vt).map(function(G,Y){return s.generateTargetX(G,P,Y)})):u.data_x?s.data.xs[P]=s.getOtherTargetXs():fe(u.data_xs)&&(s.data.xs[P]=s.getXValuesOfXKey(V,s.data.targets)):s.data.xs[P]=n.map(function(G,Y){return Y})}),y.forEach(function(P){if(!s.data.xs[P])throw new Error('x is not defined for id = "'+P+'".')}),(g=y.map(function(P,V){var G=u.data_idConverter(P);return{id:G,id_org:P,values:n.map(function(Y,z){var tt,yt,q=Y[s.getXKey(P)],Z=null===Y[P]||isNaN(Y[P])?null:+Y[P];return s.isCustomX()&&s.isCategorized()&&!Se(q)?(0===V&&0===z&&(u.axis_x_categories=[]),-1===(tt=u.axis_x_categories.indexOf(q))&&(tt=u.axis_x_categories.length,u.axis_x_categories.push(q))):tt=s.generateTargetX(q,P,z),(Se(Y[P])||s.data.xs[P].length<=z)&&(tt=void 0),yt={x:tt,value:Z,id:G},s.isStanfordGraphType()&&(yt.epochs=Y[O]),yt}).filter(function(Y){return Zt(Y.x)})}})).forEach(function(P){var V;u.data_xSort&&(P.values=P.values.sort(function(G,Y){return(G.x||0===G.x?G.x:1/0)-(Y.x||0===Y.x?Y.x:1/0)})),V=0,P.values.forEach(function(G){G.index=V++}),s.data.xs[P.id].sort(function(G,Y){return G-Y})}),s.hasNegativeValue=s.hasNegativeValueInTargets(g),s.hasPositiveValue=s.hasPositiveValueInTargets(g),u.data_type&&s.setTargetType(s.mapToIds(g).filter(function(P){return!(P in u.data_types)}),u.data_type),g.forEach(function(P){s.addCache(P.id_org,P)}),g},x.prototype.isEpochs=function(n){var s=this.config;return s.data_epochs&&n===s.data_epochs},x.prototype.isX=function(n){var s=this.config;return s.data_x&&n===s.data_x||fe(s.data_xs)&&function(n,r){var s=!1;return Object.keys(n).forEach(function(u){n[u]===r&&(s=!0)}),s}(s.data_xs,n)},x.prototype.isNotX=function(n){return!this.isX(n)},x.prototype.isNotXAndNotEpochs=function(n){return!this.isX(n)&&!this.isEpochs(n)},x.prototype.isStackNormalized=function(){return this.config.data_stack_normalize&&this.config.data_groups.length>0},x.prototype.isAxisNormalized=function(n){var r=this;return!!r.isStackNormalized()&&r.data.targets.filter(function(s){return r.axis.getId(s.id)===n}).some(function(s){return r.isTargetNormalized(s.id)})},x.prototype.isTargetNormalized=function(n){return this.isStackNormalized()&&this.config.data_groups.some(function(s){return s.includes(n)})},x.prototype.getXKey=function(n){var s=this.config;return s.data_x?s.data_x:fe(s.data_xs)?s.data_xs[n]:null},x.prototype.getTotalPerIndex=function(n){var r=this;if(!r.isStackNormalized())return null;var s=r.getFromCache("getTotalPerIndex");if(void 0!==s)return s[n];var u={y:[],y2:[]};return r.data.targets.filter(function(g){return r.isTargetNormalized(g.id)}).filter(function(g){return r.isTargetToShow(g.id)}).forEach(function(g){var y=u[r.axis.getId(g.id)];g.values.forEach(function(w,T){y[T]||(y[T]=0),y[T]+=rr(w.value)?w.value:0})}),r.addToCache("getTotalPerIndex",u),u[n]},x.prototype.getTotalDataSum=function(){var n=this,r=n.getFromCache("getTotalDataSum");if(void 0!==r)return r;var s=function(n){return Array.isArray(n)?[].concat.apply([],n):[]}(n.data.targets.filter(function(u){return n.isTargetToShow(u.id)}).map(function(u){return u.values})).map(function(u){return u.value}).reduce(function(u,g){return u+g},0);return n.addToCache("getTotalDataSum",s),s},x.prototype.getXValuesOfXKey=function(n,r){var u,s=this;return(r&&fe(r)?s.mapToIds(r):[]).forEach(function(y){s.getXKey(y)===n&&(u=s.data.xs[y])}),u},x.prototype.getXValue=function(n,r){var s=this;return n in s.data.xs&&s.data.xs[n]&&vt(s.data.xs[n][r])?s.data.xs[n][r]:r},x.prototype.getOtherTargetXs=function(){var r=Object.keys(this.data.xs);return r.length?this.data.xs[r[0]]:null},x.prototype.getOtherTargetX=function(n){var r=this.getOtherTargetXs();return r&&n<r.length?r[n]:null},x.prototype.addXs=function(n){var r=this;Object.keys(n).forEach(function(s){r.config.data_xs[s]=n[s]})},x.prototype.addName=function(n){var s;return n&&(n.name=void 0!==(s=this.config.data_names[n.id])?s:n.id),n},x.prototype.getValueOnIndex=function(n,r){var s=n.filter(function(u){return u.index===r});return s.length?s[0]:null},x.prototype.updateTargetX=function(n,r){var s=this;n.forEach(function(u){u.values.forEach(function(g,y){g.x=s.generateTargetX(r[y],u.id,y)}),s.data.xs[u.id]=r})},x.prototype.updateTargetXs=function(n,r){var s=this;n.forEach(function(u){r[u.id]&&s.updateTargetX([u],r[u.id])})},x.prototype.generateTargetX=function(n,r,s){var u=this;return u.isTimeSeries()?u.parseDate(n||u.getXValue(r,s)):u.isCustomX()&&!u.isCategorized()?vt(n)?+n:u.getXValue(r,s):s},x.prototype.cloneTarget=function(n){return{id:n.id,id_org:n.id_org,values:n.values.map(function(r){return{x:r.x,value:r.value,id:r.id}})}},x.prototype.getMaxDataCount=function(){return this.d3.max(this.data.targets,function(r){return r.values.length})},x.prototype.mapToIds=function(n){return n.map(function(r){return r.id})},x.prototype.mapToTargetIds=function(n){return n?[].concat(n):this.mapToIds(this.data.targets)},x.prototype.hasTarget=function(n,r){var u,s=this.mapToIds(n);for(u=0;u<s.length;u++)if(s[u]===r)return!0;return!1},x.prototype.isTargetToShow=function(n){return this.hiddenTargetIds.indexOf(n)<0},x.prototype.isLegendToShow=function(n){return this.hiddenLegendIds.indexOf(n)<0},x.prototype.getTargetsToShow=function(){return this.filterTargetsToShow(this.data.targets)},x.prototype.filterTargetsToShow=function(n){var r=this;return n.filter(function(s){return r.isTargetToShow(s.id)})},x.prototype.getTargets=function(){return this.data.targets},x.prototype.mapTargetsToUniqueXs=function(n){var r=this,s=r.d3.set(r.d3.merge(n.map(function(u){return u.values.map(function(g){return+g.x})}))).values();return(s=r.isTimeSeries()?s.map(function(u){return new Date(+u)}):s.map(function(u){return+u})).sort(function(u,g){return u<g?-1:u>g?1:u>=g?0:NaN})},x.prototype.addHiddenTargetIds=function(n){n=n instanceof Array?n:new Array(n);for(var r=0;r<n.length;r++)this.hiddenTargetIds.indexOf(n[r])<0&&(this.hiddenTargetIds=this.hiddenTargetIds.concat(n[r]));this.resetCache()},x.prototype.removeHiddenTargetIds=function(n){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(r){return n.indexOf(r)<0}),this.resetCache()},x.prototype.addHiddenLegendIds=function(n){n=n instanceof Array?n:new Array(n);for(var r=0;r<n.length;r++)this.hiddenLegendIds.indexOf(n[r])<0&&(this.hiddenLegendIds=this.hiddenLegendIds.concat(n[r]))},x.prototype.removeHiddenLegendIds=function(n){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(r){return n.indexOf(r)<0})},x.prototype.getValuesAsIdKeyed=function(n){var r={};return n.forEach(function(s){r[s.id]=[],s.values.forEach(function(u){r[s.id].push(u.value)})}),r},x.prototype.checkValueInTargets=function(n,r){var u,g,y,s=Object.keys(n);for(u=0;u<s.length;u++)for(y=n[s[u]].values,g=0;g<y.length;g++)if(r(y[g].value))return!0;return!1},x.prototype.hasNegativeValueInTargets=function(n){return this.checkValueInTargets(n,function(r){return r<0})},x.prototype.hasPositiveValueInTargets=function(n){return this.checkValueInTargets(n,function(r){return r>0})},x.prototype.isOrderDesc=function(){var n=this.config;return"string"==typeof n.data_order&&"desc"===n.data_order.toLowerCase()},x.prototype.isOrderAsc=function(){var n=this.config;return"string"==typeof n.data_order&&"asc"===n.data_order.toLowerCase()},x.prototype.getOrderFunction=function(){var n=this,r=n.config,s=n.isOrderAsc(),u=n.isOrderDesc();if(s||u){var g=function(w,T){return w+Math.abs(T.value)};return function(w,T){var O=w.values.reduce(g,0),P=T.values.reduce(g,0);return s?P-O:O-P}}if(ne(r.data_order))return r.data_order;if(jn(r.data_order)){var y=r.data_order;return function(w,T){return y.indexOf(w.id)-y.indexOf(T.id)}}},x.prototype.orderTargets=function(n){var r=this.getOrderFunction();return r&&n.sort(r),n},x.prototype.filterByIndex=function(n,r){return this.d3.merge(n.map(function(s){return s.values.filter(function(u){return u.index===r})}))},x.prototype.filterByX=function(n,r){return this.d3.merge(n.map(function(s){return s.values})).filter(function(s){return s.x-r==0})},x.prototype.filterRemoveNull=function(n){return n.filter(function(r){return vt(r.value)})},x.prototype.filterByXDomain=function(n,r){return n.map(function(s){return{id:s.id,id_org:s.id_org,values:s.values.filter(function(u){return r[0]<=u.x&&u.x<=r[1]})}})},x.prototype.hasDataLabel=function(){var n=this.config;return!("boolean"!=typeof n.data_labels||!n.data_labels)||!("object"!=typeof n.data_labels||!fe(n.data_labels))},x.prototype.getDataLabelLength=function(n,r,s){var u=this,g=[0,0];return u.selectChart.select("svg").selectAll(".dummy").data([n,r]).enter().append("text").text(function(w){return u.dataLabelFormat(w.id)(w)}).each(function(w,T){g[T]=1.3*Je(this)[s]}).remove(),g},x.prototype.isNoneArc=function(n){return this.hasTarget(this.data.targets,n.id)},x.prototype.isArc=function(n){return"data"in n&&this.hasTarget(this.data.targets,n.data.id)},x.prototype.findClosestFromTargets=function(n,r){var s=this,u=n.map(function(g){return s.findClosest(g.values,r,s.config.tooltip_horizontal?s.horizontalDistance.bind(s):s.dist.bind(s),s.config.point_sensitivity)}).filter(function(g){return g});if(0!==u.length)return 1===u.length?u[0]:s.findClosest(u,r,s.dist.bind(s))},x.prototype.findClosestFromTargetsByX=function(n,r){var s,u;return n.forEach(function(g){g.values.forEach(function(y){var w=Math.abs(r-y.x);(void 0===u||w<u)&&(s=y,u=w)})}),s},x.prototype.findClosest=function(n,r,s,u){void 0===u&&(u=1/0);var y,g=this;return n.filter(function(w){return w&&g.isBarType(w.id)}).forEach(function(w){if(!y){var T=g.main.select("."+L.bars+g.getTargetSelectorSuffix(w.id)+" ."+L.bar+"-"+w.index).node();g.isWithinBar(r,T)&&(y=w)}}),n.filter(function(w){return w&&!g.isBarType(w.id)}).forEach(function(w){var T=s(w,r);T<u&&(u=T,y=w)}),y},x.prototype.dist=function(n,r){var s=this,u=s.config,g=u.axis_rotated?1:0,y=u.axis_rotated?0:1,w=s.circleY(n,n.index),T=s.x(n.x);return Math.sqrt(Math.pow(T-r[g],2)+Math.pow(w-r[y],2))},x.prototype.horizontalDistance=function(n,r){var g=this.config.axis_rotated?1:0,y=this.x(n.x);return Math.abs(y-r[g])},x.prototype.convertValuesToStep=function(n){var s,r=[].concat(n);if(!this.isCategorized())return n;for(s=n.length+1;0<s;s--)r[s]=r[s-1];return r[0]={x:r[0].x-1,value:r[0].value,id:r[0].id},r[n.length+1]={x:r[n.length].x+1,value:r[n.length].value,id:r[n.length].id},r},x.prototype.getRatio=function(n,r,s){void 0===s&&(s=!1);var u=this,g=u.api,y=0;if(r&&g.data.shown.call(g).length)if(y=r.ratio||r.value,"arc"===n)if(u.hasType("gauge"))y=(r.endAngle-r.startAngle)/(Math.PI*(u.config.gauge_fullCircle?2:1));else{var w=u.getTotalDataSum();y=r.value/w}else"index"===n&&(w=u.getTotalPerIndex(u.axis.getId(r.id)),r.ratio=rr(r.value)&&w&&w[r.index]>0?r.value/w[r.index]:0,y=r.ratio);return s&&y?100*y:y},x.prototype.updateDataAttributes=function(n,r){var g=this.config["data_"+n];return typeof r>"u"||(Object.keys(r).forEach(function(y){g[y]=r[y]}),this.redraw({withLegend:!0})),g},x.prototype.load=function(n,r){var s=this;n&&(r.filter&&(n=n.filter(r.filter)),(r.type||r.types)&&n.forEach(function(u){s.setTargetType(u.id,r.types&&r.types[u.id]?r.types[u.id]:r.type)}),s.data.targets.forEach(function(u){for(var g=0;g<n.length;g++)if(u.id===n[g].id){u.values=n[g].values,n.splice(g,1);break}}),s.data.targets=s.data.targets.concat(n)),s.updateTargets(s.data.targets),s.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),r.done&&r.done()},x.prototype.loadFromArgs=function(n){var r=this;r.resetCache(),n.data?r.load(r.convertDataToTargets(n.data),n):n.url?r.convertUrlToData(n.url,n.mimeType,n.headers,n.keys,function(s){r.load(r.convertDataToTargets(s),n)}):r.load(n.json?r.convertDataToTargets(r.convertJsonToData(n.json,n.keys)):n.rows?r.convertDataToTargets(r.convertRowsToData(n.rows)):n.columns?r.convertDataToTargets(r.convertColumnsToData(n.columns)):null,n)},x.prototype.unload=function(n,r){var s=this;s.resetCache(),r||(r=function(){}),(n=n.filter(function(u){return s.hasTarget(s.data.targets,u)}))&&0!==n.length?(s.svg.selectAll(n.map(function(u){return s.selectorTarget(u)})).transition().style("opacity",0).remove().call(s.endall,r),n.forEach(function(u){s.withoutFadeIn[u]=!1,s.legend&&s.legend.selectAll("."+L.legendItem+s.getTargetSelectorSuffix(u)).remove(),s.data.targets=s.data.targets.filter(function(g){return g.id!==u})})):r()},x.prototype.getYDomainMin=function(n){var y,w,T,O,P,V,r=this,s=r.config,u=r.mapToIds(n),g=r.getValuesAsIdKeyed(n);if(s.data_groups.length>0)for(V=r.hasNegativeValueInTargets(n),y=0;y<s.data_groups.length;y++)if(0!==(O=s.data_groups[y].filter(function(G){return u.indexOf(G)>=0})).length)for(T=O[0],V&&g[T]&&g[T].forEach(function(G,Y){g[T][Y]=G<0?G:0}),w=1;w<O.length;w++)g[P=O[w]]&&g[P].forEach(function(G,Y){r.axis.getId(P)===r.axis.getId(T)&&g[T]&&!(V&&+G>0)&&(g[T][Y]+=+G)});return r.d3.min(Object.keys(g).map(function(G){return r.d3.min(g[G])}))},x.prototype.getYDomainMax=function(n){var y,w,T,O,P,V,r=this,s=r.config,u=r.mapToIds(n),g=r.getValuesAsIdKeyed(n);if(s.data_groups.length>0)for(V=r.hasPositiveValueInTargets(n),y=0;y<s.data_groups.length;y++)if(0!==(O=s.data_groups[y].filter(function(G){return u.indexOf(G)>=0})).length)for(T=O[0],V&&g[T]&&g[T].forEach(function(G,Y){g[T][Y]=G>0?G:0}),w=1;w<O.length;w++)g[P=O[w]]&&g[P].forEach(function(G,Y){r.axis.getId(P)===r.axis.getId(T)&&g[T]&&!(V&&+G<0)&&(g[T][Y]+=+G)});return r.d3.max(Object.keys(g).map(function(G){return r.d3.max(g[G])}))},x.prototype.getYDomain=function(n,r,s){var u=this,g=u.config;if(u.isAxisNormalized(r))return[0,100];var G,Y,z,X,Z,tt,yt,Pt,Rt,Mt,y=n.filter(function(ot){return u.axis.getId(ot.id)===r}),w=s?u.filterByXDomain(y,s):y,T="y2"===r?g.axis_y2_min:g.axis_y_min,O="y2"===r?g.axis_y2_max:g.axis_y_max,P=u.getYDomainMin(w),V=u.getYDomainMax(w),q="y2"===r?g.axis_y2_center:g.axis_y_center,$t=u.hasType("bar",w)&&g.bar_zerobased||u.hasType("area",w)&&g.area_zerobased,Et="y2"===r?g.axis_y2_inverted:g.axis_y_inverted,mt=u.hasDataLabel()&&g.axis_rotated,Ht=u.hasDataLabel()&&!g.axis_rotated;if(P=vt(T)?T:vt(O)?P<O?P:O-10:P,V=vt(O)?O:vt(T)?T<V?V:T+10:V,0===w.length)return"y2"===r?u.y2.domain():u.y.domain();if(isNaN(P)&&(P=0),isNaN(V)&&(V=P),P===V&&(P<0?V=0:P=0),Rt=P>=0&&V>=0,Mt=P<=0&&V<=0,(vt(T)&&Rt||vt(O)&&Mt)&&($t=!1),$t&&(Rt&&(P=0),Mt&&(V=0)),z=X=.1*(Y=Math.abs(V-P)),typeof q<"u"&&(V=q+(Z=Math.max(Math.abs(P),Math.abs(V))),P=q-Z),mt)tt=u.getDataLabelLength(P,V,"width"),yt=qn(u.y.range()),z+=Y*((Pt=[tt[0]/yt,tt[1]/yt])[1]/(1-Pt[0]-Pt[1])),X+=Y*(Pt[0]/(1-Pt[0]-Pt[1]));else if(Ht){tt=u.getDataLabelLength(P,V,"height");var gt=u.getY(g["axis_"+r+"_type"],[0,g.axis_rotated?u.width:u.height],[0,Y]);z+=gt(tt[1]),X+=gt(tt[0])}return"y"===r&&fe(g.axis_y_padding)&&(z=u.axis.getPadding(g.axis_y_padding,"top",z,Y),X=u.axis.getPadding(g.axis_y_padding,"bottom",X,Y)),"y2"===r&&fe(g.axis_y2_padding)&&(z=u.axis.getPadding(g.axis_y2_padding,"top",z,Y),X=u.axis.getPadding(g.axis_y2_padding,"bottom",X,Y)),$t&&(Rt&&(X=P),Mt&&(z=-V)),G=[P-X,V+z],Et?G.reverse():G},x.prototype.getXDomainMin=function(n){var r=this,s=r.config;return Zt(s.axis_x_min)?r.isTimeSeries()?this.parseDate(s.axis_x_min):s.axis_x_min:r.d3.min(n,function(u){return r.d3.min(u.values,function(g){return g.x})})},x.prototype.getXDomainMax=function(n){var r=this,s=r.config;return Zt(s.axis_x_max)?r.isTimeSeries()?this.parseDate(s.axis_x_max):s.axis_x_max:r.d3.max(n,function(u){return r.d3.max(u.values,function(g){return g.x})})},x.prototype.getXDomainPadding=function(n){var g,y,w,T,r=this,s=r.config,u=n[1]-n[0];return y=r.isCategorized()?0:r.hasType("bar")?(g=r.getMaxDataCount())>1?u/(g-1)/2:.5:.01*u,"object"==typeof s.axis_x_padding&&fe(s.axis_x_padding)?(w=vt(s.axis_x_padding.left)?s.axis_x_padding.left:y,T=vt(s.axis_x_padding.right)?s.axis_x_padding.right:y):w=T="number"==typeof s.axis_x_padding?s.axis_x_padding:y,{left:w,right:T}},x.prototype.getXDomain=function(n){var r=this,s=[r.getXDomainMin(n),r.getXDomainMax(n)],u=s[0],g=s[1],y=r.getXDomainPadding(s),w=0,T=0;return u-g==0&&!r.isCategorized()&&(r.isTimeSeries()?(u=new Date(.5*u.getTime()),g=new Date(1.5*g.getTime())):(u=0===u?1:.5*u,g=0===g?-1:1.5*g)),(u||0===u)&&(w=r.isTimeSeries()?new Date(u.getTime()-y.left):u-y.left),(g||0===g)&&(T=r.isTimeSeries()?new Date(g.getTime()+y.right):g+y.right),[w,T]},x.prototype.updateXDomain=function(n,r,s,u,g){var y=this,w=y.config;return s&&(y.x.domain(g||y.d3.extent(y.getXDomain(n))),y.orgXDomain=y.x.domain(),w.zoom_enabled&&y.zoom.update(),y.subX.domain(y.x.domain()),y.brush&&y.brush.updateScale(y.subX)),r&&y.x.domain(g||(!y.brush||y.brush.empty()?y.orgXDomain:y.brush.selectionAsValue())),u&&y.x.domain(y.trimXDomain(y.x.orgDomain())),y.x.domain()},x.prototype.trimXDomain=function(n){var r=this.getZoomDomain(),s=r[0],u=r[1];return n[0]<=s&&(n[1]=s-n[0]+ +n[1],n[0]=s),u<=n[1]&&(n[0]=+n[0]-(n[1]-u),n[1]=u),n},x.prototype.drag=function(n){var y,w,T,O,P,V,G,Y,r=this,s=r.config,u=r.main,g=r.d3;r.hasArcType()||s.data_selection_enabled&&s.data_selection_multiple&&(y=r.dragStart[0],w=r.dragStart[1],T=n[0],O=n[1],P=Math.min(y,T),V=Math.max(y,T),G=s.data_selection_grouped?r.margin.top:Math.min(w,O),Y=s.data_selection_grouped?r.height:Math.max(w,O),u.select("."+L.dragarea).attr("x",P).attr("y",G).attr("width",V-P).attr("height",Y-G),u.selectAll("."+L.shapes).selectAll("."+L.shape).each(function(z,X){if(s.data_selection_isselectable(z)){var yt,Pt,$t,mt,q=g.select(this),Z=q.classed(L.SELECTED),tt=q.classed(L.INCLUDED),Et=!1;if(q.classed(L.circle))yt=1*q.attr("cx"),Pt=1*q.attr("cy"),$t=r.togglePoint,Et=P<yt&&yt<V&&G<Pt&&Pt<Y;else{if(!q.classed(L.bar))return;Pt=(mt=da(this)).y,$t=r.togglePath,Et=!(V<(yt=mt.x)||yt+mt.width<P||Y<Pt||Pt+mt.height<G)}Et^tt&&(q.classed(L.INCLUDED,!tt),q.classed(L.SELECTED,!Z),$t.call(r,!Z,q,z,X))}}))},x.prototype.dragstart=function(n){var r=this,s=r.config;r.hasArcType()||s.data_selection_enabled&&(r.dragStart=n,r.main.select("."+L.chart).append("rect").attr("class",L.dragarea).style("opacity",.1),r.dragging=!0)},x.prototype.dragend=function(){var n=this,r=n.config;n.hasArcType()||r.data_selection_enabled&&(n.main.select("."+L.dragarea).transition().duration(100).style("opacity",0).remove(),n.main.selectAll("."+L.shape).classed(L.INCLUDED,!1),n.dragging=!1)},x.prototype.getYFormat=function(n){var r=this,s=n&&!r.hasType("gauge")?r.defaultArcValueFormat:r.yFormat,u=n&&!r.hasType("gauge")?r.defaultArcValueFormat:r.y2Format;return function(g,y,w){return("y2"===r.axis.getId(w)?u:s).call(r,g,y)}},x.prototype.yFormat=function(n){var s=this.config;return(s.axis_y_tick_format?s.axis_y_tick_format:this.defaultValueFormat)(n)},x.prototype.y2Format=function(n){var s=this.config;return(s.axis_y2_tick_format?s.axis_y2_tick_format:this.defaultValueFormat)(n)},x.prototype.defaultValueFormat=function(n){return vt(n)?+n:""},x.prototype.defaultArcValueFormat=function(n,r){return(100*r).toFixed(1)+"%"},x.prototype.dataLabelFormat=function(n){var s=this.config.data_labels,g=function(y){return vt(y)?+y:""};return"function"==typeof s.format?s.format:"object"==typeof s.format?s.format[n]?!0===s.format[n]?g:s.format[n]:function(){return""}:g},x.prototype.initGrid=function(){var n=this,r=n.config,s=n.d3;n.grid=n.main.append("g").attr("clip-path",n.clipPathForGrid).attr("class",L.grid),r.grid_x_show&&n.grid.append("g").attr("class",L.xgrids),r.grid_y_show&&n.grid.append("g").attr("class",L.ygrids),r.grid_focus_show&&n.grid.append("g").attr("class",L.xgridFocus).append("line").attr("class",L.xgridFocus),n.xgrid=s.selectAll([]),r.grid_lines_front||n.initGridLines()},x.prototype.initGridLines=function(){var n=this,r=n.d3;n.gridLines=n.main.append("g").attr("clip-path",n.clipPathForGrid).attr("class",L.grid+" "+L.gridLines),n.gridLines.append("g").attr("class",L.xgridLines),n.gridLines.append("g").attr("class",L.ygridLines),n.xgridLines=r.selectAll([])},x.prototype.updateXGrid=function(n){var r=this,s=r.config,u=r.d3,g=r.generateGridData(s.grid_x_type,r.x),y=r.isCategorized()?r.xAxis.tickOffset():0;r.xgridAttr=s.axis_rotated?{x1:0,x2:r.width,y1:function(O){return r.x(O)-y},y2:function(O){return r.x(O)-y}}:{x1:function(O){return r.x(O)+y},x2:function(O){return r.x(O)+y},y1:0,y2:r.height},r.xgridAttr.opacity=function(){return+u.select(this).attr(s.axis_rotated?"y1":"x1")===(s.axis_rotated?r.height:0)?0:1};var w=r.main.select("."+L.xgrids).selectAll("."+L.xgrid).data(g),T=w.enter().append("line").attr("class",L.xgrid).attr("x1",r.xgridAttr.x1).attr("x2",r.xgridAttr.x2).attr("y1",r.xgridAttr.y1).attr("y2",r.xgridAttr.y2).style("opacity",0);r.xgrid=T.merge(w),n||r.xgrid.attr("x1",r.xgridAttr.x1).attr("x2",r.xgridAttr.x2).attr("y1",r.xgridAttr.y1).attr("y2",r.xgridAttr.y2).style("opacity",r.xgridAttr.opacity),w.exit().remove()},x.prototype.updateYGrid=function(){var n=this,r=n.config,s=n.yAxis.tickValues()||n.y.ticks(r.grid_y_ticks),u=n.main.select("."+L.ygrids).selectAll("."+L.ygrid).data(s),g=u.enter().append("line").attr("class",L.ygrid);n.ygrid=g.merge(u),n.ygrid.attr("x1",r.axis_rotated?n.y:0).attr("x2",r.axis_rotated?n.y:n.width).attr("y1",r.axis_rotated?0:n.y).attr("y2",r.axis_rotated?n.height:n.y),u.exit().remove(),n.smoothLines(n.ygrid,"grid")},x.prototype.gridTextAnchor=function(n){return n.position?n.position:"end"},x.prototype.gridTextDx=function(n){return"start"===n.position?4:"middle"===n.position?0:-4},x.prototype.xGridTextX=function(n){return"start"===n.position?-this.height:"middle"===n.position?-this.height/2:0},x.prototype.yGridTextX=function(n){return"start"===n.position?0:"middle"===n.position?this.width/2:this.width},x.prototype.updateGrid=function(n){var g,y,w,T,r=this,s=r.main,u=r.config,O=r.xv.bind(r),P=r.yv.bind(r),V=r.xGridTextX.bind(r),G=r.yGridTextX.bind(r);r.grid.style("visibility",r.hasArcType()?"hidden":"visible"),s.select("line."+L.xgridFocus).style("visibility","hidden"),u.grid_x_show&&r.updateXGrid(),(y=(g=s.select("."+L.xgridLines).selectAll("."+L.xgridLine).data(u.grid_x_lines)).enter().append("g").attr("class",function(Y){return L.xgridLine+(Y.class?" "+Y.class:"")})).append("line").attr("x1",u.axis_rotated?0:O).attr("x2",u.axis_rotated?r.width:O).attr("y1",u.axis_rotated?O:0).attr("y2",u.axis_rotated?O:r.height).style("opacity",0),y.append("text").attr("text-anchor",r.gridTextAnchor).attr("transform",u.axis_rotated?"":"rotate(-90)").attr("x",u.axis_rotated?G:V).attr("y",O).attr("dx",r.gridTextDx).attr("dy",-5).style("opacity",0),r.xgridLines=y.merge(g),g.exit().transition().duration(n).style("opacity",0).remove(),u.grid_y_show&&r.updateYGrid(),(T=(w=s.select("."+L.ygridLines).selectAll("."+L.ygridLine).data(u.grid_y_lines)).enter().append("g").attr("class",function(Y){return L.ygridLine+(Y.class?" "+Y.class:"")})).append("line").attr("x1",u.axis_rotated?P:0).attr("x2",u.axis_rotated?P:r.width).attr("y1",u.axis_rotated?0:P).attr("y2",u.axis_rotated?r.height:P).style("opacity",0),T.append("text").attr("text-anchor",r.gridTextAnchor).attr("transform",u.axis_rotated?"rotate(-90)":"").attr("x",u.axis_rotated?V:G).attr("y",P).attr("dx",r.gridTextDx).attr("dy",-5).style("opacity",0),r.ygridLines=T.merge(w),r.ygridLines.select("line").transition().duration(n).attr("x1",u.axis_rotated?P:0).attr("x2",u.axis_rotated?P:r.width).attr("y1",u.axis_rotated?0:P).attr("y2",u.axis_rotated?r.height:P).style("opacity",1),r.ygridLines.select("text").transition().duration(n).attr("x",u.axis_rotated?r.xGridTextX.bind(r):r.yGridTextX.bind(r)).attr("y",P).text(function(Y){return Y.text}).style("opacity",1),w.exit().transition().duration(n).style("opacity",0).remove()},x.prototype.redrawGrid=function(n,r){var s=this,u=s.config,g=s.xv.bind(s),y=s.xgridLines.select("line"),w=s.xgridLines.select("text");return[(n?y.transition(r):y).attr("x1",u.axis_rotated?0:g).attr("x2",u.axis_rotated?s.width:g).attr("y1",u.axis_rotated?g:0).attr("y2",u.axis_rotated?g:s.height).style("opacity",1),(n?w.transition(r):w).attr("x",u.axis_rotated?s.yGridTextX.bind(s):s.xGridTextX.bind(s)).attr("y",g).text(function(T){return T.text}).style("opacity",1)]},x.prototype.showXGridFocus=function(n){var r=this,s=r.config,u=n.filter(function(w){return w&&vt(w.value)}),g=r.main.selectAll("line."+L.xgridFocus),y=r.xx.bind(r);s.tooltip_show&&(r.hasType("stanford")||r.hasArcType()||(g.style("visibility","visible").data([u[0]]).attr(s.axis_rotated?"y1":"x1",y).attr(s.axis_rotated?"y2":"x2",y),r.smoothLines(g,"grid")))},x.prototype.hideXGridFocus=function(){this.main.select("line."+L.xgridFocus).style("visibility","hidden")},x.prototype.updateXgridFocus=function(){var n=this,r=n.config;n.main.select("line."+L.xgridFocus).attr("x1",r.axis_rotated?0:-10).attr("x2",r.axis_rotated?n.width:-10).attr("y1",r.axis_rotated?-10:0).attr("y2",r.axis_rotated?-10:n.height)},x.prototype.generateGridData=function(n,r){var g,y,w,T,u=[],O=this.main.select("."+L.axisX).selectAll(".tick").size();if("year"===n)for(y=(g=this.getXDomain())[0].getFullYear(),w=g[1].getFullYear(),T=y;T<=w;T++)u.push(new Date(T+"-01-01 00:00:00"));else(u=r.ticks(10)).length>O&&(u=u.filter(function(P){return(""+P).indexOf(".")<0}));return u},x.prototype.getGridFilterToRemove=function(n){return n?function(r){var s=!1;return[].concat(n).forEach(function(u){("value"in u&&r.value===u.value||"class"in u&&r.class===u.class)&&(s=!0)}),s}:function(){return!0}},x.prototype.removeGridLines=function(n,r){var s=this,u=s.config,g=s.getGridFilterToRemove(n),y=function(O){return!g(O)},T=r?L.xgridLine:L.ygridLine;s.main.select("."+(r?L.xgridLines:L.ygridLines)).selectAll("."+T).filter(g).transition().duration(u.transition_duration).style("opacity",0).remove(),r?u.grid_x_lines=u.grid_x_lines.filter(y):u.grid_y_lines=u.grid_y_lines.filter(y)},x.prototype.initEventRect=function(){var n=this,r=n.config;n.main.select("."+L.chart).append("g").attr("class",L.eventRects).style("fill-opacity",0),n.eventRect=n.main.select("."+L.eventRects).append("rect").attr("class",L.eventRect),r.zoom_enabled&&n.zoom&&(n.eventRect.call(n.zoom).on("dblclick.zoom",null),r.zoom_initialRange&&n.eventRect.transition().duration(0).call(n.zoom.transform,n.zoomTransform(r.zoom_initialRange)))},x.prototype.redrawEventRect=function(){var n=this,r=n.d3,s=n.config;function u(){n.svg.select("."+L.eventRect).style("cursor",null),n.hideXGridFocus(),n.hideTooltip(),n.unexpandCircles(),n.unexpandBars()}var g=function(w,T){return T&&(n.isBarType(T.id)||n.dist(T,w)<s.point_sensitivity)},y=function(w){return w?n.addName(Object.assign({},w)):null};n.main.select("."+L.eventRects).style("cursor",s.zoom_enabled?s.axis_rotated?"ns-resize":"ew-resize":null),n.eventRect.attr("x",0).attr("y",0).attr("width",n.width).attr("height",n.height).on("mouseout",s.interaction_enabled?function(){s&&(n.hasArcType()||(n.mouseover&&(s.data_onmouseout.call(n.api,n.mouseover),n.mouseover=void 0),u()))}:null).on("mousemove",s.interaction_enabled?function(){if(!n.dragging){var w=n.getTargetsToShow();if(!n.hasArcType(w)){var G,T=r.mouse(this),O=y(n.findClosestFromTargets(w,T)),P=g(T,O);if(n.mouseover&&(!O||O.id!==n.mouseover.id||O.index!==n.mouseover.index)&&(s.data_onmouseout.call(n.api,n.mouseover),n.mouseover=void 0),O&&!n.mouseover&&(s.data_onmouseover.call(n.api,O),n.mouseover=O),n.svg.select("."+L.eventRect).style("cursor",P?"pointer":null),!s.tooltip_grouped||n.hasType("stanford",w))O&&(G=[O]);else{var Y;(Y=O||n.findClosestFromTargetsByX(w,n.x.invert(s.axis_rotated?T[1]:T[0])))&&(G=n.filterByX(w,Y.x))}if(!G||0===G.length)return u();G=G.map(y),n.showTooltip(G,this),s.point_focus_expand_enabled&&(n.unexpandCircles(),G.forEach(function(X){n.expandCircles(X.index,X.id,!1)})),n.unexpandBars(),G.forEach(function(X){n.expandBars(X.index,X.id,!1)}),n.showXGridFocus(G)}}}:null).on("click",s.interaction_enabled?function(){var w=n.getTargetsToShow();if(!n.hasArcType(w)){var T=r.mouse(this),O=y(n.findClosestFromTargets(w,T));if(g(T,O)&&((!s.data_selection_grouped||n.isStanfordType(O)?[O]:n.filterByX(w,O.x)).forEach(function(G){n.main.selectAll("."+L.shapes+n.getTargetSelectorSuffix(G.id)).selectAll("."+L.shape+"-"+G.index).each(function(){(s.data_selection_grouped||n.isWithinShape(this,G))&&n.toggleShape(this,G,G.index)})}),O)){var V=n.main.selectAll("."+L.shapes+n.getTargetSelectorSuffix(O.id)).select("."+L.shape+"-"+O.index);s.data_onclick.call(n.api,O,V.node())}}}:null).call(s.interaction_enabled&&s.data_selection_draggable&&n.drag?r.drag().on("drag",function(){n.drag(r.mouse(this))}).on("start",function(){n.dragstart(r.mouse(this))}).on("end",function(){n.dragend()}):function(){})},x.prototype.getMousePosition=function(n){return[this.x(n.x),this.getYScale(n.id)(n.value)]},x.prototype.dispatchEvent=function(n,r){var g=this.main.select("."+L.eventRect).node(),y=g.getBoundingClientRect(),w=y.left+(r?r[0]:0),T=y.top+(r?r[1]:0),O=document.createEvent("MouseEvents");O.initMouseEvent(n,!0,!0,window,0,w,T,w,T,!1,!1,!1,!1,0,null),g.dispatchEvent(O)},x.prototype.initLegend=function(){var n=this;if(n.legendItemTextBox={},n.legendHasRendered=!1,n.legend=n.svg.append("g").attr("transform",n.getTranslate("legend")),!n.config.legend_show)return n.legend.style("visibility","hidden"),void(n.hiddenLegendIds=n.mapToIds(n.data.targets));n.updateLegendWithDefaults()},x.prototype.updateLegendWithDefaults=function(){var n=this;n.updateLegend(n.mapToIds(n.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},x.prototype.updateSizeForLegend=function(n,r){var s=this,u=s.config,g={top:s.isLegendTop?s.getCurrentPaddingTop()+u.legend_inset_y+5.5:s.currentHeight-n-s.getCurrentPaddingBottom()-u.legend_inset_y,left:s.isLegendLeft?s.getCurrentPaddingLeft()+u.legend_inset_x+.5:s.currentWidth-r-s.getCurrentPaddingRight()-u.legend_inset_x+.5};s.margin3={top:s.isLegendRight?0:s.isLegendInset?g.top:s.currentHeight-n,right:NaN,bottom:0,left:s.isLegendRight?s.currentWidth-r:s.isLegendInset?g.left:0}},x.prototype.transformLegend=function(n){var r=this;(n?r.legend.transition():r.legend).attr("transform",r.getTranslate("legend"))},x.prototype.updateLegendStep=function(n){this.legendStep=n},x.prototype.updateLegendItemWidth=function(n){this.legendItemWidth=n},x.prototype.updateLegendItemHeight=function(n){this.legendItemHeight=n},x.prototype.getLegendWidth=function(){var n=this;return n.config.legend_show?n.isLegendRight||n.isLegendInset?n.legendItemWidth*(n.legendStep+1):n.currentWidth:0},x.prototype.getLegendHeight=function(){var n=this,r=0;return n.config.legend_show&&(r=n.isLegendRight?n.currentHeight:Math.max(20,n.legendItemHeight)*(n.legendStep+1)),r},x.prototype.opacityForLegend=function(n){return n.classed(L.legendItemHidden)?null:1},x.prototype.opacityForUnfocusedLegend=function(n){return n.classed(L.legendItemHidden)?null:.3},x.prototype.toggleFocusLegend=function(n,r){var s=this;n=s.mapToTargetIds(n),s.legend.selectAll("."+L.legendItem).filter(function(u){return n.indexOf(u)>=0}).classed(L.legendItemFocused,r).transition().duration(100).style("opacity",function(){return(r?s.opacityForLegend:s.opacityForUnfocusedLegend).call(s,s.d3.select(this))})},x.prototype.revertLegend=function(){var n=this,r=n.d3;n.legend.selectAll("."+L.legendItem).classed(L.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return n.opacityForLegend(r.select(this))})},x.prototype.showLegend=function(n){var r=this,s=r.config;s.legend_show||(s.legend_show=!0,r.legend.style("visibility","visible"),r.legendHasRendered||r.updateLegendWithDefaults()),r.removeHiddenLegendIds(n),r.legend.selectAll(r.selectorLegends(n)).style("visibility","visible").transition().style("opacity",function(){return r.opacityForLegend(r.d3.select(this))})},x.prototype.hideLegend=function(n){var r=this,s=r.config;s.legend_show&&Qn(n)&&(s.legend_show=!1,r.legend.style("visibility","hidden")),r.addHiddenLegendIds(n),r.legend.selectAll(r.selectorLegends(n)).style("opacity",0).style("visibility","hidden")},x.prototype.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}},x.prototype.updateLegend=function(n,r,s){var y,w,T,O,P,V,G,Y,z,Rt,ut,qt,se,he,te,ce,u=this,g=u.config,Z=0,tt=0,Pt=g.legend_item_tile_width+5,Mt=0,$t={},Et={},mt={},Ht=[0],gt={},ot=0;function Bt(J,xt,He){var tn,pa,dn=0===He,or=He===n.length-1,gn=function ye(J,xt){return u.legendItemTextBox[xt]||(u.legendItemTextBox[xt]=u.getTextRect(J.textContent,L.legendItem,J)),u.legendItemTextBox[xt]}(J,xt),Ue=gn.width+Pt+(!or||u.isLegendRight||u.isLegendInset?10:0)+g.legend_padding,Ve=gn.height+4,pn=u.isLegendRight||u.isLegendInset?Ve:Ue,Ci=u.isLegendRight||u.isLegendInset?u.getLegendHeight():u.getLegendWidth();function sr(en,Gn){Gn||(tn=(Ci-Mt-pn)/2)<10&&(tn=(Ci-pn)/2,Mt=0,ot++),gt[en]=ot,Ht[ot]=u.isLegendInset?10:tn,$t[en]=Mt,Mt+=pn}dn&&(Mt=0,ot=0,Z=0,tt=0),!g.legend_show||u.isLegendToShow(xt)?(Et[xt]=Ue,mt[xt]=Ve,(!Z||Ue>=Z)&&(Z=Ue),(!tt||Ve>=tt)&&(tt=Ve),pa=u.isLegendRight||u.isLegendInset?tt:Z,g.legend_equally?(Object.keys(Et).forEach(function(en){Et[en]=Z}),Object.keys(mt).forEach(function(en){mt[en]=tt}),(tn=(Ci-pa*n.length)/2)<10?(Mt=0,ot=0,n.forEach(function(en){sr(en)})):sr(xt,!0)):sr(xt)):Et[xt]=mt[xt]=gt[xt]=$t[xt]=0}n=n.filter(function(J){return!Zt(g.data_names[J])||null!==g.data_names[J]}),ut=Yt(r=r||{},"withTransition",!0),qt=Yt(r,"withTransitionForTransform",!0),u.isLegendInset&&u.updateLegendStep(ot=g.legend_inset_step?g.legend_inset_step:n.length),u.isLegendRight?(y=function(J){return Z*gt[J]},O=function(J){return Ht[gt[J]]+$t[J]}):u.isLegendInset?(y=function(J){return Z*gt[J]+10},O=function(J){return Ht[gt[J]]+$t[J]}):(y=function(J){return Ht[gt[J]]+$t[J]},O=function(J){return tt*gt[J]}),w=function(J,xt){return y(J,xt)+4+g.legend_item_tile_width},P=function(J,xt){return O(J,xt)+9},T=function(J,xt){return y(J,xt)},V=function(J,xt){return O(J,xt)-5},G=function(J,xt){return y(J,xt)-2},Y=function(J,xt){return y(J,xt)-2+g.legend_item_tile_width},z=function(J,xt){return O(J,xt)+4},(Rt=u.legend.selectAll("."+L.legendItem).data(n).enter().append("g").attr("class",function(J){return u.generateClass(L.legendItem,J)}).style("visibility",function(J){return u.isLegendToShow(J)?"visible":"hidden"}).style("cursor",function(){return g.interaction_enabled?"pointer":"auto"}).on("click",g.interaction_enabled?function(J){g.legend_item_onclick?g.legend_item_onclick.call(u,J):u.d3.event.altKey?(u.api.hide(),u.api.show(J)):(u.api.toggle(J),u.isTargetToShow(J)?u.api.focus(J):u.api.revert())}:null).on("mouseover",g.interaction_enabled?function(J){g.legend_item_onmouseover?g.legend_item_onmouseover.call(u,J):(u.d3.select(this).classed(L.legendItemFocused,!0),!u.transiting&&u.isTargetToShow(J)&&u.api.focus(J))}:null).on("mouseout",g.interaction_enabled?function(J){g.legend_item_onmouseout?g.legend_item_onmouseout.call(u,J):(u.d3.select(this).classed(L.legendItemFocused,!1),u.api.revert())}:null)).append("text").text(function(J){return Zt(g.data_names[J])?g.data_names[J]:J}).each(function(J,xt){Bt(this,J,xt)}).style("pointer-events","none").attr("x",u.isLegendRight||u.isLegendInset?w:-200).attr("y",u.isLegendRight||u.isLegendInset?-200:P),Rt.append("rect").attr("class",L.legendItemEvent).style("fill-opacity",0).attr("x",u.isLegendRight||u.isLegendInset?T:-200).attr("y",u.isLegendRight||u.isLegendInset?-200:V),Rt.append("line").attr("class",L.legendItemTile).style("stroke",u.color).style("pointer-events","none").attr("x1",u.isLegendRight||u.isLegendInset?G:-200).attr("y1",u.isLegendRight||u.isLegendInset?-200:z).attr("x2",u.isLegendRight||u.isLegendInset?Y:-200).attr("y2",u.isLegendRight||u.isLegendInset?-200:z).attr("stroke-width",g.legend_item_tile_height),ce=u.legend.select("."+L.legendBackground+" rect"),u.isLegendInset&&Z>0&&0===ce.size()&&(ce=u.legend.insert("g","."+L.legendItem).attr("class",L.legendBackground).append("rect")),se=u.legend.selectAll("text").data(n).text(function(J){return Zt(g.data_names[J])?g.data_names[J]:J}).each(function(J,xt){Bt(this,J,xt)}),(ut?se.transition():se).attr("x",w).attr("y",P),he=u.legend.selectAll("rect."+L.legendItemEvent).data(n),(ut?he.transition():he).attr("width",function(J){return Et[J]}).attr("height",function(J){return mt[J]}).attr("x",T).attr("y",V),te=u.legend.selectAll("line."+L.legendItemTile).data(n),(ut?te.transition():te).style("stroke",u.levelColor?function(J){return u.levelColor(u.cache[J].values.reduce(function(xt,He){return xt+He.value},0))}:u.color).attr("x1",G).attr("y1",z).attr("x2",Y).attr("y2",z),ce&&(ut?ce.transition():ce).attr("height",u.getLegendHeight()-12).attr("width",Z*(ot+1)+10),u.legend.selectAll("."+L.legendItem).classed(L.legendItemHidden,function(J){return!u.isTargetToShow(J)}),u.updateLegendItemWidth(Z),u.updateLegendItemHeight(tt),u.updateLegendStep(ot),u.updateSizes(),u.updateScales(),u.updateSvgSize(),u.transformAll(qt,s),u.legendHasRendered=!0},x.prototype.initRegion=function(){var n=this;n.region=n.main.append("g").attr("clip-path",n.clipPath).attr("class",L.regions)},x.prototype.updateRegion=function(n){var r=this,s=r.config;r.region.style("visibility",r.hasArcType()?"hidden":"visible");var u=r.main.select("."+L.regions).selectAll("."+L.region).data(s.regions),g=u.enter().append("g");g.append("rect").attr("x",r.regionX.bind(r)).attr("y",r.regionY.bind(r)).attr("width",r.regionWidth.bind(r)).attr("height",r.regionHeight.bind(r)).style("fill-opacity",function(y){return vt(y.opacity)?y.opacity:.1}),g.append("text").text(r.labelRegion.bind(r)),r.mainRegion=g.merge(u).attr("class",r.classRegion.bind(r)),u.exit().transition().duration(n).style("opacity",0).remove()},x.prototype.redrawRegion=function(n,r){var s=this,u=s.mainRegion,g=s.mainRegion.selectAll("text");return[(n?u.transition(r):u).attr("x",s.regionX.bind(s)).attr("y",s.regionY.bind(s)).attr("width",s.regionWidth.bind(s)).attr("height",s.regionHeight.bind(s)).style("fill-opacity",function(y){return vt(y.opacity)?y.opacity:.1}),(n?g.transition(r):g).attr("x",s.labelOffsetX.bind(s)).attr("y",s.labelOffsetY.bind(s)).attr("transform",s.labelTransform.bind(s)).attr("style","text-anchor: left;")]},x.prototype.regionX=function(n){var r=this,s=r.config;return"y"===n.axis||"y2"===n.axis?s.axis_rotated&&"start"in n?("y"===n.axis?r.y:r.y2)(n.start):0:s.axis_rotated?0:"start"in n?r.x(r.isTimeSeries()?r.parseDate(n.start):n.start):0},x.prototype.regionY=function(n){var r=this,s=r.config;return"y"===n.axis||"y2"===n.axis?s.axis_rotated?0:"end"in n?("y"===n.axis?r.y:r.y2)(n.end):0:s.axis_rotated&&"start"in n?r.x(r.isTimeSeries()?r.parseDate(n.start):n.start):0},x.prototype.regionWidth=function(n){var g,r=this,s=r.config,u=r.regionX(n);return(g="y"===n.axis||"y2"===n.axis?s.axis_rotated&&"end"in n?("y"===n.axis?r.y:r.y2)(n.end):r.width:s.axis_rotated?r.width:"end"in n?r.x(r.isTimeSeries()?r.parseDate(n.end):n.end):r.width)<u?0:g-u},x.prototype.regionHeight=function(n){var g,r=this,s=r.config,u=this.regionY(n);return(g="y"===n.axis||"y2"===n.axis?s.axis_rotated?r.height:"start"in n?("y"===n.axis?r.y:r.y2)(n.start):r.height:s.axis_rotated&&"end"in n?r.x(r.isTimeSeries()?r.parseDate(n.end):n.end):r.height)<u?0:g-u},x.prototype.isRegionOnX=function(n){return!n.axis||"x"===n.axis},x.prototype.labelRegion=function(n){return"label"in n?n.label:""},x.prototype.labelTransform=function(n){return"vertical"in n&&n.vertical?"rotate(90)":""},x.prototype.labelOffsetX=function(n){var r="paddingX"in n?n.paddingX:3,s="paddingY"in n?n.paddingY:3;return"vertical"in n&&n.vertical?this.regionY(n)+s:this.regionX(n)+r},x.prototype.labelOffsetY=function(n){var r="paddingX"in n?n.paddingX:3,s="paddingY"in n?n.paddingY:3;return"vertical"in n&&n.vertical?-(this.regionX(n)+r):this.regionY(n)+10+s},x.prototype.getScale=function(n,r,s){return(s?this.d3.scaleTime():this.d3.scaleLinear()).range([n,r])},x.prototype.getX=function(n,r,s,u){var T,g=this,y=g.getScale(n,r,g.isTimeSeries()),w=s?y.domain(s):y;for(T in g.isCategorized()?(u=u||function(){return 0},y=function(O,P){var V=w(O)+u(O);return P?V:Math.ceil(V)}):y=function(O,P){var V=w(O);return P?V:Math.ceil(V)},w)y[T]=w[T];return y.orgDomain=function(){return w.domain()},g.isCategorized()&&(y.domain=function(O){return arguments.length?(w.domain(O),y):[(O=this.orgDomain())[0],O[1]+1]}),y},x.prototype.getY=function(n,r,s){var u;if("timeseries"===n||"time"===n)u=this.d3.scaleTime();else if("log"===n)u=Ut(this.d3);else{if("linear"!==n&&void 0!==n)throw new Error('Invalid Y axis type: "'+n+'"');u=this.d3.scaleLinear()}return r&&u.domain(r),s&&u.range(s),u},x.prototype.getYScale=function(n){return"y2"===this.axis.getId(n)?this.y2:this.y},x.prototype.getSubYScale=function(n){return"y2"===this.axis.getId(n)?this.subY2:this.subY},x.prototype.updateScales=function(){var n=this,r=n.config,s=!n.x;n.xMin=r.axis_rotated?1:0,n.xMax=r.axis_rotated?n.height:n.width,n.yMin=r.axis_rotated?0:n.height,n.yMax=r.axis_rotated?n.width:1,n.subXMin=n.xMin,n.subXMax=n.xMax,n.subYMin=r.axis_rotated?0:n.height2,n.subYMax=r.axis_rotated?n.width2:1,n.x=n.getX(n.xMin,n.xMax,s?void 0:n.x.orgDomain(),function(){return n.xAxis.tickOffset()}),n.y=n.getY(r.axis_y_type,s?r.axis_y_default:n.y.domain(),[n.yMin,n.yMax]),n.y2=n.getY(r.axis_y2_type,s?r.axis_y2_default:n.y2.domain(),[n.yMin,n.yMax]),n.subX=n.getX(n.xMin,n.xMax,n.orgXDomain,function(u){return u%1?0:n.subXAxis.tickOffset()}),n.subY=n.getY(r.axis_y_type,s?r.axis_y_default:n.subY.domain(),[n.subYMin,n.subYMax]),n.subY2=n.getY(r.axis_y2_type,s?r.axis_y2_default:n.subY2.domain(),[n.subYMin,n.subYMax]),n.xAxisTickFormat=n.axis.getXAxisTickFormat(),n.xAxisTickValues=n.axis.getXAxisTickValues(),n.yAxisTickValues=n.axis.getYAxisTickValues(),n.y2AxisTickValues=n.axis.getY2AxisTickValues(),n.xAxis=n.axis.getXAxis(n.x,n.xOrient,n.xAxisTickFormat,n.xAxisTickValues,r.axis_x_tick_outer),n.subXAxis=n.axis.getXAxis(n.subX,n.subXOrient,n.xAxisTickFormat,n.xAxisTickValues,r.axis_x_tick_outer),n.yAxis=n.axis.getYAxis("y",n.y,n.yOrient,n.yAxisTickValues,r.axis_y_tick_outer),n.y2Axis=n.axis.getYAxis("y2",n.y2,n.y2Orient,n.y2AxisTickValues,r.axis_y2_tick_outer),s||n.brush&&n.brush.updateScale(n.subX),n.updateArc&&n.updateArc()},x.prototype.selectPoint=function(n,r,s){var u=this,g=u.config,y=(g.axis_rotated?u.circleY:u.circleX).bind(u),w=(g.axis_rotated?u.circleX:u.circleY).bind(u),T=u.pointSelectR.bind(u);g.data_onselected.call(u.api,r,n.node()),u.main.select("."+L.selectedCircles+u.getTargetSelectorSuffix(r.id)).selectAll("."+L.selectedCircle+"-"+s).data([r]).enter().append("circle").attr("class",function(){return u.generateClass(L.selectedCircle,s)}).attr("cx",y).attr("cy",w).attr("stroke",function(){return u.color(r)}).attr("r",function(O){return 1.4*u.pointSelectR(O)}).transition().duration(100).attr("r",T)},x.prototype.unselectPoint=function(n,r,s){var u=this;u.config.data_onunselected.call(u.api,r,n.node()),u.main.select("."+L.selectedCircles+u.getTargetSelectorSuffix(r.id)).selectAll("."+L.selectedCircle+"-"+s).transition().duration(100).attr("r",0).remove()},x.prototype.togglePoint=function(n,r,s,u){n?this.selectPoint(r,s,u):this.unselectPoint(r,s,u)},x.prototype.selectPath=function(n,r){var s=this;s.config.data_onselected.call(s,r,n.node()),s.config.interaction_brighten&&n.transition().duration(100).style("fill",function(){return s.d3.rgb(s.color(r)).brighter(.75)})},x.prototype.unselectPath=function(n,r){var s=this;s.config.data_onunselected.call(s,r,n.node()),s.config.interaction_brighten&&n.transition().duration(100).style("fill",function(){return s.color(r)})},x.prototype.togglePath=function(n,r,s,u){n?this.selectPath(r,s,u):this.unselectPath(r,s,u)},x.prototype.getToggle=function(n,r){var u,s=this;return"circle"===n.nodeName?u=s.isStepType(r)?function(){}:s.togglePoint:"path"===n.nodeName&&(u=s.togglePath),u},x.prototype.toggleShape=function(n,r,s){var u=this,g=u.d3,y=u.config,w=g.select(n),T=w.classed(L.SELECTED),O=u.getToggle(n,r).bind(u);y.data_selection_enabled&&y.data_selection_isselectable(r)&&(y.data_selection_multiple||u.main.selectAll("."+L.shapes+(y.data_selection_grouped?u.getTargetSelectorSuffix(r.id):"")).selectAll("."+L.shape).each(function(P,V){var G=g.select(this);G.classed(L.SELECTED)&&O(!1,G.classed(L.SELECTED,!1),P,V)}),w.classed(L.SELECTED,!T),O(!T,w,r,s))},x.prototype.initBar=function(){this.main.select("."+L.chart).append("g").attr("class",L.chartBars)},x.prototype.updateTargetsForBar=function(n){var r=this,s=r.config,y=r.classChartBar.bind(r),w=r.classBars.bind(r),T=r.classFocus.bind(r);r.main.select("."+L.chartBars).selectAll("."+L.chartBar).data(n).attr("class",function(O){return y(O)+T(O)}).enter().append("g").attr("class",y).style("pointer-events","none").append("g").attr("class",w).style("cursor",function(O){return s.data_selection_isselectable(O)?"pointer":null})},x.prototype.updateBar=function(n){var r=this,s=r.barData.bind(r),u=r.classBar.bind(r),g=r.initialOpacity.bind(r),y=function(O){return r.color(O.id)},w=r.main.selectAll("."+L.bars).selectAll("."+L.bar).data(s),T=w.enter().append("path").attr("class",u).style("stroke",y).style("fill",y);r.mainBar=T.merge(w).style("opacity",g),w.exit().transition().duration(n).style("opacity",0)},x.prototype.redrawBar=function(n,r,s){var u=this;return[(r?this.mainBar.transition(s):this.mainBar).attr("d",n).style("stroke",this.color).style("fill",this.color).style("opacity",function(g){return u.isTargetToShow(g.id)?1:0})]},x.prototype.getBarW=function(n,r){var u=this.config,g="number"==typeof u.bar_width?u.bar_width:r?n.tickInterval()*u.bar_width_ratio/r:0;return u.bar_width_max&&g>u.bar_width_max?u.bar_width_max:g},x.prototype.getBars=function(n,r){var s=this;return(r?s.main.selectAll("."+L.bars+s.getTargetSelectorSuffix(r)):s.main).selectAll("."+L.bar+(vt(n)?"-"+n:""))},x.prototype.expandBars=function(n,r,s){s&&this.unexpandBars(),this.getBars(n,r).classed(L.EXPANDED,!0)},x.prototype.unexpandBars=function(n){this.getBars(n).classed(L.EXPANDED,!1)},x.prototype.generateDrawBar=function(n,r){var u=this.config,g=this.generateGetBarPoints(n,r);return function(y,w){var T=g(y,w),O=u.axis_rotated?1:0,P=u.axis_rotated?0:1;return"M "+T[0][O]+","+T[0][P]+" L"+T[1][O]+","+T[1][P]+" L"+T[2][O]+","+T[2][P]+" L"+T[3][O]+","+T[3][P]+" z"}},x.prototype.generateGetBarPoints=function(n,r){var s=this,g=n.__max__+1,y=s.getBarW(r?s.subXAxis:s.xAxis,g),w=s.getShapeX(y,g,n,!!r),T=s.getShapeY(!!r),O=s.getShapeOffset(s.isBarType,n,!!r),P=y*(s.config.bar_space/2),V=r?s.getSubYScale:s.getYScale;return function(G,Y){var z=V.call(s,G.id)(0),X=O(G,Y)||z,q=w(G),Z=T(G);return s.config.axis_rotated&&(0<G.value&&Z<z||G.value<0&&z<Z)&&(Z=z),[[q+P,X],[q+P,Z-=z-X],[q+y-P,Z],[q+y-P,X]]}},x.prototype.isWithinBar=function(n,r){return function(n,r,s){return void 0===s&&(s=0),r.x-s<n[0]&&n[0]<r.x+r.width+s&&r.y-s<n[1]&&n[1]<r.y+r.height+s}(n,Je(r),2)},x.prototype.getShapeIndices=function(n){var y,w,r=this,s=r.config,u={},g=0;return r.filterTargetsToShow(r.data.targets.filter(n,r)).forEach(function(T){for(y=0;y<s.data_groups.length;y++)if(!(s.data_groups[y].indexOf(T.id)<0))for(w=0;w<s.data_groups[y].length;w++)if(s.data_groups[y][w]in u){u[T.id]=u[s.data_groups[y][w]];break}Se(u[T.id])&&(u[T.id]=g++)}),u.__max__=g-1,u},x.prototype.getShapeX=function(n,r,s,u){var y=u?this.subX:this.x;return function(w){var T=w.id in s?s[w.id]:0;return w.x||0===w.x?y(w.x)-n*(r/2-T):0}},x.prototype.getShapeY=function(n){var r=this;return function(s){return(n?r.getSubYScale(s.id):r.getYScale(s.id))(r.isTargetNormalized(s.id)?r.getRatio("index",s,!0):s.value)}},x.prototype.getShapeOffset=function(n,r,s){var u=this,g=u.orderTargets(u.filterTargetsToShow(u.data.targets.filter(n,u))),y=g.map(function(w){return w.id});return function(w,T){var O=s?u.getSubYScale(w.id):u.getYScale(w.id),P=O(0),V=P;return g.forEach(function(G){var Y=u.isStepType(w)?u.convertValuesToStep(G.values):G.values,z=u.isTargetNormalized(w.id),X=Y.map(function(q){return z?u.getRatio("index",q,!0):q.value});G.id===w.id||r[G.id]!==r[w.id]||y.indexOf(G.id)<y.indexOf(w.id)&&((Se(Y[T])||+Y[T].x!=+w.x)&&(T=-1,Y.forEach(function(q,Z){(q.x.constructor===Date?+q.x:q.x)===(w.x.constructor===Date?+w.x:w.x)&&(T=Z)})),T in Y&&Y[T].value*w.value>=0&&(V+=O(X[T])-P))}),V}},x.prototype.isWithinShape=function(n,r){var g,s=this,u=s.d3.select(n);return s.isTargetToShow(r.id)?"circle"===n.nodeName?g=s.isStepType(r)?s.isWithinStep(n,s.getYScale(r.id)(r.value)):s.isWithinCircle(n,1.5*s.pointSelectR(r)):"path"===n.nodeName&&(g=!u.classed(L.bar)||s.isWithinBar(s.d3.mouse(n),n)):g=!1,g},x.prototype.getInterpolate=function(n){var r=this,s=r.d3,u={linear:s.curveLinear,"linear-closed":s.curveLinearClosed,basis:s.curveBasis,"basis-open":s.curveBasisOpen,"basis-closed":s.curveBasisClosed,bundle:s.curveBundle,cardinal:s.curveCardinal,"cardinal-open":s.curveCardinalOpen,"cardinal-closed":s.curveCardinalClosed,monotone:s.curveMonotoneX,step:s.curveStep,"step-before":s.curveStepBefore,"step-after":s.curveStepAfter};return r.isSplineType(n)?u[r.config.spline_interpolation_type]||u.cardinal:r.isStepType(n)?u[r.config.line_step_type]:u.linear},x.prototype.initLine=function(){this.main.select("."+L.chart).append("g").attr("class",L.chartLines)},x.prototype.updateTargetsForLine=function(n){var g,r=this,s=r.config,y=r.classChartLine.bind(r),w=r.classLines.bind(r),T=r.classAreas.bind(r),O=r.classCircles.bind(r),P=r.classFocus.bind(r);(g=r.main.select("."+L.chartLines).selectAll("."+L.chartLine).data(n).attr("class",function(V){return y(V)+P(V)}).enter().append("g").attr("class",y).style("opacity",0).style("pointer-events","none")).append("g").attr("class",w),g.append("g").attr("class",T),g.append("g").attr("class",function(V){return r.generateClass(L.selectedCircles,V.id)}),g.append("g").attr("class",O).style("cursor",function(V){return s.data_selection_isselectable(V)?"pointer":null}),n.forEach(function(V){r.main.selectAll("."+L.selectedCircles+r.getTargetSelectorSuffix(V.id)).selectAll("."+L.selectedCircle).each(function(G){G.value=V.values[G.index].value})})},x.prototype.updateLine=function(n){var r=this,s=r.main.selectAll("."+L.lines).selectAll("."+L.line).data(r.lineData.bind(r)),u=s.enter().append("path").attr("class",r.classLine.bind(r)).style("stroke",r.color);r.mainLine=u.merge(s).style("opacity",r.initialOpacity.bind(r)).style("shape-rendering",function(g){return r.isStepType(g)?"crispEdges":""}).attr("transform",null),s.exit().transition().duration(n).style("opacity",0)},x.prototype.redrawLine=function(n,r,s){return[(r?this.mainLine.transition(s):this.mainLine).attr("d",n).style("stroke",this.color).style("opacity",1)]},x.prototype.generateDrawLine=function(n,r){var s=this,u=s.config,g=s.d3.line(),y=s.generateGetLinePoints(n,r),w=r?s.getSubYScale:s.getYScale,T=function(P){return(r?s.subxx:s.xx).call(s,P)},O=function(P,V){return u.data_groups.length>0?y(P,V)[0][1]:w.call(s,P.id)(P.value)};return g=u.axis_rotated?g.x(O).y(T):g.x(T).y(O),u.line_connectNull||(g=g.defined(function(P){return null!=P.value})),function(P){var q,V=u.line_connectNull?s.filterRemoveNull(P.values):P.values,G=r?s.subX:s.x,Y=w.call(s,P.id),z=0,X=0;return s.isLineType(P)?u.data_regions[P.id]?q=s.lineWithRegions(V,G,Y,u.data_regions[P.id]):(s.isStepType(P)&&(V=s.convertValuesToStep(V)),q=g.curve(s.getInterpolate(P))(V)):(V[0]&&(z=G(V[0].x),X=Y(V[0].value)),q=u.axis_rotated?"M "+X+" "+z:"M "+z+" "+X),q||"M 0 0"}},x.prototype.generateGetLinePoints=function(n,r){var s=this,u=s.config,y=s.getShapeX(0,n.__max__+1,n,!!r),w=s.getShapeY(!!r),T=s.getShapeOffset(s.isLineType,n,!!r),O=r?s.getSubYScale:s.getYScale;return function(P,V){var G=O.call(s,P.id)(0),Y=T(P,V)||G,z=y(P),X=w(P);return u.axis_rotated&&(0<P.value&&X<G||P.value<0&&G<X)&&(X=G),[[z,X-(G-Y)],[z,X-(G-Y)],[z,X-(G-Y)],[z,X-(G-Y)]]}},x.prototype.lineWithRegions=function(n,r,s,u){var T,O,V,G,Y,z,X,Z,tt,Pt,Rt,g=this,y=g.config,P="M",yt=g.isCategorized()?.5:0,Mt=[];function $t(mt,Ht){var gt;for(gt=0;gt<Ht.length;gt++)if(Ht[gt].start<mt&&mt<=Ht[gt].end)return!0;return!1}if(Zt(u))for(T=0;T<u.length;T++)Mt[T]={},Mt[T].start=Se(u[T].start)?n[0].x:g.isTimeSeries()?g.parseDate(u[T].start):u[T].start,Mt[T].end=Se(u[T].end)?n[n.length-1].x:g.isTimeSeries()?g.parseDate(u[T].end):u[T].end;function Et(mt){return"M"+mt[0][0]+" "+mt[0][1]+" "+mt[1][0]+" "+mt[1][1]}for(Pt=y.axis_rotated?function(mt){return s(mt.value)}:function(mt){return r(mt.x)},Rt=y.axis_rotated?function(mt){return r(mt.x)}:function(mt){return s(mt.value)},V=g.isTimeSeries()?function(mt,Ht,gt,ot){var ut=mt.x.getTime(),qt=Ht.x-mt.x,se=new Date(ut+qt*gt),he=new Date(ut+qt*(gt+ot));return Et(y.axis_rotated?[[s(Y(gt)),r(se)],[s(Y(gt+ot)),r(he)]]:[[r(se),s(Y(gt))],[r(he),s(Y(gt+ot))]])}:function(mt,Ht,gt,ot){return Et(y.axis_rotated?[[s(Y(gt),!0),r(G(gt))],[s(Y(gt+ot),!0),r(G(gt+ot))]]:[[r(G(gt),!0),s(Y(gt))],[r(G(gt+ot),!0),s(Y(gt+ot))]])},T=0;T<n.length;T++)if(Se(Mt)||!$t(n[T].x,Mt))P+=" "+Pt(n[T])+" "+Rt(n[T]);else for(G=g.getScale(n[T-1].x+yt,n[T].x+yt,g.isTimeSeries()),Y=g.getScale(n[T-1].value,n[T].value),z=r(n[T].x)-r(n[T-1].x),X=s(n[T].value)-s(n[T-1].value),tt=2*(Z=2/Math.sqrt(Math.pow(z,2)+Math.pow(X,2))),O=Z;O<=1;O+=tt)P+=V(n[T-1],n[T],O,Z);return P},x.prototype.updateArea=function(n){var r=this,s=r.d3,u=r.main.selectAll("."+L.areas).selectAll("."+L.area).data(r.lineData.bind(r)),g=u.enter().append("path").attr("class",r.classArea.bind(r)).style("fill",r.color).style("opacity",function(){return r.orgAreaOpacity=+s.select(this).style("opacity"),0});r.mainArea=g.merge(u).style("opacity",r.orgAreaOpacity),u.exit().transition().duration(n).style("opacity",0)},x.prototype.redrawArea=function(n,r,s){return[(r?this.mainArea.transition(s):this.mainArea).attr("d",n).style("fill",this.color).style("opacity",this.orgAreaOpacity)]},x.prototype.generateDrawArea=function(n,r){var s=this,u=s.config,g=s.d3.area(),y=s.generateGetAreaPoints(n,r),w=r?s.getSubYScale:s.getYScale,T=function(V){return(r?s.subxx:s.xx).call(s,V)},O=function(V,G){return u.data_groups.length>0?y(V,G)[0][1]:w.call(s,V.id)(s.getAreaBaseValue(V.id))},P=function(V,G){return u.data_groups.length>0?y(V,G)[1][1]:w.call(s,V.id)(V.value)};return g=u.axis_rotated?g.x0(O).x1(P).y(T):g.x(T).y0(u.area_above?0:O).y1(P),u.line_connectNull||(g=g.defined(function(V){return null!==V.value})),function(V){var X,G=u.line_connectNull?s.filterRemoveNull(V.values):V.values,Y=0,z=0;return s.isAreaType(V)?(s.isStepType(V)&&(G=s.convertValuesToStep(G)),X=g.curve(s.getInterpolate(V))(G)):(G[0]&&(Y=s.x(G[0].x),z=s.getYScale(V.id)(G[0].value)),X=u.axis_rotated?"M "+z+" "+Y:"M "+Y+" "+z),X||"M 0 0"}},x.prototype.getAreaBaseValue=function(){return 0},x.prototype.generateGetAreaPoints=function(n,r){var s=this,u=s.config,y=s.getShapeX(0,n.__max__+1,n,!!r),w=s.getShapeY(!!r),T=s.getShapeOffset(s.isAreaType,n,!!r),O=r?s.getSubYScale:s.getYScale;return function(P,V){var G=O.call(s,P.id)(0),Y=T(P,V)||G,z=y(P),X=w(P);return u.axis_rotated&&(0<P.value&&X<G||P.value<0&&G<X)&&(X=G),[[z,Y],[z,X-(G-Y)],[z,X-(G-Y)],[z,Y]]}},x.prototype.updateCircle=function(n,r){var s=this,u=s.main.selectAll("."+L.circles).selectAll("."+L.circle).data(s.lineOrScatterOrStanfordData.bind(s)),g=u.enter().append("circle").attr("shape-rendering",s.isStanfordGraphType()?"crispEdges":"").attr("class",s.classCircle.bind(s)).attr("cx",n).attr("cy",r).attr("r",s.pointR.bind(s)).style("color",s.isStanfordGraphType()?s.getStanfordPointColor.bind(s):s.color);s.mainCircle=g.merge(u).style("opacity",s.isStanfordGraphType()?1:s.initialOpacityForCircle.bind(s)),u.exit().style("opacity",0)},x.prototype.redrawCircle=function(n,r,s,u){var g=this,y=g.main.selectAll("."+L.selectedCircle);return[(s?g.mainCircle.transition(u):g.mainCircle).style("opacity",this.opacityForCircle.bind(g)).style("color",g.isStanfordGraphType()?g.getStanfordPointColor.bind(g):g.color).attr("cx",n).attr("cy",r),(s?y.transition(u):y).attr("cx",n).attr("cy",r)]},x.prototype.circleX=function(n){return n.x||0===n.x?this.x(n.x):null},x.prototype.updateCircleY=function(){var r,s,n=this;n.config.data_groups.length>0?(r=n.getShapeIndices(n.isLineType),s=n.generateGetLinePoints(r),n.circleY=function(u,g){return s(u,g)[0][1]}):n.circleY=function(u){return n.getYScale(u.id)(u.value)}},x.prototype.getCircles=function(n,r){var s=this;return(r?s.main.selectAll("."+L.circles+s.getTargetSelectorSuffix(r)):s.main).selectAll("."+L.circle+(vt(n)?"-"+n:""))},x.prototype.expandCircles=function(n,r,s){var u=this,g=u.pointExpandedR.bind(u);s&&u.unexpandCircles(),u.getCircles(n,r).classed(L.EXPANDED,!0).attr("r",g)},x.prototype.unexpandCircles=function(n){var r=this,s=r.pointR.bind(r);r.getCircles(n).filter(function(){return r.d3.select(this).classed(L.EXPANDED)}).classed(L.EXPANDED,!1).attr("r",s)},x.prototype.pointR=function(n){var s=this.config;return this.isStepType(n)?0:ne(s.point_r)?s.point_r(n):s.point_r},x.prototype.pointExpandedR=function(n){var r=this,s=r.config;return s.point_focus_expand_enabled?ne(s.point_focus_expand_r)?s.point_focus_expand_r(n):s.point_focus_expand_r?s.point_focus_expand_r:1.75*r.pointR(n):r.pointR(n)},x.prototype.pointSelectR=function(n){var s=this.config;return ne(s.point_select_r)?s.point_select_r(n):s.point_select_r?s.point_select_r:4*this.pointR(n)},x.prototype.isWithinCircle=function(n,r){var s=this.d3,u=s.mouse(n),g=s.select(n),y=+g.attr("cx"),w=+g.attr("cy");return Math.sqrt(Math.pow(y-u[0],2)+Math.pow(w-u[1],2))<r},x.prototype.isWithinStep=function(n,r){return Math.abs(r-this.d3.mouse(n)[1])<30},x.prototype.getCurrentWidth=function(){var r=this.config;return r.size_width?r.size_width:this.getParentWidth()},x.prototype.getCurrentHeight=function(){var n=this,r=n.config,s=r.size_height?r.size_height:n.getParentHeight();return s>0?s:320/(n.hasType("gauge")&&!r.gauge_fullCircle?2:1)},x.prototype.getCurrentPaddingTop=function(){var n=this,r=n.config,s=vt(r.padding_top)?r.padding_top:0;return n.title&&n.title.node()&&(s+=n.getTitlePadding()),s},x.prototype.getCurrentPaddingBottom=function(){var n=this.config;return vt(n.padding_bottom)?n.padding_bottom:0},x.prototype.getCurrentPaddingLeft=function(n){var r=this,s=r.config;return vt(s.padding_left)?s.padding_left:s.axis_rotated?!s.axis_x_show||s.axis_x_inner?1:Math.max(Si(r.getAxisWidthByAxisId("x",n)),40):!s.axis_y_show||s.axis_y_inner?r.axis.getYAxisLabelPosition().isOuter?30:1:Si(r.getAxisWidthByAxisId("y",n))},x.prototype.getCurrentPaddingRight=function(){var n=this,r=n.config,s=0,g=n.isLegendRight?n.getLegendWidth()+20:0;return s=vt(r.padding_right)?r.padding_right+1:r.axis_rotated?10+g:!r.axis_y2_show||r.axis_y2_inner?2+g+(n.axis.getY2AxisLabelPosition().isOuter?20:0):Si(n.getAxisWidthByAxisId("y2"))+g,n.colorScale&&n.colorScale.node()&&(s+=n.getColorScalePadding()),s},x.prototype.getParentRectValue=function(n){for(var s,r=this.selectChart.node();r&&"BODY"!==r.tagName;){try{s=r.getBoundingClientRect()[n]}catch{"width"===n&&(s=r.offsetWidth)}if(s)break;r=r.parentNode}return s},x.prototype.getParentWidth=function(){return this.getParentRectValue("width")},x.prototype.getParentHeight=function(){var n=this.selectChart.style("height");return n.indexOf("px")>0?+n.replace("px",""):0},x.prototype.getSvgLeft=function(n){var r=this,s=r.config,u=s.axis_rotated||!s.axis_rotated&&!s.axis_y_inner,y=r.main.select("."+(s.axis_rotated?L.axisX:L.axisY)).node(),w=y&&u?y.getBoundingClientRect():{right:0},T=r.selectChart.node().getBoundingClientRect(),O=r.hasArcType(),P=w.right-T.left-(O?0:r.getCurrentPaddingLeft(n));return P>0?P:0},x.prototype.getAxisWidthByAxisId=function(n,r){var u=this.axis.getLabelPositionById(n);return this.axis.getMaxTickWidth(n,r)+(u.isInner?20:40)},x.prototype.getHorizontalAxisHeight=function(n,r){var s=this,u=s.config,g=30;return"x"!==n||(Zt(r)&&r?u.subchart_axis_x_show:u.axis_x_show)?"x"===n&&u.axis_x_height?u.axis_x_height:"y"!==n||u.axis_y_show?"y2"!==n||u.axis_y2_show?("x"===n&&!u.axis_rotated&&u.axis_x_tick_rotate&&(g=30+s.axis.getMaxTickWidth(n)*Math.cos(Math.PI*(90-Math.abs(u.axis_x_tick_rotate))/180)),"y"===n&&u.axis_rotated&&u.axis_y_tick_rotate&&(g=30+s.axis.getMaxTickWidth(n)*Math.cos(Math.PI*(90-Math.abs(u.axis_y_tick_rotate))/180)),g+(s.axis.getLabelPositionById(n).isInner?0:10)+("y2"===n?-10:0)):s.rotated_padding_top:!u.legend_show||s.isLegendRight||s.isLegendInset?1:10:8},x.prototype.initBrush=function(n){var r=this,s=r.d3;return r.brush=(r.config.axis_rotated?s.brushY():s.brushX()).on("brush",function(){var u=s.event.sourceEvent;u&&"zoom"===u.type||r.redrawForBrush()}).on("end",function(){var u=s.event.sourceEvent;u&&"zoom"===u.type||r.brush.empty()&&u&&"end"!==u.type&&r.brush.clear()}),r.brush.updateExtent=function(){var u=this.scale.range();return this.extent(r.config.axis_rotated?[[0,u[0]],[r.width2,u[1]]]:[[u[0],0],[u[1],r.height2]]),this},r.brush.updateScale=function(u){return this.scale=u,this},r.brush.update=function(u){this.updateScale(u||r.subX).updateExtent(),r.context.select("."+L.brush).call(this)},r.brush.clear=function(){r.context.select("."+L.brush).call(r.brush.move,null)},r.brush.selection=function(){return s.brushSelection(r.context.select("."+L.brush).node())},r.brush.selectionAsValue=function(u,g){var y,w;return u?(r.context&&(y=[this.scale(u[0]),this.scale(u[1])],w=r.context.select("."+L.brush),g&&(w=w.transition()),r.brush.move(w,y)),[]):(y=r.brush.selection()||[0,0],[this.scale.invert(y[0]),this.scale.invert(y[1])])},r.brush.empty=function(){var u=r.brush.selection();return!u||u[0]===u[1]},r.brush.updateScale(n)},x.prototype.initSubchart=function(){var n=this,r=n.config,s=n.context=n.svg.append("g").attr("transform",n.getTranslate("context"));s.style("visibility","visible"),s.append("g").attr("clip-path",n.clipPathForSubchart).attr("class",L.chart),s.select("."+L.chart).append("g").attr("class",L.chartBars),s.select("."+L.chart).append("g").attr("class",L.chartLines),s.append("g").attr("clip-path",n.clipPath).attr("class",L.brush),n.axes.subx=s.append("g").attr("class",L.axisX).attr("transform",n.getTranslate("subx")).attr("clip-path",r.axis_rotated?"":n.clipPathForXAxis).style("visibility",r.subchart_axis_x_show?"visible":"hidden")},x.prototype.initSubchartBrush=function(){var n=this;n.initBrush(n.subX).updateExtent(),n.context.select("."+L.brush).call(n.brush)},x.prototype.updateTargetsForSubchart=function(n){var g,y,w,T,r=this,s=r.context,u=r.config,O=r.classChartBar.bind(r),P=r.classBars.bind(r),V=r.classChartLine.bind(r),G=r.classLines.bind(r),Y=r.classAreas.bind(r);(w=(T=s.select("."+L.chartBars).selectAll("."+L.chartBar).data(n)).enter().append("g").style("opacity",0)).merge(T).attr("class",O),w.append("g").attr("class",P),(g=(y=s.select("."+L.chartLines).selectAll("."+L.chartLine).data(n)).enter().append("g").style("opacity",0)).merge(y).attr("class",V),g.append("g").attr("class",G),g.append("g").attr("class",Y),s.selectAll("."+L.brush+" rect").attr(u.axis_rotated?"width":"height",u.axis_rotated?r.width2:r.height2)},x.prototype.updateBarForSubchart=function(n){var r=this,s=r.context.selectAll("."+L.bars).selectAll("."+L.bar).data(r.barData.bind(r)),u=s.enter().append("path").attr("class",r.classBar.bind(r)).style("stroke","none").style("fill",r.color);s.exit().transition().duration(n).style("opacity",0).remove(),r.contextBar=u.merge(s).style("opacity",r.initialOpacity.bind(r))},x.prototype.redrawBarForSubchart=function(n,r,s){(r?this.contextBar.transition(Math.random().toString()).duration(s):this.contextBar).attr("d",n).style("opacity",1)},x.prototype.updateLineForSubchart=function(n){var r=this,s=r.context.selectAll("."+L.lines).selectAll("."+L.line).data(r.lineData.bind(r)),u=s.enter().append("path").attr("class",r.classLine.bind(r)).style("stroke",r.color);s.exit().transition().duration(n).style("opacity",0).remove(),r.contextLine=u.merge(s).style("opacity",r.initialOpacity.bind(r))},x.prototype.redrawLineForSubchart=function(n,r,s){(r?this.contextLine.transition(Math.random().toString()).duration(s):this.contextLine).attr("d",n).style("opacity",1)},x.prototype.updateAreaForSubchart=function(n){var r=this,s=r.d3,u=r.context.selectAll("."+L.areas).selectAll("."+L.area).data(r.lineData.bind(r)),g=u.enter().append("path").attr("class",r.classArea.bind(r)).style("fill",r.color).style("opacity",function(){return r.orgAreaOpacity=+s.select(this).style("opacity"),0});u.exit().transition().duration(n).style("opacity",0).remove(),r.contextArea=g.merge(u).style("opacity",0)},x.prototype.redrawAreaForSubchart=function(n,r,s){(r?this.contextArea.transition(Math.random().toString()).duration(s):this.contextArea).attr("d",n).style("fill",this.color).style("opacity",this.orgAreaOpacity)},x.prototype.redrawSubchart=function(n,r,s,u,g,y,w){var P,V,G,T=this,O=T.d3;O.event&&"zoom"===O.event.type&&T.brush.selectionAsValue(T.x.orgDomain()),n&&(T.brush.empty()||T.brush.selectionAsValue(T.x.orgDomain()),P=T.generateDrawArea(g,!0),V=T.generateDrawBar(y,!0),G=T.generateDrawLine(w,!0),T.updateBarForSubchart(s),T.updateLineForSubchart(s),T.updateAreaForSubchart(s),T.redrawBarForSubchart(V,s,s),T.redrawLineForSubchart(G,s,s),T.redrawAreaForSubchart(P,s,s))},x.prototype.redrawForBrush=function(){var u,n=this,r=n.x,s=n.d3;n.redraw({withTransition:!1,withY:n.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withEventRect:!1,withDimension:!1}),u=s.event.selection||n.brush.scale.range(),n.main.select("."+L.eventRect).call(n.zoom.transform,s.zoomIdentity.scale(n.width/(u[1]-u[0])).translate(-u[0],0)),n.config.subchart_onbrush.call(n.api,r.orgDomain())},x.prototype.transformContext=function(n,r){var u,s=this;r&&r.axisSubX?u=r.axisSubX:(u=s.context.select("."+L.axisX),n&&(u=u.transition())),s.context.attr("transform",s.getTranslate("context")),u.attr("transform",s.getTranslate("subx"))},x.prototype.getDefaultSelection=function(){var n=this,r=n.config,s=ne(r.axis_x_selection)?r.axis_x_selection(n.getXDomain(n.data.targets)):r.axis_x_selection;return n.isTimeSeries()&&(s=[n.parseDate(s[0]),n.parseDate(s[1])]),s},x.prototype.removeSubchart=function(){var n=this;n.brush=null,n.context.remove(),n.context=null},x.prototype.initText=function(){var n=this;n.main.select("."+L.chart).append("g").attr("class",L.chartTexts),n.mainText=n.d3.selectAll([])},x.prototype.updateTargetsForText=function(n){var r=this,s=r.classChartText.bind(r),u=r.classTexts.bind(r),g=r.classFocus.bind(r),y=r.main.select("."+L.chartTexts).selectAll("."+L.chartText).data(n),w=y.enter().append("g").attr("class",s).style("opacity",0).style("pointer-events","none");w.append("g").attr("class",u),w.merge(y).attr("class",function(T){return s(T)+g(T)})},x.prototype.updateText=function(n,r,s){var u=this,g=u.config,y=u.barOrLineData.bind(u),w=u.classText.bind(u),T=u.main.selectAll("."+L.texts).selectAll("."+L.text).data(y),O=T.enter().append("text").attr("class",w).attr("text-anchor",function(P){return g.axis_rotated?P.value<0?"end":"start":"middle"}).style("stroke","none").attr("x",n).attr("y",r).style("fill",function(P){return u.color(P)}).style("fill-opacity",0);u.mainText=O.merge(T).text(function(P,V,G){return u.dataLabelFormat(P.id)(P.value,P.id,V,G)}),T.exit().transition().duration(s).style("fill-opacity",0).remove()},x.prototype.redrawText=function(n,r,s,u,g){return[(u?this.mainText.transition(g):this.mainText).attr("x",n).attr("y",r).style("fill",this.color).style("fill-opacity",s?0:this.opacityForText.bind(this))]},x.prototype.getTextRect=function(n,r,s){var w,u=this.d3.select("body").append("div").classed("c3",!0),g=u.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),y=this.d3.select(s).style("font");return g.selectAll(".dummy").data([n]).enter().append("text").classed(r||"",!0).style("font",y).text(n).each(function(){w=Je(this)}),u.remove(),w},x.prototype.generateXYForText=function(n,r,s,u){var g=this,y=g.generateGetAreaPoints(n,!1),w=g.generateGetBarPoints(r,!1),T=g.generateGetLinePoints(s,!1),O=u?g.getXForText:g.getYForText;return function(P,V){var G=g.isAreaType(P)?y:g.isBarType(P)?w:T;return O.call(g,G(P,V),P,this)}},x.prototype.getXForText=function(n,r,s){var y,w,u=this,g=Je(s);return u.config.axis_rotated?(w=u.isBarType(r)?4:6,y=n[2][1]+w*(r.value<0?-1:1)):y=u.hasType("bar")?(n[2][0]+n[0][0])/2:n[0][0],null===r.value&&(y>u.width?y=u.width-g.width:y<0&&(y=4)),y},x.prototype.getYForText=function(n,r,s){var y,u=this,g=Je(s);return u.config.axis_rotated?y=(n[0][0]+n[2][0]+.6*g.height)/2:(y=n[2][1],r.value<0||0===r.value&&!u.hasPositiveValue?(y+=g.height,u.isBarType(r)&&u.isSafari()?y-=3:!u.isBarType(r)&&u.isChrome()&&(y+=3)):y+=u.isBarType(r)?-3:-6),null===r.value&&!u.config.axis_rotated&&(y<g.height?y=g.height:y>this.height&&(y=this.height-4)),y},x.prototype.initTitle=function(){var n=this;n.title=n.svg.append("text").text(n.config.title_text).attr("class",n.CLASS.title)},x.prototype.redrawTitle=function(){var n=this;n.title.attr("x",n.xForTitle.bind(n)).attr("y",n.yForTitle.bind(n))},x.prototype.xForTitle=function(){var n=this,r=n.config,s=r.title_position||"left";return s.indexOf("right")>=0?n.currentWidth-n.getTextRect(n.title.node().textContent,n.CLASS.title,n.title.node()).width-r.title_padding.right:s.indexOf("center")>=0?Math.max((n.currentWidth-n.getTextRect(n.title.node().textContent,n.CLASS.title,n.title.node()).width)/2,0):r.title_padding.left},x.prototype.yForTitle=function(){var n=this;return n.config.title_padding.top+n.getTextRect(n.title.node().textContent,n.CLASS.title,n.title.node()).height},x.prototype.getTitlePadding=function(){return this.yForTitle()+this.config.title_padding.bottom},x.prototype.drawColorScale=function(){var g,w,T,O,P,V,G,n=this,r=n.d3,s=n.config,u=n.data.targets[0];if(g=isNaN(s.stanford_scaleWidth)?20:s.stanford_scaleWidth,5<0||g<0)throw Error("Colorscale's barheight and barwidth must be greater than 0.");T=r.range(s.stanford_padding.bottom,G=n.height-s.stanford_padding.bottom-s.stanford_padding.top,5),V=r.scaleSequential(u.colors).domain([T[T.length-1],T[0]]),n.colorScale&&n.colorScale.remove(),n.colorScale=n.svg.append("g").attr("width",50).attr("height",G).attr("class",L.colorScale),n.colorScale.append("g").attr("transform","translate(0, "+s.stanford_padding.top+")").selectAll("bars").data(T).enter().append("rect").attr("y",function(Y,z){return 5*z}).attr("x",0).attr("width",g).attr("height",5).attr("fill",function(Y){return V(Y)}),P=r.scaleLog().domain([u.minEpochs,u.maxEpochs]).range([T[0]+s.stanford_padding.top+T[T.length-1]+5-1,T[0]+s.stanford_padding.top]),O=r.axisRight(P),"pow10"===s.stanford_scaleFormat?O.tickValues([1,10,100,1e3,1e4,1e5,1e6,1e7]):ne(s.stanford_scaleFormat)?O.tickFormat(s.stanford_scaleFormat):O.tickFormat(r.format("d")),ne(s.stanford_scaleValues)&&O.tickValues(s.stanford_scaleValues(u.minEpochs,u.maxEpochs)),w=n.colorScale.append("g").attr("class","legend axis").attr("transform","translate("+g+",0)").call(O),"pow10"===s.stanford_scaleFormat&&w.selectAll(".tick text").text(null).filter(Ie).text(10).append("tspan").attr("dy","-.7em").text(function(Y){return Math.round(Math.log(Y)/Math.LN10)}),n.colorScale.attr("transform","translate("+(n.currentWidth-n.xForColorScale())+", 0)")},x.prototype.xForColorScale=function(){return this.config.stanford_padding.right+Je(this.colorScale.node()).width},x.prototype.getColorScalePadding=function(){return this.xForColorScale()+this.config.stanford_padding.left+20},x.prototype.isStanfordGraphType=function(){return"stanford"===this.config.data_type},x.prototype.initStanfordData=function(){var g,y,w,n=this,r=n.d3,s=n.config,u=n.data.targets[0];if(u.values.sort(ie),g=u.values.map(function(T){return T.epochs}),(w=isNaN(s.stanford_scaleMin)?r.min(g):s.stanford_scaleMin)>(y=isNaN(s.stanford_scaleMax)?r.max(g):s.stanford_scaleMax))throw Error("Number of minEpochs has to be smaller than maxEpochs");u.colors=ne(s.stanford_colors)?s.stanford_colors:r.interpolateHslLong(r.hsl(250,1,.5),r.hsl(0,1,.5)),u.colorscale=r.scaleSequentialLog(u.colors).domain([w,y]),u.minEpochs=w,u.maxEpochs=y},x.prototype.getStanfordPointColor=function(n){return this.data.targets[0].colorscale(n.epochs)},x.prototype.getCentroid=function(n){var g,y,w,T,O,r=Fe(n),s=0,u=0;for(g=0,y=n.length-1;g<n.length;y=g,g+=1)s+=((T=n[g]).x+(O=n[y]).x)*(w=T.x*O.y-O.x*T.y),u+=(T.y+O.y)*w;return{x:s/(w=6*r),y:u/w}},x.prototype.getStanfordTooltipTitle=function(n){var s=this.axis.getLabelText("x"),u=this.axis.getLabelText("y");return"\n      <tr><th>"+(s?hn(s):"x")+"</th><th class='value'>"+n.x+"</th></tr>\n      <tr><th>"+(u?hn(u):"y")+"</th><th class='value'>"+n.value+"</th></tr>\n    "},x.prototype.countEpochsInRegion=function(n){var u,g,s=this.data.targets[0];return u=s.values.reduce(function(y,w){return y+Number(w.epochs)},0),{value:g=s.values.reduce(function(y,w){return Wt(w,n)?y+Number(w.epochs):y},0),percentage:0!==g?(g/u*100).toFixed(1):0}};var Fe=function(n){var s,u,g,y,r=0;for(s=0,u=n.length-1;s<n.length;u=s,s+=1)r+=(g=n[s]).x*(y=n[u]).y,r-=g.y*y.x;return r/2},Wt=function(n,r){for(var s,u,g,T=n.x,O=n.value,P=!1,V=0,G=r.length-1;V<r.length;G=V++)s=r[V].x,(u=r[V].y)>O!=(g=r[G].y)>O&&T<(r[G].x-s)*(O-u)/(g-u)+s&&(P=!P);return P},ie=function(n,r){return n.epochs<r.epochs?-1:n.epochs>r.epochs?1:0};return x.prototype.initStanfordElements=function(){var n=this;n.stanfordElements=n.main.select("."+L.chart).append("g").attr("class",L.stanfordElements),n.stanfordElements.append("g").attr("class",L.stanfordLines),n.stanfordElements.append("g").attr("class",L.stanfordTexts),n.stanfordElements.append("g").attr("class",L.stanfordRegions)},x.prototype.updateStanfordElements=function(n){var g,y,w,T,O,P,r=this,s=r.main,u=r.config,V=r.xvCustom.bind(r),G=r.yvCustom.bind(r),Y=r.countEpochsInRegion.bind(r);(y=(g=s.select("."+L.stanfordLines).style("shape-rendering","geometricprecision").selectAll("."+L.stanfordLine).data(u.stanford_lines)).enter().append("g").attr("class",function(z){return L.stanfordLine+(z.class?" "+z.class:"")})).append("line").attr("x1",function(z){return u.axis_rotated?G(z,"value_y1"):V(z,"value_x1")}).attr("x2",function(z){return u.axis_rotated?G(z,"value_y2"):V(z,"value_x2")}).attr("y1",function(z){return u.axis_rotated?V(z,"value_x1"):G(z,"value_y1")}).attr("y2",function(z){return u.axis_rotated?V(z,"value_x2"):G(z,"value_y2")}).style("opacity",0),r.stanfordLines=y.merge(g),r.stanfordLines.select("line").transition().duration(n).attr("x1",function(z){return u.axis_rotated?G(z,"value_y1"):V(z,"value_x1")}).attr("x2",function(z){return u.axis_rotated?G(z,"value_y2"):V(z,"value_x2")}).attr("y1",function(z){return u.axis_rotated?V(z,"value_x1"):G(z,"value_y1")}).attr("y2",function(z){return u.axis_rotated?V(z,"value_x2"):G(z,"value_y2")}).style("opacity",1),g.exit().transition().duration(n).style("opacity",0).remove(),(P=(O=s.select("."+L.stanfordTexts).selectAll("."+L.stanfordText).data(u.stanford_texts)).enter().append("g").attr("class",function(z){return L.stanfordText+(z.class?" "+z.class:"")})).append("text").attr("x",function(z){return u.axis_rotated?G(z,"y"):V(z,"x")}).attr("y",function(z){return u.axis_rotated?V(z,"x"):G(z,"y")}).style("opacity",0),r.stanfordTexts=P.merge(O),r.stanfordTexts.select("text").transition().duration(n).attr("x",function(z){return u.axis_rotated?G(z,"y"):V(z,"x")}).attr("y",function(z){return u.axis_rotated?V(z,"x"):G(z,"y")}).text(function(z){return z.content}).style("opacity",1),O.exit().transition().duration(n).style("opacity",0).remove(),(T=(w=s.select("."+L.stanfordRegions).selectAll("."+L.stanfordRegion).data(u.stanford_regions)).enter().append("g").attr("class",function(z){return L.stanfordRegion+(z.class?" "+z.class:"")})).append("polygon").attr("points",function(z){return z.points.map(function(X){return[u.axis_rotated?G(X,"y"):V(X,"x"),u.axis_rotated?V(X,"x"):G(X,"y")].join(",")}).join(" ")}).style("opacity",0),T.append("text").attr("x",function(z){return r.getCentroid(z.points).x}).attr("y",function(z){return r.getCentroid(z.points).y}).style("opacity",0),r.stanfordRegions=T.merge(w),r.stanfordRegions.select("polygon").transition().duration(n).attr("points",function(z){return z.points.map(function(X){return[u.axis_rotated?G(X,"y"):V(X,"x"),u.axis_rotated?V(X,"x"):G(X,"y")].join(",")}).join(" ")}).style("opacity",function(z){return z.opacity?z.opacity:.2}),r.stanfordRegions.select("text").transition().duration(n).attr("x",function(z){return u.axis_rotated?G(r.getCentroid(z.points),"y"):V(r.getCentroid(z.points),"x")}).attr("y",function(z){return u.axis_rotated?V(r.getCentroid(z.points),"x"):G(r.getCentroid(z.points),"y")}).text(function(z){var X,q,Z;return z.text?(r.isStanfordGraphType()&&(X=(Z=Y(z.points)).value,q=Z.percentage),z.text(X,q)):""}).attr("text-anchor","middle").attr("dominant-baseline","middle").style("opacity",1),w.exit().transition().duration(n).style("opacity",0).remove()},x.prototype.initTooltip=function(){var s,n=this,r=n.config;if(n.tooltip=n.selectChart.style("position","relative").append("div").attr("class",L.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),r.tooltip_init_show){if(n.isTimeSeries()&&oe(r.tooltip_init_x)){for(r.tooltip_init_x=n.parseDate(r.tooltip_init_x),s=0;s<n.data.targets[0].values.length&&n.data.targets[0].values[s].x-r.tooltip_init_x!=0;s++);r.tooltip_init_x=s}n.tooltip.html(r.tooltip_contents.call(n,n.data.targets.map(function(u){return n.addName(u.values[r.tooltip_init_x])}),n.axis.getXAxisTickFormat(),n.getYFormat(n.hasArcType()),n.color)),n.tooltip.style("top",r.tooltip_init_position.top).style("left",r.tooltip_init_position.left).style("display","block")}},x.prototype.getTooltipSortFunction=function(){var n=this,r=n.config;if(0!==r.data_groups.length&&void 0===r.tooltip_order){var y=n.orderTargets(n.data.targets).map(function(w){return w.id});return(n.isOrderAsc()||n.isOrderDesc())&&(y=y.reverse()),function(w,T){return y.indexOf(w.id)-y.indexOf(T.id)}}var s=r.tooltip_order;void 0===s&&(s=r.data_order);var u=function(w){return w?w.value:null};if(oe(s)&&"asc"===s.toLowerCase())return function(w,T){return u(w)-u(T)};if(oe(s)&&"desc"===s.toLowerCase())return function(w,T){return u(T)-u(w)};if(ne(s)){var g=s;return void 0===r.tooltip_order&&(g=function(w,T){return s(w?{id:w.id,values:[w]}:null,T?{id:T.id,values:[T]}:null)}),g}return jn(s)?function(w,T){return s.indexOf(w.id)-s.indexOf(T.id)}:void 0},x.prototype.getTooltipContent=function(n,r,s,u){var O,P,V,G,Y,z,g=this,y=g.config,w=y.tooltip_format_title||r,T=y.tooltip_format_name||function(Z){return Z},X=y.tooltip_format_value;X||(X=g.isTargetNormalized(n.id)?function(Z,tt){return(100*tt).toFixed(2)+"%"}:s);var q=this.getTooltipSortFunction();for(q&&n.sort(q),P=0;P<n.length;P++)if(n[P]&&(n[P].value||0===n[P].value)){if(g.isStanfordGraphType())O||(V=g.getStanfordTooltipTitle(n[P]),O="<table class='"+g.CLASS.tooltip+"'>"+V),z=g.getStanfordPointColor(n[P]),Y=hn(y.data_epochs),G=n[P].epochs;else if(O||(V=hn(w?w(n[P].x,n[P].index):n[P].x),O="<table class='"+g.CLASS.tooltip+"'>"+(V||0===V?"<tr><th colspan='2'>"+V+"</th></tr>":"")),void 0!==(G=hn(X(n[P].value,n[P].ratio,n[P].id,n[P].index,n)))){if(null===n[P].name)continue;Y=hn(T(n[P].name,n[P].ratio,n[P].id,n[P].index)),z=g.levelColor?g.levelColor(n[P].value):u(n[P].id)}void 0!==G&&(O+="<tr class='"+g.CLASS.tooltipName+"-"+g.getTargetSelectorSuffix(n[P].id)+"'>",O+="<td class='name'><span style='background-color:"+z+"'></span>"+Y+"</td>",O+="<td class='value'>"+G+"</td>",O+="</tr>")}return O+"</table>"},x.prototype.tooltipPosition=function(n,r,s,u){var T,O,P,V,G,g=this,y=g.config,w=g.d3,Y=g.hasArcType(),z=w.mouse(u);return Y?(O=(g.width-(g.isLegendRight?g.getLegendWidth():0))/2+z[0],V=(g.hasType("gauge")?g.height:g.height/2)+z[1]+20):(T=g.getSvgLeft(!0),y.axis_rotated?(P=(O=T+z[0]+100)+r,G=g.currentWidth-g.getCurrentPaddingRight(),V=g.x(n[0].x)+20):(P=(O=T+g.getCurrentPaddingLeft(!0)+g.x(n[0].x)+20)+r,G=T+g.currentWidth-g.getCurrentPaddingRight(),V=z[1]+15),P>G&&(O-=P-G+20),V+s>g.currentHeight&&(V-=s+30)),V<0&&(V=0),{top:V,left:O}},x.prototype.showTooltip=function(n,r){var g,y,w,s=this,u=s.config,T=s.hasArcType(),O=n.filter(function(V){return V&&vt(V.value)}),P=u.tooltip_position||x.prototype.tooltipPosition;0!==O.length&&u.tooltip_show?(s.tooltip.html(u.tooltip_contents.call(s,n,s.axis.getXAxisTickFormat(),s.getYFormat(T),s.color)).style("display","block"),g=s.tooltip.property("offsetWidth"),y=s.tooltip.property("offsetHeight"),w=P.call(this,O,g,y,r),s.tooltip.style("top",w.top+"px").style("left",w.left+"px")):s.hideTooltip()},x.prototype.hideTooltip=function(){this.tooltip.style("display","none")},x.prototype.setTargetType=function(n,r){var s=this,u=s.config;s.mapToTargetIds(n).forEach(function(g){s.withoutFadeIn[g]=r===u.data_types[g],u.data_types[g]=r}),n||(u.data_type=r)},x.prototype.hasType=function(n,r){var s=this,u=s.config.data_types,g=!1;return(r=r||s.data.targets)&&r.length?r.forEach(function(y){var w=u[y.id];(w&&w.indexOf(n)>=0||!w&&"line"===n)&&(g=!0)}):Object.keys(u).length?Object.keys(u).forEach(function(y){u[y]===n&&(g=!0)}):g=s.config.data_type===n,g},x.prototype.hasArcType=function(n){return this.hasType("pie",n)||this.hasType("donut",n)||this.hasType("gauge",n)},x.prototype.isLineType=function(n){var r=this.config,s=oe(n)?n:n.id;return!r.data_types[s]||["line","spline","area","area-spline","step","area-step"].indexOf(r.data_types[s])>=0},x.prototype.isStepType=function(n){var r=oe(n)?n:n.id;return["step","area-step"].indexOf(this.config.data_types[r])>=0},x.prototype.isSplineType=function(n){var r=oe(n)?n:n.id;return["spline","area-spline"].indexOf(this.config.data_types[r])>=0},x.prototype.isAreaType=function(n){var r=oe(n)?n:n.id;return["area","area-spline","area-step"].indexOf(this.config.data_types[r])>=0},x.prototype.isBarType=function(n){var r=oe(n)?n:n.id;return"bar"===this.config.data_types[r]},x.prototype.isScatterType=function(n){var r=oe(n)?n:n.id;return"scatter"===this.config.data_types[r]},x.prototype.isStanfordType=function(n){var r=oe(n)?n:n.id;return"stanford"===this.config.data_types[r]},x.prototype.isPieType=function(n){var r=oe(n)?n:n.id;return"pie"===this.config.data_types[r]},x.prototype.isGaugeType=function(n){var r=oe(n)?n:n.id;return"gauge"===this.config.data_types[r]},x.prototype.isDonutType=function(n){var r=oe(n)?n:n.id;return"donut"===this.config.data_types[r]},x.prototype.isArcType=function(n){return this.isPieType(n)||this.isDonutType(n)||this.isGaugeType(n)},x.prototype.lineData=function(n){return this.isLineType(n)?[n]:[]},x.prototype.arcData=function(n){return this.isArcType(n.data)?[n]:[]},x.prototype.barData=function(n){return this.isBarType(n)?n.values:[]},x.prototype.lineOrScatterOrStanfordData=function(n){return this.isLineType(n)||this.isScatterType(n)||this.isStanfordType(n)?n.values:[]},x.prototype.barOrLineData=function(n){return this.isBarType(n)||this.isLineType(n)?n.values:[]},x.prototype.isSafari=function(){var n=window.navigator.userAgent;return n.indexOf("Safari")>=0&&n.indexOf("Chrome")<0},x.prototype.isChrome=function(){return window.navigator.userAgent.indexOf("Chrome")>=0},x.prototype.initZoom=function(){var u,n=this,r=n.d3,s=n.config;return n.zoom=r.zoom().on("start",function(){if("scroll"===s.zoom_type){var g=r.event.sourceEvent;g&&"brush"===g.type||(u=g,s.zoom_onzoomstart.call(n.api,g))}}).on("zoom",function(){if("scroll"===s.zoom_type){var g=r.event.sourceEvent;g&&"brush"===g.type||(n.redrawForZoom(),s.zoom_onzoom.call(n.api,n.x.orgDomain()))}}).on("end",function(){if("scroll"===s.zoom_type){var g=r.event.sourceEvent;g&&"brush"===g.type||g&&u.clientX===g.clientX&&u.clientY===g.clientY||s.zoom_onzoomend.call(n.api,n.x.orgDomain())}}),n.zoom.updateDomain=function(){return r.event&&r.event.transform&&n.x.domain(s.axis_rotated&&"scroll"===s.zoom_type&&"mousemove"===r.event.sourceEvent.type?r.event.transform.rescaleY(n.subX).domain():r.event.transform.rescaleX(n.subX).domain()),this},n.zoom.updateExtent=function(){return this.scaleExtent([1,1/0]).translateExtent([[0,0],[n.width,n.height]]).extent([[0,0],[n.width,n.height]]),this},n.zoom.update=function(){return this.updateExtent().updateDomain()},n.zoom.updateExtent()},x.prototype.zoomTransform=function(n){var r=this,s=[r.x(n[0]),r.x(n[1])];return r.d3.zoomIdentity.scale(r.width/(s[1]-s[0])).translate(-s[0],0)},x.prototype.initDragZoom=function(){var n=this,r=n.d3,s=n.config,u=n.context=n.svg,g=n.margin.left+20.5,y=n.margin.top+.5;if("drag"===s.zoom_type&&s.zoom_enabled){var w=function(O){return O&&O.map(function(P){return n.x.invert(P)})},T=n.dragZoomBrush=r.brushX().on("start",function(){n.api.unzoom(),n.svg.select("."+L.dragZoom).classed("disabled",!1),s.zoom_onzoomstart.call(n.api,r.event.sourceEvent)}).on("brush",function(){s.zoom_onzoom.call(n.api,w(r.event.selection))}).on("end",function(){if(null!=r.event.selection){var O=w(r.event.selection);s.zoom_disableDefaultBehavior||n.api.zoom(O),n.svg.select("."+L.dragZoom).classed("disabled",!0),s.zoom_onzoomend.call(n.api,O)}});u.append("g").classed(L.dragZoom,!0).attr("clip-path",n.clipPath).attr("transform","translate("+g+","+y+")").call(T)}},x.prototype.getZoomDomain=function(){var n=this,r=n.config,s=n.d3;return[s.min([n.orgXDomain[0],r.zoom_x_min]),s.max([n.orgXDomain[1],r.zoom_x_max])]},x.prototype.redrawForZoom=function(){var n=this,r=n.d3,s=n.config,u=n.zoom,g=n.x;s.zoom_enabled&&0!==n.filterTargetsToShow(n.data.targets).length&&(u.update(),!s.zoom_disableDefaultBehavior&&(n.isCategorized()&&g.orgDomain()[0]===n.orgXDomain[0]&&g.domain([n.orgXDomain[0]-1e-10,g.orgDomain()[1]]),n.redraw({withTransition:!1,withY:s.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),r.event.sourceEvent&&"mousemove"===r.event.sourceEvent.type&&(n.cancelClick=!0)))},St}()},5405:(_s,wi,ae)=>{"use strict";ae.r(wi),ae.d(wi,{FormatSpecifier:()=>ja,active:()=>xy,arc:()=>MT,area:()=>Yp,areaRadial:()=>Up,ascending:()=>vt,autoType:()=>Rx,axisBottom:()=>Ue,axisLeft:()=>Ve,axisRight:()=>gn,axisTop:()=>or,bisect:()=>Xe,bisectLeft:()=>ar,bisectRight:()=>Ai,bisector:()=>fe,blob:()=>s1,brush:()=>ky,brushSelection:()=>Ly,brushX:()=>Oy,brushY:()=>Ey,buffer:()=>u1,chord:()=>Gy,clientPoint:()=>Aa,cluster:()=>Sb,color:()=>$n,contourDensity:()=>hx,contours:()=>Pf,create:()=>_T,creator:()=>ya,cross:()=>_t,csv:()=>h1,csvFormat:()=>wx,csvFormatBody:()=>Sx,csvFormatRow:()=>Ax,csvFormatRows:()=>Tx,csvFormatValue:()=>Cx,csvParse:()=>Ef,csvParseRows:()=>bx,cubehelix:()=>an,curveBasis:()=>WT,curveBasisClosed:()=>qT,curveBasisOpen:()=>jT,curveBundle:()=>QT,curveCardinal:()=>ZT,curveCardinalClosed:()=>KT,curveCardinalOpen:()=>JT,curveCatmullRom:()=>t3,curveCatmullRomClosed:()=>e3,curveCatmullRomOpen:()=>n3,curveLinear:()=>os,curveLinearClosed:()=>i3,curveMonotoneX:()=>r3,curveMonotoneY:()=>a3,curveNatural:()=>o3,curveStep:()=>s3,curveStepAfter:()=>u3,curveStepBefore:()=>c3,customEvent:()=>ur,descending:()=>et,deviation:()=>Ie,dispatch:()=>Gn,drag:()=>mx,dragDisable:()=>xa,dragEnable:()=>va,dsv:()=>f1,dsvFormat:()=>Xa,easeBack:()=>Ff,easeBackIn:()=>n1,easeBackInOut:()=>Ff,easeBackOut:()=>i1,easeBounce:()=>Tr,easeBounceIn:()=>t1,easeBounceInOut:()=>e1,easeBounceOut:()=>Tr,easeCircle:()=>If,easeCircleIn:()=>Xx,easeCircleInOut:()=>If,easeCircleOut:()=>Hx,easeCubic:()=>Ys,easeCubicIn:()=>gy,easeCubicInOut:()=>Ys,easeCubicOut:()=>py,easeElastic:()=>zf,easeElasticIn:()=>r1,easeElasticInOut:()=>a1,easeElasticOut:()=>zf,easeExp:()=>Df,easeExpIn:()=>Yx,easeExpInOut:()=>Df,easeExpOut:()=>Bx,easeLinear:()=>Vx,easePoly:()=>Gf,easePolyIn:()=>Dx,easePolyInOut:()=>Gf,easePolyOut:()=>Ix,easeQuad:()=>Rf,easeQuadIn:()=>$x,easeQuadInOut:()=>Rf,easeQuadOut:()=>Nx,easeSin:()=>Nf,easeSinIn:()=>Fx,easeSinInOut:()=>Nf,easeSinOut:()=>zx,entries:()=>jy,event:()=>rt,extent:()=>Fe,forceCenter:()=>v1,forceCollide:()=>I1,forceLink:()=>z1,forceManyBody:()=>W1,forceRadial:()=>q1,forceSimulation:()=>U1,forceX:()=>j1,forceY:()=>Q1,format:()=>Za,formatDefaultLocale:()=>Jf,formatLocale:()=>Kf,formatPrefix:()=>xc,formatSpecifier:()=>Ar,geoAlbers:()=>gd,geoAlbersUsa:()=>eb,geoArea:()=>ov,geoAzimuthalEqualArea:()=>nb,geoAzimuthalEqualAreaRaw:()=>ru,geoAzimuthalEquidistant:()=>ib,geoAzimuthalEquidistantRaw:()=>au,geoBounds:()=>lv,geoCentroid:()=>_v,geoCircle:()=>mv,geoClipAntimeridian:()=>Nc,geoClipCircle:()=>$h,geoClipExtent:()=>Tv,geoClipRectangle:()=>wo,geoConicConformal:()=>ab,geoConicConformalRaw:()=>md,geoConicEqualArea:()=>Go,geoConicEqualAreaRaw:()=>dd,geoConicEquidistant:()=>sb,geoConicEquidistantRaw:()=>yd,geoContains:()=>Ev,geoDistance:()=>Ao,geoEqualEarth:()=>ub,geoEqualEarthRaw:()=>ou,geoEquirectangular:()=>ob,geoEquirectangularRaw:()=>Ir,geoGnomonic:()=>lb,geoGnomonicRaw:()=>su,geoGraticule:()=>Uh,geoGraticule10:()=>kv,geoIdentity:()=>fb,geoInterpolate:()=>Rv,geoLength:()=>Nh,geoMercator:()=>rb,geoMercatorRaw:()=>Dr,geoNaturalEarth1:()=>hb,geoNaturalEarth1Raw:()=>cu,geoOrthographic:()=>db,geoOrthographicRaw:()=>uu,geoPath:()=>Hv,geoProjection:()=>Sn,geoProjectionMutator:()=>nu,geoRotation:()=>Mh,geoStereographic:()=>gb,geoStereographicRaw:()=>lu,geoStream:()=>on,geoTransform:()=>Uv,geoTransverseMercator:()=>pb,geoTransverseMercatorRaw:()=>fu,gray:()=>Zy,hcl:()=>za,hierarchy:()=>hu,histogram:()=>G,hsl:()=>wa,html:()=>y1,image:()=>g1,interpolate:()=>dr,interpolateArray:()=>am,interpolateBasis:()=>Al,interpolateBasisClosed:()=>Cl,interpolateBlues:()=>ZS,interpolateBrBG:()=>OS,interpolateBuGn:()=>IS,interpolateBuPu:()=>FS,interpolateCividis:()=>iT,interpolateCool:()=>oT,interpolateCubehelix:()=>vw,interpolateCubehelixDefault:()=>rT,interpolateCubehelixLong:()=>Yo,interpolateDate:()=>kl,interpolateDiscrete:()=>lw,interpolateGnBu:()=>zS,interpolateGreens:()=>KS,interpolateGreys:()=>JS,interpolateHcl:()=>yw,interpolateHclLong:()=>xw,interpolateHsl:()=>pw,interpolateHslLong:()=>_w,interpolateHue:()=>fw,interpolateInferno:()=>gT,interpolateLab:()=>mw,interpolateMagma:()=>dT,interpolateNumber:()=>We,interpolateNumberArray:()=>Ms,interpolateObject:()=>Rl,interpolateOrRd:()=>YS,interpolateOranges:()=>nT,interpolatePRGn:()=>ES,interpolatePiYG:()=>kS,interpolatePlasma:()=>pT,interpolatePuBu:()=>XS,interpolatePuBuGn:()=>BS,interpolatePuOr:()=>RS,interpolatePuRd:()=>HS,interpolatePurples:()=>tT,interpolateRainbow:()=>sT,interpolateRdBu:()=>GS,interpolateRdGy:()=>VS,interpolateRdPu:()=>US,interpolateRdYlBu:()=>$S,interpolateRdYlGn:()=>NS,interpolateReds:()=>eT,interpolateRgb:()=>hr,interpolateRgbBasis:()=>Ll,interpolateRgbBasisClosed:()=>rm,interpolateRound:()=>Vd,interpolateSinebow:()=>lT,interpolateSpectral:()=>DS,interpolateString:()=>Es,interpolateTransformCss:()=>Xl,interpolateTransformSvg:()=>Hl,interpolateTurbo:()=>fT,interpolateViridis:()=>hT,interpolateWarm:()=>aT,interpolateYlGn:()=>qS,interpolateYlGnBu:()=>WS,interpolateYlOrBr:()=>jS,interpolateYlOrRd:()=>QS,interpolateZoom:()=>Dd,interrupt:()=>ei,interval:()=>C3,isoFormat:()=>w3,isoParse:()=>A3,json:()=>_1,keys:()=>Wy,lab:()=>Fa,lch:()=>Ky,line:()=>Bu,lineRadial:()=>Hp,linkHorizontal:()=>NT,linkRadial:()=>IT,linkVertical:()=>DT,local:()=>Dp,map:()=>Nn,matcher:()=>ys,max:()=>q,mean:()=>Z,median:()=>tt,merge:()=>yt,min:()=>Pt,mouse:()=>Jn,namespace:()=>cr,namespaces:()=>vs,nest:()=>By,now:()=>Gi,pack:()=>qb,packEnclose:()=>vd,packSiblings:()=>Hb,pairs:()=>ht,partition:()=>jb,path:()=>ii,permute:()=>Rt,pie:()=>ET,piecewise:()=>bw,pointRadial:()=>oa,polygonArea:()=>Sw,polygonCentroid:()=>Tw,polygonContains:()=>Mw,polygonHull:()=>Pw,polygonLength:()=>Lw,precisionFixed:()=>th,precisionPrefix:()=>eh,precisionRound:()=>nh,quadtree:()=>Wa,quantile:()=>Y,quantize:()=>ww,radialArea:()=>Up,radialLine:()=>Hp,randomBates:()=>kw,randomExponential:()=>Rw,randomIrwinHall:()=>Xd,randomLogNormal:()=>Ew,randomNormal:()=>Bd,randomUniform:()=>Ow,range:()=>u,rgb:()=>ki,ribbon:()=>Yy,scaleBand:()=>vu,scaleDiverging:()=>cp,scaleDivergingLog:()=>up,scaleDivergingPow:()=>Du,scaleDivergingSqrt:()=>xS,scaleDivergingSymlog:()=>lp,scaleIdentity:()=>Kd,scaleImplicit:()=>yu,scaleLinear:()=>Zd,scaleLog:()=>ig,scaleOrdinal:()=>xu,scalePoint:()=>Gw,scalePow:()=>Cu,scaleQuantile:()=>cg,scaleQuantize:()=>ug,scaleSequential:()=>rp,scaleSequentialLog:()=>ap,scaleSequentialPow:()=>Nu,scaleSequentialQuantile:()=>sp,scaleSequentialSqrt:()=>yS,scaleSequentialSymlog:()=>op,scaleSqrt:()=>Hw,scaleSymlog:()=>og,scaleThreshold:()=>lg,scaleTime:()=>dS,scaleUtc:()=>mS,scan:()=>Mt,schemeAccent:()=>bS,schemeBlues:()=>kp,schemeBrBG:()=>fp,schemeBuGn:()=>vp,schemeBuPu:()=>bp,schemeCategory10:()=>vS,schemeDark2:()=>wS,schemeGnBu:()=>wp,schemeGreens:()=>Rp,schemeGreys:()=>Gp,schemeOrRd:()=>Sp,schemeOranges:()=>Np,schemePRGn:()=>hp,schemePaired:()=>SS,schemePastel1:()=>TS,schemePastel2:()=>AS,schemePiYG:()=>dp,schemePuBu:()=>Ap,schemePuBuGn:()=>Tp,schemePuOr:()=>gp,schemePuRd:()=>Cp,schemePurples:()=>Vp,schemeRdBu:()=>pp,schemeRdGy:()=>_p,schemeRdPu:()=>Pp,schemeRdYlBu:()=>mp,schemeRdYlGn:()=>yp,schemeReds:()=>$p,schemeSet1:()=>CS,schemeSet2:()=>PS,schemeSet3:()=>MS,schemeSpectral:()=>xp,schemeTableau10:()=>LS,schemeYlGn:()=>Lp,schemeYlGnBu:()=>Mp,schemeYlOrBr:()=>Op,schemeYlOrRd:()=>Ep,select:()=>$e,selectAll:()=>yT,selection:()=>Pi,selector:()=>_a,selectorAll:()=>ms,set:()=>Uy,shuffle:()=>$t,stack:()=>f3,stackOffsetDiverging:()=>d3,stackOffsetExpand:()=>h3,stackOffsetNone:()=>Ji,stackOffsetSilhouette:()=>g3,stackOffsetWiggle:()=>p3,stackOrderAppearance:()=>p0,stackOrderAscending:()=>_0,stackOrderDescending:()=>m3,stackOrderInsideOut:()=>y3,stackOrderNone:()=>tr,stackOrderReverse:()=>x3,stratify:()=>Jb,style:()=>Zn,sum:()=>Et,svg:()=>x1,symbol:()=>UT,symbolCircle:()=>Wu,symbolCross:()=>Wp,symbolDiamond:()=>jp,symbolSquare:()=>Kp,symbolStar:()=>Zp,symbolTriangle:()=>Jp,symbolWye:()=>t0,symbols:()=>HT,text:()=>Ua,thresholdFreedmanDiaconis:()=>z,thresholdScott:()=>X,thresholdSturges:()=>V,tickFormat:()=>Qd,tickIncrement:()=>O,tickStep:()=>P,ticks:()=>T,timeDay:()=>Wo,timeDays:()=>t2,timeFormat:()=>Ru,timeFormatDefaultLocale:()=>Qg,timeFormatLocale:()=>Gg,timeFriday:()=>mg,timeFridays:()=>Kw,timeHour:()=>wg,timeHours:()=>e2,timeInterval:()=>le,timeMillisecond:()=>Qo,timeMilliseconds:()=>Pg,timeMinute:()=>Tg,timeMinutes:()=>n2,timeMonday:()=>jr,timeMondays:()=>qw,timeMonth:()=>hg,timeMonths:()=>Ww,timeParse:()=>jg,timeSaturday:()=>yg,timeSaturdays:()=>Jw,timeSecond:()=>qo,timeSeconds:()=>Cg,timeSunday:()=>qr,timeSundays:()=>xg,timeThursday:()=>mi,timeThursdays:()=>Zw,timeTuesday:()=>pg,timeTuesdays:()=>jw,timeWednesday:()=>_g,timeWednesdays:()=>Qw,timeWeek:()=>qr,timeWeeks:()=>xg,timeYear:()=>gi,timeYears:()=>Uw,timeout:()=>Gs,timer:()=>La,timerFlush:()=>$l,touch:()=>gr,touches:()=>xT,transition:()=>ql,transpose:()=>mt,tree:()=>aw,treemap:()=>ow,treemapBinary:()=>sw,treemapDice:()=>Hr,treemapResquarify:()=>uw,treemapSlice:()=>zo,treemapSliceDice:()=>cw,treemapSquarify:()=>Gd,tsv:()=>d1,tsvFormat:()=>Mx,tsvFormatBody:()=>Lx,tsvFormatRow:()=>Ex,tsvFormatRows:()=>Ox,tsvFormatValue:()=>kx,tsvParse:()=>kf,tsvParseRows:()=>Px,utcDay:()=>Zo,utcDays:()=>u2,utcFormat:()=>Ko,utcFriday:()=>Og,utcFridays:()=>s2,utcHour:()=>ep,utcHours:()=>pS,utcMillisecond:()=>Qo,utcMilliseconds:()=>Pg,utcMinute:()=>ip,utcMinutes:()=>_S,utcMonday:()=>Zr,utcMondays:()=>i2,utcMonth:()=>Jg,utcMonths:()=>gS,utcParse:()=>Gu,utcSaturday:()=>Eg,utcSaturdays:()=>c2,utcSecond:()=>qo,utcSeconds:()=>Cg,utcSunday:()=>Qr,utcSundays:()=>kg,utcThursday:()=>xi,utcThursdays:()=>o2,utcTuesday:()=>Mg,utcTuesdays:()=>r2,utcWednesday:()=>Lg,utcWednesdays:()=>a2,utcWeek:()=>Qr,utcWeeks:()=>kg,utcYear:()=>vi,utcYears:()=>l2,values:()=>qy,variance:()=>Ut,version:()=>nt,voronoi:()=>H3,window:()=>bs,xml:()=>m1,zip:()=>gt,zoom:()=>K3,zoomIdentity:()=>ps,zoomTransform:()=>P0});var nt="5.16.0";function vt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function fe(t){return 1===t.length&&(t=function hn(t){return function(e,i){return vt(t(e),i)}}(t)),{left:function(e,i,a,o){for(null==a&&(a=0),null==o&&(o=e.length);a<o;){var c=a+o>>>1;t(e[c],i)<0?a=c+1:o=c}return a},right:function(e,i,a,o){for(null==a&&(a=0),null==o&&(o=e.length);a<o;){var c=a+o>>>1;t(e[c],i)>0?o=c:a=c+1}return a}}}var Ti=fe(vt),Ai=Ti.right,ar=Ti.left;const Xe=Ai;function ht(t,e){null==e&&(e=L);for(var i=0,a=t.length-1,o=t[0],c=new Array(a<0?0:a);i<a;)c[i]=e(o,o=t[++i]);return c}function L(t,e){return[t,e]}function _t(t,e,i){var l,f,h,d,a=t.length,o=e.length,c=new Array(a*o);for(null==i&&(i=L),l=h=0;l<a;++l)for(d=t[l],f=0;f<o;++f,++h)c[h]=i(d,e[f]);return c}function et(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function St(t){return null===t?NaN:+t}function Ut(t,e){var l,f,i=t.length,a=0,o=-1,c=0,h=0;if(null==e)for(;++o<i;)isNaN(l=St(t[o]))||(h+=(f=l-c)*(l-(c+=f/++a)));else for(;++o<i;)isNaN(l=St(e(t[o],o,t)))||(h+=(f=l-c)*(l-(c+=f/++a)));if(a>1)return h/(a-1)}function Ie(t,e){var i=Ut(t,e);return i&&Math.sqrt(i)}function Fe(t,e){var o,c,l,i=t.length,a=-1;if(null==e){for(;++a<i;)if(null!=(o=t[a])&&o>=o)for(c=l=o;++a<i;)null!=(o=t[a])&&(c>o&&(c=o),l<o&&(l=o))}else for(;++a<i;)if(null!=(o=e(t[a],a,t))&&o>=o)for(c=l=o;++a<i;)null!=(o=e(t[a],a,t))&&(c>o&&(c=o),l<o&&(l=o));return[c,l]}var Wt=Array.prototype,ie=Wt.slice,n=Wt.map;function r(t){return function(){return t}}function s(t){return t}function u(t,e,i){t=+t,e=+e,i=(o=arguments.length)<2?(e=t,t=0,1):o<3?1:+i;for(var a=-1,o=0|Math.max(0,Math.ceil((e-t)/i)),c=new Array(o);++a<o;)c[a]=t+a*i;return c}var g=Math.sqrt(50),y=Math.sqrt(10),w=Math.sqrt(2);function T(t,e,i){var a,c,l,f,o=-1;if(i=+i,(t=+t)==(e=+e)&&i>0)return[t];if((a=e<t)&&(c=t,t=e,e=c),0===(f=O(t,e,i))||!isFinite(f))return[];if(f>0)for(t=Math.ceil(t/f),e=Math.floor(e/f),l=new Array(c=Math.ceil(e-t+1));++o<c;)l[o]=(t+o)*f;else for(t=Math.floor(t*f),e=Math.ceil(e*f),l=new Array(c=Math.ceil(t-e+1));++o<c;)l[o]=(t-o)/f;return a&&l.reverse(),l}function O(t,e,i){var a=(e-t)/Math.max(0,i),o=Math.floor(Math.log(a)/Math.LN10),c=a/Math.pow(10,o);return o>=0?(c>=g?10:c>=y?5:c>=w?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(c>=g?10:c>=y?5:c>=w?2:1)}function P(t,e,i){var a=Math.abs(e-t)/Math.max(0,i),o=Math.pow(10,Math.floor(Math.log(a)/Math.LN10)),c=a/o;return c>=g?o*=10:c>=y?o*=5:c>=w&&(o*=2),e<t?-o:o}function V(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function G(){var t=s,e=Fe,i=V;function a(o){var c,f,l=o.length,h=new Array(l);for(c=0;c<l;++c)h[c]=t(o[c],c,o);var d=e(h),p=d[0],m=d[1],_=i(h,p,m);Array.isArray(_)||(_=P(p,m,_),_=u(Math.ceil(p/_)*_,m,_));for(var v=_.length;_[0]<=p;)_.shift(),--v;for(;_[v-1]>m;)_.pop(),--v;var b,S=new Array(v+1);for(c=0;c<=v;++c)(b=S[c]=[]).x0=c>0?_[c-1]:p,b.x1=c<v?_[c]:m;for(c=0;c<l;++c)p<=(f=h[c])&&f<=m&&S[Xe(_,f,0,v)].push(o[c]);return S}return a.value=function(o){return arguments.length?(t="function"==typeof o?o:r(o),a):t},a.domain=function(o){return arguments.length?(e="function"==typeof o?o:r([o[0],o[1]]),a):e},a.thresholds=function(o){return arguments.length?(i="function"==typeof o?o:Array.isArray(o)?r(ie.call(o)):r(o),a):i},a}function Y(t,e,i){if(null==i&&(i=St),a=t.length){if((e=+e)<=0||a<2)return+i(t[0],0,t);if(e>=1)return+i(t[a-1],a-1,t);var a,o=(a-1)*e,c=Math.floor(o),l=+i(t[c],c,t);return l+(+i(t[c+1],c+1,t)-l)*(o-c)}}function z(t,e,i){return t=n.call(t,St).sort(vt),Math.ceil((i-e)/(2*(Y(t,.75)-Y(t,.25))*Math.pow(t.length,-1/3)))}function X(t,e,i){return Math.ceil((i-e)/(3.5*Ie(t)*Math.pow(t.length,-1/3)))}function q(t,e){var o,c,i=t.length,a=-1;if(null==e){for(;++a<i;)if(null!=(o=t[a])&&o>=o)for(c=o;++a<i;)null!=(o=t[a])&&o>c&&(c=o)}else for(;++a<i;)if(null!=(o=e(t[a],a,t))&&o>=o)for(c=o;++a<i;)null!=(o=e(t[a],a,t))&&o>c&&(c=o);return c}function Z(t,e){var c,i=t.length,a=i,o=-1,l=0;if(null==e)for(;++o<i;)isNaN(c=St(t[o]))?--a:l+=c;else for(;++o<i;)isNaN(c=St(e(t[o],o,t)))?--a:l+=c;if(a)return l/a}function tt(t,e){var o,i=t.length,a=-1,c=[];if(null==e)for(;++a<i;)isNaN(o=St(t[a]))||c.push(o);else for(;++a<i;)isNaN(o=St(e(t[a],a,t)))||c.push(o);return Y(c.sort(vt),.5)}function yt(t){for(var i,c,l,e=t.length,a=-1,o=0;++a<e;)o+=t[a].length;for(c=new Array(o);--e>=0;)for(i=(l=t[e]).length;--i>=0;)c[--o]=l[i];return c}function Pt(t,e){var o,c,i=t.length,a=-1;if(null==e){for(;++a<i;)if(null!=(o=t[a])&&o>=o)for(c=o;++a<i;)null!=(o=t[a])&&c>o&&(c=o)}else for(;++a<i;)if(null!=(o=e(t[a],a,t))&&o>=o)for(c=o;++a<i;)null!=(o=e(t[a],a,t))&&c>o&&(c=o);return c}function Rt(t,e){for(var i=e.length,a=new Array(i);i--;)a[i]=t[e[i]];return a}function Mt(t,e){if(i=t.length){var i,c,a=0,o=0,l=t[o];for(null==e&&(e=vt);++a<i;)(e(c=t[a],l)<0||0!==e(l,l))&&(l=c,o=a);if(0===e(l,l))return o}}function $t(t,e,i){for(var o,c,a=(i??t.length)-(e=null==e?0:+e);a;)c=Math.random()*a--|0,o=t[a+e],t[a+e]=t[c+e],t[c+e]=o;return t}function Et(t,e){var o,i=t.length,a=-1,c=0;if(null==e)for(;++a<i;)(o=+t[a])&&(c+=o);else for(;++a<i;)(o=+e(t[a],a,t))&&(c+=o);return c}function mt(t){if(!(c=t.length))return[];for(var e=-1,i=Pt(t,Ht),a=new Array(i);++e<i;)for(var c,o=-1,l=a[e]=new Array(c);++o<c;)l[o]=t[o][e];return a}function Ht(t){return t.length}function gt(){return mt(arguments)}var ot=Array.prototype.slice;function ut(t){return t}var qt=1,se=2,he=3,te=4,ce=1e-6;function ye(t){return"translate("+(t+.5)+",0)"}function Bt(t){return"translate(0,"+(t+.5)+")"}function J(t){return function(e){return+t(e)}}function xt(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(i){return+t(i)+e}}function He(){return!this.__axis}function dn(t,e){var i=[],a=null,o=null,c=6,l=6,f=3,h=t===qt||t===te?-1:1,d=t===te||t===se?"x":"y",p=t===qt||t===he?ye:Bt;function m(_){var v=a??(e.ticks?e.ticks.apply(e,i):e.domain()),S=o??(e.tickFormat?e.tickFormat.apply(e,i):ut),b=Math.max(c,0)+f,A=e.range(),C=+A[0]+.5,k=+A[A.length-1]+.5,M=(e.bandwidth?xt:J)(e.copy()),E=_.selection?_.selection():_,$=E.selectAll(".domain").data([null]),I=E.selectAll(".tick").data(v,e).order(),N=I.exit(),W=I.enter().append("g").attr("class","tick"),H=I.select("line"),U=I.select("text");$=$.merge($.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),I=I.merge(W),H=H.merge(W.append("line").attr("stroke","currentColor").attr(d+"2",h*c)),U=U.merge(W.append("text").attr("fill","currentColor").attr(d,h*b).attr("dy",t===qt?"0em":t===he?"0.71em":"0.32em")),_!==E&&($=$.transition(_),I=I.transition(_),H=H.transition(_),U=U.transition(_),N=N.transition(_).attr("opacity",ce).attr("transform",function(B){return isFinite(B=M(B))?p(B):this.getAttribute("transform")}),W.attr("opacity",ce).attr("transform",function(B){var R=this.parentNode.__axis;return p(R&&isFinite(R=R(B))?R:M(B))})),N.remove(),$.attr("d",t===te||t==se?l?"M"+h*l+","+C+"H0.5V"+k+"H"+h*l:"M0.5,"+C+"V"+k:l?"M"+C+","+h*l+"V0.5H"+k+"V"+h*l:"M"+C+",0.5H"+k),I.attr("opacity",1).attr("transform",function(B){return p(M(B))}),H.attr(d+"2",h*c),U.attr(d,h*b).text(S),E.filter(He).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===se?"start":t===te?"end":"middle"),E.each(function(){this.__axis=M})}return m.scale=function(_){return arguments.length?(e=_,m):e},m.ticks=function(){return i=ot.call(arguments),m},m.tickArguments=function(_){return arguments.length?(i=null==_?[]:ot.call(_),m):i.slice()},m.tickValues=function(_){return arguments.length?(a=null==_?null:ot.call(_),m):a&&a.slice()},m.tickFormat=function(_){return arguments.length?(o=_,m):o},m.tickSize=function(_){return arguments.length?(c=l=+_,m):c},m.tickSizeInner=function(_){return arguments.length?(c=+_,m):c},m.tickSizeOuter=function(_){return arguments.length?(l=+_,m):l},m.tickPadding=function(_){return arguments.length?(f=+_,m):f},m}function or(t){return dn(qt,t)}function gn(t){return dn(se,t)}function Ue(t){return dn(he,t)}function Ve(t){return dn(te,t)}var pn={value:function(){}};function Ci(){for(var a,t=0,e=arguments.length,i={};t<e;++t){if(!(a=arguments[t]+"")||a in i||/[\s.]/.test(a))throw new Error("illegal type: "+a);i[a]=[]}return new tn(i)}function tn(t){this._=t}function sr(t,e){for(var o,i=0,a=t.length;i<a;++i)if((o=t[i]).name===e)return o.value}function en(t,e,i){for(var a=0,o=t.length;a<o;++a)if(t[a].name===e){t[a]=pn,t=t.slice(0,a).concat(t.slice(a+1));break}return null!=i&&t.push({name:e,value:i}),t}tn.prototype=Ci.prototype={constructor:tn,on:function(t,e){var o,i=this._,a=function pa(t,e){return t.trim().split(/^|\s+/).map(function(i){var a="",o=i.indexOf(".");if(o>=0&&(a=i.slice(o+1),i=i.slice(0,o)),i&&!e.hasOwnProperty(i))throw new Error("unknown type: "+i);return{type:i,name:a}})}(t+"",i),c=-1,l=a.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++c<l;)if(o=(t=a[c]).type)i[o]=en(i[o],t.name,e);else if(null==e)for(o in i)i[o]=en(i[o],t.name,null);return this}for(;++c<l;)if((o=(t=a[c]).type)&&(o=sr(i[o],t.name)))return o},copy:function(){var t={},e=this._;for(var i in e)t[i]=e[i].slice();return new tn(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var o,c,i=new Array(o),a=0;a<o;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,o=(c=this._[t]).length;a<o;++a)c[a].value.apply(e,i)},apply:function(t,e,i){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var a=this._[t],o=0,c=a.length;o<c;++o)a[o].value.apply(e,i)}};const Gn=Ci;function L0(){}function _a(t){return null==t?L0:function(){return this.querySelector(t)}}function E0(){return[]}function ms(t){return null==t?E0:function(){return this.querySelectorAll(t)}}function ys(t){return function(){return this.matches(t)}}function ol(t){return new Array(t.length)}function ma(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}ma.prototype={constructor:ma,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function $0(t,e,i,a,o,c){for(var f,l=0,h=e.length,d=c.length;l<d;++l)(f=e[l])?(f.__data__=c[l],a[l]=f):i[l]=new ma(t,c[l]);for(;l<h;++l)(f=e[l])&&(o[l]=f)}function N0(t,e,i,a,o,c,l){var f,h,v,d={},p=e.length,m=c.length,_=new Array(p);for(f=0;f<p;++f)(h=e[f])&&(_[f]=v="$"+l.call(h,h.__data__,f,e),v in d?o[f]=h:d[v]=h);for(f=0;f<m;++f)(h=d[v="$"+l.call(t,c[f],f,c)])?(a[f]=h,h.__data__=c[f],d[v]=null):i[f]=new ma(t,c[f]);for(f=0;f<p;++f)(h=e[f])&&d[_[f]]===h&&(o[f]=h)}function X0(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var xs="http://www.w3.org/1999/xhtml";const vs={svg:"http://www.w3.org/2000/svg",xhtml:xs,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function cr(t){var e=t+="",i=e.indexOf(":");return i>=0&&"xmlns"!==(e=t.slice(0,i))&&(t=t.slice(i+1)),vs.hasOwnProperty(e)?{space:vs[e],local:t}:t}function Z0(t){return function(){this.removeAttribute(t)}}function K0(t){return function(){this.removeAttributeNS(t.space,t.local)}}function J0(t,e){return function(){this.setAttribute(t,e)}}function t_(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function e_(t,e){return function(){var i=e.apply(this,arguments);null==i?this.removeAttribute(t):this.setAttribute(t,i)}}function n_(t,e){return function(){var i=e.apply(this,arguments);null==i?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,i)}}function bs(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function r_(t){return function(){this.style.removeProperty(t)}}function a_(t,e,i){return function(){this.style.setProperty(t,e,i)}}function o_(t,e,i){return function(){var a=e.apply(this,arguments);null==a?this.style.removeProperty(t):this.style.setProperty(t,a,i)}}function Zn(t,e){return t.style.getPropertyValue(e)||bs(t).getComputedStyle(t,null).getPropertyValue(e)}function c_(t){return function(){delete this[t]}}function u_(t,e){return function(){this[t]=e}}function l_(t,e){return function(){var i=e.apply(this,arguments);null==i?delete this[t]:this[t]=i}}function cl(t){return t.trim().split(/^|\s+/)}function ws(t){return t.classList||new ul(t)}function ul(t){this._node=t,this._names=cl(t.getAttribute("class")||"")}function ll(t,e){for(var i=ws(t),a=-1,o=e.length;++a<o;)i.add(e[a])}function fl(t,e){for(var i=ws(t),a=-1,o=e.length;++a<o;)i.remove(e[a])}function h_(t){return function(){ll(this,t)}}function d_(t){return function(){fl(this,t)}}function g_(t,e){return function(){(e.apply(this,arguments)?ll:fl)(this,t)}}function __(){this.textContent=""}function m_(t){return function(){this.textContent=t}}function y_(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function v_(){this.innerHTML=""}function b_(t){return function(){this.innerHTML=t}}function w_(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function T_(){this.nextSibling&&this.parentNode.appendChild(this)}function C_(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function M_(t){return function(){var e=this.ownerDocument,i=this.namespaceURI;return i===xs&&e.documentElement.namespaceURI===xs?e.createElement(t):e.createElementNS(i,t)}}function L_(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function ya(t){var e=cr(t);return(e.local?L_:M_)(e)}function E_(){return null}function R_(){var t=this.parentNode;t&&t.removeChild(this)}function V_(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function $_(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}ul.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var hl={},rt=null;function F_(t,e,i){return t=dl(t,e,i),function(a){var o=a.relatedTarget;(!o||o!==this&&!(8&o.compareDocumentPosition(this)))&&t.call(this,a)}}function dl(t,e,i){return function(a){var o=rt;rt=a;try{t.call(this,this.__data__,e,i)}finally{rt=o}}}function Y_(t){return function(){var e=this.__on;if(e){for(var c,i=0,a=-1,o=e.length;i<o;++i)c=e[i],t.type&&c.type!==t.type||c.name!==t.name?e[++a]=c:this.removeEventListener(c.type,c.listener,c.capture);++a?e.length=a:delete this.__on}}}function B_(t,e,i){var a=hl.hasOwnProperty(t.type)?F_:dl;return function(o,c,l){var h,f=this.__on,d=a(e,c,l);if(f)for(var p=0,m=f.length;p<m;++p)if((h=f[p]).type===t.type&&h.name===t.name)return this.removeEventListener(h.type,h.listener,h.capture),this.addEventListener(h.type,h.listener=d,h.capture=i),void(h.value=e);this.addEventListener(t.type,d,i),h={type:t.type,name:t.name,value:e,listener:d,capture:i},f?f.push(h):this.__on=[h]}}function ur(t,e,i,a){var o=rt;t.sourceEvent=rt,rt=t;try{return e.apply(i,a)}finally{rt=o}}function gl(t,e,i){var a=bs(t),o=a.CustomEvent;"function"==typeof o?o=new o(e,i):(o=a.document.createEvent("Event"),i?(o.initEvent(e,i.bubbles,i.cancelable),o.detail=i.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function H_(t,e){return function(){return gl(this,t,e)}}function U_(t,e){return function(){return gl(this,t,e.apply(this,arguments))}}typeof document<"u"&&("onmouseenter"in document.documentElement||(hl={mouseenter:"mouseover",mouseleave:"mouseout"}));var Ss=[null];function Te(t,e){this._groups=t,this._parents=e}function pl(){return new Te([[document.documentElement]],Ss)}Te.prototype=pl.prototype={constructor:Te,select:function O0(t){"function"!=typeof t&&(t=_a(t));for(var e=this._groups,i=e.length,a=new Array(i),o=0;o<i;++o)for(var h,d,c=e[o],l=c.length,f=a[o]=new Array(l),p=0;p<l;++p)(h=c[p])&&(d=t.call(h,h.__data__,p,c))&&("__data__"in h&&(d.__data__=h.__data__),f[p]=d);return new Te(a,this._parents)},selectAll:function k0(t){"function"!=typeof t&&(t=ms(t));for(var e=this._groups,i=e.length,a=[],o=[],c=0;c<i;++c)for(var h,l=e[c],f=l.length,d=0;d<f;++d)(h=l[d])&&(a.push(t.call(h,h.__data__,d,l)),o.push(h));return new Te(a,o)},filter:function R0(t){"function"!=typeof t&&(t=ys(t));for(var e=this._groups,i=e.length,a=new Array(i),o=0;o<i;++o)for(var h,c=e[o],l=c.length,f=a[o]=[],d=0;d<l;++d)(h=c[d])&&t.call(h,h.__data__,d,c)&&f.push(h);return new Te(a,this._parents)},data:function D0(t,e){if(!t)return v=new Array(this.size()),d=-1,this.each(function(I){v[++d]=I}),v;var i=e?N0:$0,a=this._parents,o=this._groups;"function"!=typeof t&&(t=function V0(t){return function(){return t}}(t));for(var c=o.length,l=new Array(c),f=new Array(c),h=new Array(c),d=0;d<c;++d){var p=a[d],m=o[d],_=m.length,v=t.call(p,p&&p.__data__,d,a),S=v.length,b=f[d]=new Array(S),A=l[d]=new Array(S);i(p,m,b,A,h[d]=new Array(_),v,e);for(var E,$,k=0,M=0;k<S;++k)if(E=b[k]){for(k>=M&&(M=k+1);!($=A[M])&&++M<S;);E._next=$||null}}return(l=new Te(l,a))._enter=f,l._exit=h,l},enter:function G0(){return new Te(this._enter||this._groups.map(ol),this._parents)},exit:function I0(){return new Te(this._exit||this._groups.map(ol),this._parents)},join:function F0(t,e,i){var a=this.enter(),o=this,c=this.exit();return a="function"==typeof t?t(a):a.append(t+""),null!=e&&(o=e(o)),null==i?c.remove():i(c),a&&o?a.merge(o).order():o},merge:function z0(t){for(var e=this._groups,i=t._groups,a=e.length,c=Math.min(a,i.length),l=new Array(a),f=0;f<c;++f)for(var _,h=e[f],d=i[f],p=h.length,m=l[f]=new Array(p),v=0;v<p;++v)(_=h[v]||d[v])&&(m[v]=_);for(;f<a;++f)l[f]=e[f];return new Te(l,this._parents)},order:function Y0(){for(var t=this._groups,e=-1,i=t.length;++e<i;)for(var l,a=t[e],o=a.length-1,c=a[o];--o>=0;)(l=a[o])&&(c&&4^l.compareDocumentPosition(c)&&c.parentNode.insertBefore(l,c),c=l);return this},sort:function B0(t){function e(m,_){return m&&_?t(m.__data__,_.__data__):!m-!_}t||(t=X0);for(var i=this._groups,a=i.length,o=new Array(a),c=0;c<a;++c){for(var d,l=i[c],f=l.length,h=o[c]=new Array(f),p=0;p<f;++p)(d=l[p])&&(h[p]=d);h.sort(e)}return new Te(o,this._parents).order()},call:function H0(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function U0(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function W0(){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var a=t[e],o=0,c=a.length;o<c;++o){var l=a[o];if(l)return l}return null},size:function q0(){var t=0;return this.each(function(){++t}),t},empty:function j0(){return!this.node()},each:function Q0(t){for(var e=this._groups,i=0,a=e.length;i<a;++i)for(var f,o=e[i],c=0,l=o.length;c<l;++c)(f=o[c])&&t.call(f,f.__data__,c,o);return this},attr:function i_(t,e){var i=cr(t);if(arguments.length<2){var a=this.node();return i.local?a.getAttributeNS(i.space,i.local):a.getAttribute(i)}return this.each((null==e?i.local?K0:Z0:"function"==typeof e?i.local?n_:e_:i.local?t_:J0)(i,e))},style:function s_(t,e,i){return arguments.length>1?this.each((null==e?r_:"function"==typeof e?o_:a_)(t,e,i??"")):Zn(this.node(),t)},property:function f_(t,e){return arguments.length>1?this.each((null==e?c_:"function"==typeof e?l_:u_)(t,e)):this.node()[t]},classed:function p_(t,e){var i=cl(t+"");if(arguments.length<2){for(var a=ws(this.node()),o=-1,c=i.length;++o<c;)if(!a.contains(i[o]))return!1;return!0}return this.each(("function"==typeof e?g_:e?h_:d_)(i,e))},text:function x_(t){return arguments.length?this.each(null==t?__:("function"==typeof t?y_:m_)(t)):this.node().textContent},html:function S_(t){return arguments.length?this.each(null==t?v_:("function"==typeof t?w_:b_)(t)):this.node().innerHTML},raise:function A_(){return this.each(T_)},lower:function P_(){return this.each(C_)},append:function O_(t){var e="function"==typeof t?t:ya(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function k_(t,e){var i="function"==typeof t?t:ya(t),a=null==e?E_:"function"==typeof e?e:_a(e);return this.select(function(){return this.insertBefore(i.apply(this,arguments),a.apply(this,arguments)||null)})},remove:function G_(){return this.each(R_)},clone:function N_(t){return this.select(t?$_:V_)},datum:function D_(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function X_(t,e,i){var o,l,a=function z_(t){return t.trim().split(/^|\s+/).map(function(e){var i="",a=e.indexOf(".");return a>=0&&(i=e.slice(a+1),e=e.slice(0,a)),{type:e,name:i}})}(t+""),c=a.length;if(!(arguments.length<2)){for(f=e?B_:Y_,null==i&&(i=!1),o=0;o<c;++o)this.each(f(a[o],e,i));return this}var f=this.node().__on;if(f)for(var p,h=0,d=f.length;h<d;++h)for(o=0,p=f[h];o<c;++o)if((l=a[o]).type===p.type&&l.name===p.name)return p.value},dispatch:function W_(t,e){return this.each(("function"==typeof e?U_:H_)(t,e))}};const Pi=pl;function $e(t){return"string"==typeof t?new Te([[document.querySelector(t)]],[document.documentElement]):new Te([[t]],Ss)}function Ts(){rt.stopImmediatePropagation()}function Mi(){rt.preventDefault(),rt.stopImmediatePropagation()}function xa(t){var e=t.document.documentElement,i=$e(t).on("dragstart.drag",Mi,!0);"onselectstart"in e?i.on("selectstart.drag",Mi,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function va(t,e){var i=t.document.documentElement,a=$e(t).on("dragstart.drag",null);e&&(a.on("click.drag",Mi,!0),setTimeout(function(){a.on("click.drag",null)},0)),"onselectstart"in i?a.on("selectstart.drag",null):(i.style.MozUserSelect=i.__noselect,delete i.__noselect)}function Li(t,e,i){t.prototype=e.prototype=i,i.constructor=t}function lr(t,e){var i=Object.create(t.prototype);for(var a in e)i[a]=e[a];return i}function Vn(){}var Oi=1/.7,Ei="\\s*([+-]?\\d+)\\s*",fr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",_n="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",q_=/^#([0-9a-f]{3,8})$/,j_=new RegExp("^rgb\\("+[Ei,Ei,Ei]+"\\)$"),Q_=new RegExp("^rgb\\("+[_n,_n,_n]+"\\)$"),Z_=new RegExp("^rgba\\("+[Ei,Ei,Ei,fr]+"\\)$"),K_=new RegExp("^rgba\\("+[_n,_n,_n,fr]+"\\)$"),J_=new RegExp("^hsl\\("+[fr,_n,_n]+"\\)$"),tm=new RegExp("^hsla\\("+[fr,_n,_n,fr]+"\\)$"),_l={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ml(){return this.rgb().formatHex()}function yl(){return this.rgb().formatRgb()}function $n(t){var e,i;return t=(t+"").trim().toLowerCase(),(e=q_.exec(t))?(i=e[1].length,e=parseInt(e[1],16),6===i?xl(e):3===i?new pe(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===i?ba(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===i?ba(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=j_.exec(t))?new pe(e[1],e[2],e[3],1):(e=Q_.exec(t))?new pe(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Z_.exec(t))?ba(e[1],e[2],e[3],e[4]):(e=K_.exec(t))?ba(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=J_.exec(t))?wl(e[1],e[2]/100,e[3]/100,1):(e=tm.exec(t))?wl(e[1],e[2]/100,e[3]/100,e[4]):_l.hasOwnProperty(t)?xl(_l[t]):"transparent"===t?new pe(NaN,NaN,NaN,0):null}function xl(t){return new pe(t>>16&255,t>>8&255,255&t,1)}function ba(t,e,i,a){return a<=0&&(t=e=i=NaN),new pe(t,e,i,a)}function As(t){return t instanceof Vn||(t=$n(t)),t?new pe((t=t.rgb()).r,t.g,t.b,t.opacity):new pe}function ki(t,e,i,a){return 1===arguments.length?As(t):new pe(t,e,i,a??1)}function pe(t,e,i,a){this.r=+t,this.g=+e,this.b=+i,this.opacity=+a}function vl(){return"#"+Cs(this.r)+Cs(this.g)+Cs(this.b)}function bl(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Cs(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function wl(t,e,i,a){return a<=0?t=e=i=NaN:i<=0||i>=1?t=e=NaN:e<=0&&(t=NaN),new mn(t,e,i,a)}function Sl(t){if(t instanceof mn)return new mn(t.h,t.s,t.l,t.opacity);if(t instanceof Vn||(t=$n(t)),!t)return new mn;if(t instanceof mn)return t;var e=(t=t.rgb()).r/255,i=t.g/255,a=t.b/255,o=Math.min(e,i,a),c=Math.max(e,i,a),l=NaN,f=c-o,h=(c+o)/2;return f?(l=e===c?(i-a)/f+6*(i<a):i===c?(a-e)/f+2:(e-i)/f+4,f/=h<.5?c+o:2-c-o,l*=60):f=h>0&&h<1?0:l,new mn(l,f,h,t.opacity)}function wa(t,e,i,a){return 1===arguments.length?Sl(t):new mn(t,e,i,a??1)}function mn(t,e,i,a){this.h=+t,this.s=+e,this.l=+i,this.opacity=+a}function Ps(t,e,i){return 255*(t<60?e+(i-e)*t/60:t<180?i:t<240?e+(i-e)*(240-t)/60:e)}function Tl(t,e,i,a,o){var c=t*t,l=c*t;return((1-3*t+3*c-l)*e+(4-6*c+3*l)*i+(1+3*t+3*c-3*l)*a+l*o)/6}function Al(t){var e=t.length-1;return function(i){var a=i<=0?i=0:i>=1?(i=1,e-1):Math.floor(i*e),o=t[a],c=t[a+1];return Tl((i-a/e)*e,a>0?t[a-1]:2*o-c,o,c,a<e-1?t[a+2]:2*c-o)}}function Cl(t){var e=t.length;return function(i){var a=Math.floor(((i%=1)<0?++i:i)*e);return Tl((i-a/e)*e,t[(a+e-1)%e],t[a%e],t[(a+1)%e],t[(a+2)%e])}}function Sa(t){return function(){return t}}function Pl(t,e){return function(i){return t+i*e}}function Ta(t,e){var i=e-t;return i?Pl(t,i>180||i<-180?i-360*Math.round(i/360):i):Sa(isNaN(t)?e:t)}function de(t,e){var i=e-t;return i?Pl(t,i):Sa(isNaN(t)?e:t)}Li(Vn,$n,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:ml,formatHex:ml,formatHsl:function em(){return Sl(this).formatHsl()},formatRgb:yl,toString:yl}),Li(pe,ki,lr(Vn,{brighter:function(t){return t=null==t?Oi:Math.pow(Oi,t),new pe(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new pe(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:vl,formatHex:vl,formatRgb:bl,toString:bl})),Li(mn,wa,lr(Vn,{brighter:function(t){return t=null==t?Oi:Math.pow(Oi,t),new mn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new mn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,i=this.l,a=i+(i<.5?i:1-i)*e,o=2*i-a;return new pe(Ps(t>=240?t-240:t+120,o,a),Ps(t,o,a),Ps(t<120?t+240:t-120,o,a),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));const hr=function t(e){var i=function im(t){return 1==(t=+t)?de:function(e,i){return i-e?function nm(t,e,i){return t=Math.pow(t,i),e=Math.pow(e,i)-t,i=1/i,function(a){return Math.pow(t+a*e,i)}}(e,i,t):Sa(isNaN(e)?i:e)}}(e);function a(o,c){var l=i((o=ki(o)).r,(c=ki(c)).r),f=i(o.g,c.g),h=i(o.b,c.b),d=de(o.opacity,c.opacity);return function(p){return o.r=l(p),o.g=f(p),o.b=h(p),o.opacity=d(p),o+""}}return a.gamma=t,a}(1);function Ml(t){return function(e){var l,f,i=e.length,a=new Array(i),o=new Array(i),c=new Array(i);for(l=0;l<i;++l)f=ki(e[l]),a[l]=f.r||0,o[l]=f.g||0,c[l]=f.b||0;return a=t(a),o=t(o),c=t(c),f.opacity=1,function(h){return f.r=a(h),f.g=o(h),f.b=c(h),f+""}}}var Ll=Ml(Al),rm=Ml(Cl);function Ms(t,e){e||(e=[]);var o,i=t?Math.min(e.length,t.length):0,a=e.slice();return function(c){for(o=0;o<i;++o)a[o]=t[o]*(1-c)+e[o]*c;return a}}function Ol(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function am(t,e){return(Ol(e)?Ms:El)(t,e)}function El(t,e){var l,i=e?e.length:0,a=t?Math.min(i,t.length):0,o=new Array(a),c=new Array(i);for(l=0;l<a;++l)o[l]=dr(t[l],e[l]);for(;l<i;++l)c[l]=e[l];return function(f){for(l=0;l<a;++l)c[l]=o[l](f);return c}}function kl(t,e){var i=new Date;return t=+t,e=+e,function(a){return i.setTime(t*(1-a)+e*a),i}}function We(t,e){return t=+t,e=+e,function(i){return t*(1-i)+e*i}}function Rl(t,e){var o,i={},a={};for(o in(null===t||"object"!=typeof t)&&(t={}),(null===e||"object"!=typeof e)&&(e={}),e)o in t?i[o]=dr(t[o],e[o]):a[o]=e[o];return function(c){for(o in i)a[o]=i[o](c);return a}}var Ls=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Os=new RegExp(Ls.source,"g");function Es(t,e){var a,o,c,i=Ls.lastIndex=Os.lastIndex=0,l=-1,f=[],h=[];for(t+="",e+="";(a=Ls.exec(t))&&(o=Os.exec(e));)(c=o.index)>i&&(c=e.slice(i,c),f[l]?f[l]+=c:f[++l]=c),(a=a[0])===(o=o[0])?f[l]?f[l]+=o:f[++l]=o:(f[++l]=null,h.push({i:l,x:We(a,o)})),i=Os.lastIndex;return i<e.length&&(c=e.slice(i),f[l]?f[l]+=c:f[++l]=c),f.length<2?h[0]?function sm(t){return function(e){return t(e)+""}}(h[0].x):function om(t){return function(){return t}}(e):(e=h.length,function(d){for(var m,p=0;p<e;++p)f[(m=h[p]).i]=m.x(d);return f.join("")})}function dr(t,e){var a,i=typeof e;return null==e||"boolean"===i?Sa(e):("number"===i?We:"string"===i?(a=$n(e))?(e=a,hr):Es:e instanceof $n?hr:e instanceof Date?kl:Ol(e)?Ms:Array.isArray(e)?El:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Rl:We)(t,e)}function ks(){for(var e,t=rt;e=t.sourceEvent;)t=e;return t}function Aa(t,e){var i=t.ownerSVGElement||t;if(i.createSVGPoint){var a=i.createSVGPoint();return a.x=e.clientX,a.y=e.clientY,[(a=a.matrixTransform(t.getScreenCTM().inverse())).x,a.y]}var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}function gr(t,e,i){arguments.length<3&&(i=e,e=ks().changedTouches);for(var c,a=0,o=e?e.length:0;a<o;++a)if((c=e[a]).identifier===i)return Aa(t,c);return null}function Jn(t){var e=ks();return e.changedTouches&&(e=e.changedTouches[0]),Aa(t,e)}var Ca,mr,Ri=0,pr=0,_r=0,Gl=1e3,Pa=0,ti=0,Ma=0,yr="object"==typeof performance&&performance.now?performance:Date,Vl="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Gi(){return ti||(Vl(cm),ti=yr.now()+Ma)}function cm(){ti=0}function xr(){this._call=this._time=this._next=null}function La(t,e,i){var a=new xr;return a.restart(t,e,i),a}function $l(){Gi(),++Ri;for(var e,t=Ca;t;)(e=ti-t._time)>=0&&t._call.call(null,e),t=t._next;--Ri}function Nl(){ti=(Pa=yr.now())+Ma,Ri=pr=0;try{$l()}finally{Ri=0,function lm(){for(var t,i,e=Ca,a=1/0;e;)e._call?(a>e._time&&(a=e._time),t=e,e=e._next):(i=e._next,e._next=null,e=t?t._next=i:Ca=i);mr=t,Rs(a)}(),ti=0}}function um(){var t=yr.now(),e=t-Pa;e>Gl&&(Ma-=e,Pa=t)}function Rs(t){Ri||(pr&&(pr=clearTimeout(pr)),t-ti>24?(t<1/0&&(pr=setTimeout(Nl,t-yr.now()-Ma)),_r&&(_r=clearInterval(_r))):(_r||(Pa=yr.now(),_r=setInterval(um,Gl)),Ri=1,Vl(Nl)))}function Gs(t,e,i){var a=new xr;return a.restart(function(o){a.stop(),t(o+e)},e=null==e?0:+e,i),a}xr.prototype=La.prototype={constructor:xr,restart:function(t,e,i){if("function"!=typeof t)throw new TypeError("callback is not a function");i=(null==i?Gi():+i)+(null==e?0:+e),!this._next&&mr!==this&&(mr?mr._next=this:Ca=this,mr=this),this._call=t,this._time=i,Rs()},stop:function(){this._call&&(this._call=null,this._time=1/0,Rs())}};var fm=Gn("start","end","cancel","interrupt"),hm=[],Dl=0,Vs=1,$s=2,Oa=3,Ns=5,Ea=6;function ka(t,e,i,a,o,c){var l=t.__transition;if(l){if(i in l)return}else t.__transition={};!function dm(t,e,i){var o,a=t.__transition;function l(d){var p,m,_,v;if(i.state!==Vs)return h();for(p in a)if((v=a[p]).name===i.name){if(v.state===Oa)return Gs(l);4===v.state?(v.state=Ea,v.timer.stop(),v.on.call("interrupt",t,t.__data__,v.index,v.group),delete a[p]):+p<e&&(v.state=Ea,v.timer.stop(),v.on.call("cancel",t,t.__data__,v.index,v.group),delete a[p])}if(Gs(function(){i.state===Oa&&(i.state=4,i.timer.restart(f,i.delay,i.time),f(d))}),i.state=$s,i.on.call("start",t,t.__data__,i.index,i.group),i.state===$s){for(i.state=Oa,o=new Array(_=i.tween.length),p=0,m=-1;p<_;++p)(v=i.tween[p].value.call(t,t.__data__,i.index,i.group))&&(o[++m]=v);o.length=m+1}}function f(d){for(var p=d<i.duration?i.ease.call(null,d/i.duration):(i.timer.restart(h),i.state=Ns,1),m=-1,_=o.length;++m<_;)o[m].call(t,p);i.state===Ns&&(i.on.call("end",t,t.__data__,i.index,i.group),h())}function h(){for(var d in i.state=Ea,i.timer.stop(),delete a[e],a)return;delete t.__transition}a[e]=i,i.timer=La(function c(d){i.state=Vs,i.timer.restart(l,i.delay,i.time),i.delay<=d&&l(d-i.delay)},0,i.time)}(t,i,{name:e,index:a,group:o,on:fm,tween:hm,time:c.time,delay:c.delay,duration:c.duration,ease:c.ease,timer:null,state:Dl})}function Ds(t,e){var i=nn(t,e);if(i.state>Dl)throw new Error("too late; already scheduled");return i}function An(t,e){var i=nn(t,e);if(i.state>Oa)throw new Error("too late; already running");return i}function nn(t,e){var i=t.__transition;if(!i||!(i=i[e]))throw new Error("transition not found");return i}function ei(t,e){var a,o,l,i=t.__transition,c=!0;if(i){for(l in e=null==e?null:e+"",i)(a=i[l]).name===e?(o=a.state>$s&&a.state<Ns,a.state=Ea,a.timer.stop(),a.on.call(o?"interrupt":"cancel",t,t.__data__,a.index,a.group),delete i[l]):c=!1;c&&delete t.__transition}}var vr,Fs,Yl,Ra,Fl=180/Math.PI,Is={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function zl(t,e,i,a,o,c){var l,f,h;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(h=t*i+e*a)&&(i-=t*h,a-=e*h),(f=Math.sqrt(i*i+a*a))&&(i/=f,a/=f,h/=f),t*a<e*i&&(t=-t,e=-e,h=-h,l=-l),{translateX:o,translateY:c,rotate:Math.atan2(e,t)*Fl,skewX:Math.atan(h)*Fl,scaleX:l,scaleY:f}}function Bl(t,e,i,a){function o(d){return d.length?d.pop()+" ":""}return function(d,p){var m=[],_=[];return d=t(d),p=t(p),function c(d,p,m,_,v,S){if(d!==m||p!==_){var b=v.push("translate(",null,e,null,i);S.push({i:b-4,x:We(d,m)},{i:b-2,x:We(p,_)})}else(m||_)&&v.push("translate("+m+e+_+i)}(d.translateX,d.translateY,p.translateX,p.translateY,m,_),function l(d,p,m,_){d!==p?(d-p>180?p+=360:p-d>180&&(d+=360),_.push({i:m.push(o(m)+"rotate(",null,a)-2,x:We(d,p)})):p&&m.push(o(m)+"rotate("+p+a)}(d.rotate,p.rotate,m,_),function f(d,p,m,_){d!==p?_.push({i:m.push(o(m)+"skewX(",null,a)-2,x:We(d,p)}):p&&m.push(o(m)+"skewX("+p+a)}(d.skewX,p.skewX,m,_),function h(d,p,m,_,v,S){if(d!==m||p!==_){var b=v.push(o(v)+"scale(",null,",",null,")");S.push({i:b-4,x:We(d,m)},{i:b-2,x:We(p,_)})}else(1!==m||1!==_)&&v.push(o(v)+"scale("+m+","+_+")")}(d.scaleX,d.scaleY,p.scaleX,p.scaleY,m,_),d=p=null,function(v){for(var A,S=-1,b=_.length;++S<b;)m[(A=_[S]).i]=A.x(v);return m.join("")}}}var Xl=Bl(function pm(t){return"none"===t?Is:(vr||(vr=document.createElement("DIV"),Fs=document.documentElement,Yl=document.defaultView),vr.style.transform=t,t=Yl.getComputedStyle(Fs.appendChild(vr),null).getPropertyValue("transform"),Fs.removeChild(vr),zl(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),Hl=Bl(function _m(t){return null!=t&&(Ra||(Ra=document.createElementNS("http://www.w3.org/2000/svg","g")),Ra.setAttribute("transform",t),t=Ra.transform.baseVal.consolidate())?zl((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Is},", ",")",")");function mm(t,e){var i,a;return function(){var o=An(this,t),c=o.tween;if(c!==i)for(var l=0,f=(a=i=c).length;l<f;++l)if(a[l].name===e){(a=a.slice()).splice(l,1);break}o.tween=a}}function ym(t,e,i){var a,o;if("function"!=typeof i)throw new Error;return function(){var c=An(this,t),l=c.tween;if(l!==a){o=(a=l).slice();for(var f={name:e,value:i},h=0,d=o.length;h<d;++h)if(o[h].name===e){o[h]=f;break}h===d&&o.push(f)}c.tween=o}}function zs(t,e,i){var a=t._id;return t.each(function(){var o=An(this,a);(o.value||(o.value={}))[e]=i.apply(this,arguments)}),function(o){return nn(o,a).value[e]}}function Ul(t,e){var i;return("number"==typeof e?We:e instanceof $n?hr:(i=$n(e))?(e=i,hr):Es)(t,e)}function vm(t){return function(){this.removeAttribute(t)}}function bm(t){return function(){this.removeAttributeNS(t.space,t.local)}}function wm(t,e,i){var a,c,o=i+"";return function(){var l=this.getAttribute(t);return l===o?null:l===a?c:c=e(a=l,i)}}function Sm(t,e,i){var a,c,o=i+"";return function(){var l=this.getAttributeNS(t.space,t.local);return l===o?null:l===a?c:c=e(a=l,i)}}function Tm(t,e,i){var a,o,c;return function(){var l,h,f=i(this);return null==f?void this.removeAttribute(t):(l=this.getAttribute(t))===(h=f+"")?null:l===a&&h===o?c:(o=h,c=e(a=l,f))}}function Am(t,e,i){var a,o,c;return function(){var l,h,f=i(this);return null==f?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local))===(h=f+"")?null:l===a&&h===o?c:(o=h,c=e(a=l,f))}}function Lm(t,e){var i,a;function o(){var c=e.apply(this,arguments);return c!==a&&(i=(a=c)&&function Mm(t,e){return function(i){this.setAttributeNS(t.space,t.local,e.call(this,i))}}(t,c)),i}return o._value=e,o}function Om(t,e){var i,a;function o(){var c=e.apply(this,arguments);return c!==a&&(i=(a=c)&&function Pm(t,e){return function(i){this.setAttribute(t,e.call(this,i))}}(t,c)),i}return o._value=e,o}function km(t,e){return function(){Ds(this,t).delay=+e.apply(this,arguments)}}function Rm(t,e){return e=+e,function(){Ds(this,t).delay=e}}function Vm(t,e){return function(){An(this,t).duration=+e.apply(this,arguments)}}function $m(t,e){return e=+e,function(){An(this,t).duration=e}}var jm=Pi.prototype.constructor;function Wl(t){return function(){this.style.removeProperty(t)}}var dy=0;function yn(t,e,i,a){this._groups=t,this._parents=e,this._name=i,this._id=a}function ql(t){return Pi().transition(t)}function jl(){return++dy}var Vi=Pi.prototype;function gy(t){return t*t*t}function py(t){return--t*t*t+1}function Ys(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}yn.prototype=ql.prototype={constructor:yn,select:function Wm(t){var e=this._name,i=this._id;"function"!=typeof t&&(t=_a(t));for(var a=this._groups,o=a.length,c=new Array(o),l=0;l<o;++l)for(var p,m,f=a[l],h=f.length,d=c[l]=new Array(h),_=0;_<h;++_)(p=f[_])&&(m=t.call(p,p.__data__,_,f))&&("__data__"in p&&(m.__data__=p.__data__),d[_]=m,ka(d[_],e,i,_,d,nn(p,i)));return new yn(c,this._parents,e,i)},selectAll:function qm(t){var e=this._name,i=this._id;"function"!=typeof t&&(t=ms(t));for(var a=this._groups,o=a.length,c=[],l=[],f=0;f<o;++f)for(var p,h=a[f],d=h.length,m=0;m<d;++m)if(p=h[m]){for(var v,_=t.call(p,p.__data__,m,h),S=nn(p,i),b=0,A=_.length;b<A;++b)(v=_[b])&&ka(v,e,i,b,_,S);c.push(_),l.push(p)}return new yn(c,l,e,i)},filter:function Fm(t){"function"!=typeof t&&(t=ys(t));for(var e=this._groups,i=e.length,a=new Array(i),o=0;o<i;++o)for(var h,c=e[o],l=c.length,f=a[o]=[],d=0;d<l;++d)(h=c[d])&&t.call(h,h.__data__,d,c)&&f.push(h);return new yn(a,this._parents,this._name,this._id)},merge:function zm(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,i=t._groups,a=e.length,c=Math.min(a,i.length),l=new Array(a),f=0;f<c;++f)for(var _,h=e[f],d=i[f],p=h.length,m=l[f]=new Array(p),v=0;v<p;++v)(_=h[v]||d[v])&&(m[v]=_);for(;f<a;++f)l[f]=e[f];return new yn(l,this._parents,this._name,this._id)},selection:function Qm(){return new jm(this._groups,this._parents)},transition:function fy(){for(var t=this._name,e=this._id,i=jl(),a=this._groups,o=a.length,c=0;c<o;++c)for(var h,l=a[c],f=l.length,d=0;d<f;++d)if(h=l[d]){var p=nn(h,e);ka(h,t,i,d,l,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new yn(a,this._parents,t,i)},call:Vi.call,nodes:Vi.nodes,node:Vi.node,size:Vi.size,empty:Vi.empty,each:Vi.each,on:function Xm(t,e){var i=this._id;return arguments.length<2?nn(this.node(),i).on.on(t):this.each(function Bm(t,e,i){var a,o,c=function Ym(t){return(t+"").trim().split(/^|\s+/).every(function(e){var i=e.indexOf(".");return i>=0&&(e=e.slice(0,i)),!e||"start"===e})}(e)?Ds:An;return function(){var l=c(this,t),f=l.on;f!==a&&(o=(a=f).copy()).on(e,i),l.on=o}}(i,t,e))},attr:function Cm(t,e){var i=cr(t),a="transform"===i?Hl:Ul;return this.attrTween(t,"function"==typeof e?(i.local?Am:Tm)(i,a,zs(this,"attr."+t,e)):null==e?(i.local?bm:vm)(i):(i.local?Sm:wm)(i,a,e))},attrTween:function Em(t,e){var i="attr."+t;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;var a=cr(t);return this.tween(i,(a.local?Lm:Om)(a,e))},style:function ey(t,e,i){var a="transform"==(t+="")?Xl:Ul;return null==e?this.styleTween(t,function Zm(t,e){var i,a,o;return function(){var c=Zn(this,t),l=(this.style.removeProperty(t),Zn(this,t));return c===l?null:c===i&&l===a?o:o=e(i=c,a=l)}}(t,a)).on("end.style."+t,Wl(t)):"function"==typeof e?this.styleTween(t,function Jm(t,e,i){var a,o,c;return function(){var l=Zn(this,t),f=i(this),h=f+"";return null==f&&(this.style.removeProperty(t),h=f=Zn(this,t)),l===h?null:l===a&&h===o?c:(o=h,c=e(a=l,f))}}(t,a,zs(this,"style."+t,e))).each(function ty(t,e){var i,a,o,f,c="style."+e,l="end."+c;return function(){var h=An(this,t),d=h.on,p=null==h.value[c]?f||(f=Wl(e)):void 0;(d!==i||o!==p)&&(a=(i=d).copy()).on(l,o=p),h.on=a}}(this._id,t)):this.styleTween(t,function Km(t,e,i){var a,c,o=i+"";return function(){var l=Zn(this,t);return l===o?null:l===a?c:c=e(a=l,i)}}(t,a,e),i).on("end.style."+t,null)},styleTween:function ry(t,e,i){var a="style."+(t+="");if(arguments.length<2)return(a=this.tween(a))&&a._value;if(null==e)return this.tween(a,null);if("function"!=typeof e)throw new Error;return this.tween(a,function iy(t,e,i){var a,o;function c(){var l=e.apply(this,arguments);return l!==o&&(a=(o=l)&&function ny(t,e,i){return function(a){this.style.setProperty(t,e.call(this,a),i)}}(t,l,i)),a}return c._value=e,c}(t,e,i??""))},text:function sy(t){return this.tween("text","function"==typeof t?function oy(t){return function(){var e=t(this);this.textContent=e??""}}(zs(this,"text",t)):function ay(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function ly(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,function uy(t){var e,i;function a(){var o=t.apply(this,arguments);return o!==i&&(e=(i=o)&&function cy(t){return function(e){this.textContent=t.call(this,e)}}(o)),e}return a._value=t,a}(t))},remove:function Um(){return this.on("end.remove",function Hm(t){return function(){var e=this.parentNode;for(var i in this.__transition)if(+i!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function xm(t,e){var i=this._id;if(t+="",arguments.length<2){for(var l,a=nn(this.node(),i).tween,o=0,c=a.length;o<c;++o)if((l=a[o]).name===t)return l.value;return null}return this.each((null==e?mm:ym)(i,t,e))},delay:function Gm(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?km:Rm)(e,t)):nn(this.node(),e).delay},duration:function Nm(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Vm:$m)(e,t)):nn(this.node(),e).duration},ease:function Im(t){var e=this._id;return arguments.length?this.each(function Dm(t,e){if("function"!=typeof e)throw new Error;return function(){An(this,t).ease=e}}(e,t)):nn(this.node(),e).ease},end:function hy(){var t,e,i=this,a=i._id,o=i.size();return new Promise(function(c,l){var f={value:l},h={value:function(){0==--o&&c()}};i.each(function(){var d=An(this,a),p=d.on;p!==t&&((e=(t=p).copy())._.cancel.push(f),e._.interrupt.push(f),e._.end.push(h)),d.on=e})})}};var Bs={time:null,delay:0,duration:250,ease:Ys};function _y(t,e){for(var i;!(i=t.__transition)||!(i=i[e]);)if(!(t=t.parentNode))return Bs.time=Gi(),Bs;return i}Pi.prototype.interrupt=function gm(t){return this.each(function(){ei(this,t)})},Pi.prototype.transition=function my(t){var e,i;t instanceof yn?(e=t._id,t=t._name):(e=jl(),(i=Bs).time=Gi(),t=null==t?null:t+"");for(var a=this._groups,o=a.length,c=0;c<o;++c)for(var h,l=a[c],f=l.length,d=0;d<f;++d)(h=l[d])&&ka(h,t,e,d,l,i||_y(h,e));return new yn(a,this._parents,t,e)};var yy=[null];function xy(t,e){var a,o,i=t.__transition;if(i)for(o in e=null==e?null:e+"",i)if((a=i[o]).state>Vs&&a.name===e)return new yn([[t]],yy,e,+o);return null}function Xs(t){return function(){return t}}function vy(t,e,i){this.target=t,this.type=e,this.selection=i}function Ql(){rt.stopImmediatePropagation()}function Hs(){rt.preventDefault(),rt.stopImmediatePropagation()}var Zl={name:"drag"},Us={name:"space"},$i={name:"handle"},Ni={name:"center"};function Kl(t){return[+t[0],+t[1]]}function Ws(t){return[Kl(t[0]),Kl(t[1])]}var Ga={name:"x",handles:["w","e"].map(br),input:function(t,e){return null==t?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Va={name:"y",handles:["n","s"].map(br),input:function(t,e){return null==t?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},wy={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(br),input:function(t){return null==t?null:Ws(t)},output:function(t){return t}},Cn={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Jl={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},tf={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Sy={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Ty={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function br(t){return{type:t}}function Ay(){return!rt.ctrlKey&&!rt.button}function Cy(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Py(){return navigator.maxTouchPoints||"ontouchstart"in this}function qs(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Ly(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function Oy(){return js(Ga)}function Ey(){return js(Va)}function ky(){return js(wy)}function js(t){var f,e=Cy,i=Ay,a=Py,o=!0,c=Gn("start","brush","end"),l=6;function h(A){var C=A.property("__brush",b).selectAll(".overlay").data([br("overlay")]);C.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Cn.overlay).merge(C).each(function(){var M=qs(this).extent;$e(this).attr("x",M[0][0]).attr("y",M[0][1]).attr("width",M[1][0]-M[0][0]).attr("height",M[1][1]-M[0][1])}),A.selectAll(".selection").data([br("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Cn.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var k=A.selectAll(".handle").data(t.handles,function(M){return M.type});k.exit().remove(),k.enter().append("rect").attr("class",function(M){return"handle handle--"+M.type}).attr("cursor",function(M){return Cn[M.type]}),A.each(d).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",_).filter(a).on("touchstart.brush",_).on("touchmove.brush",v).on("touchend.brush touchcancel.brush",S).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(){var A=$e(this),C=qs(this).selection;C?(A.selectAll(".selection").style("display",null).attr("x",C[0][0]).attr("y",C[0][1]).attr("width",C[1][0]-C[0][0]).attr("height",C[1][1]-C[0][1]),A.selectAll(".handle").style("display",null).attr("x",function(k){return"e"===k.type[k.type.length-1]?C[1][0]-l/2:C[0][0]-l/2}).attr("y",function(k){return"s"===k.type[0]?C[1][1]-l/2:C[0][1]-l/2}).attr("width",function(k){return"n"===k.type||"s"===k.type?C[1][0]-C[0][0]+l:l}).attr("height",function(k){return"e"===k.type||"w"===k.type?C[1][1]-C[0][1]+l:l})):A.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function p(A,C,k){var M=A.__brush.emitter;return!M||k&&M.clean?new m(A,C,k):M}function m(A,C,k){this.that=A,this.args=C,this.state=A.__brush,this.active=0,this.clean=k}function _(){if((!f||rt.touches)&&i.apply(this,arguments)){var H,U,R,F,D,j,at,lt,Xt,Gt,ee,A=this,C=rt.target.__data__.type,k="selection"===(o&&rt.metaKey?C="overlay":C)?Zl:o&&rt.altKey?Ni:$i,M=t===Va?null:Sy[C],E=t===Ga?null:Ty[C],$=qs(A),I=$.extent,N=$.selection,W=I[0][0],B=I[0][1],Q=I[1][0],ct=I[1][1],bt=0,wt=0,It=M&&E&&o&&rt.shiftKey,Ke=rt.touches?function by(t){return function(e){return gr(e,rt.touches,t)}}(rt.changedTouches[0].identifier):Jn,ln=Ke(A),fn=ln,it=p(A,arguments,!0).beforestart();"overlay"===C?(N&&(Xt=!0),$.selection=N=[[H=t===Va?W:ln[0],R=t===Ga?B:ln[1]],[D=t===Va?Q:H,at=t===Ga?ct:R]]):(H=N[0][0],R=N[0][1],D=N[1][0],at=N[1][1]),U=H,F=R,j=D,lt=at;var Tt=$e(A).attr("pointer-events","none"),Ot=Tt.selectAll(".overlay").attr("cursor",Cn[C]);if(rt.touches)it.moved=me,it.ended=we;else{var K=$e(rt.view).on("mousemove.brush",me,!0).on("mouseup.brush",we,!0);o&&K.on("keydown.brush",function Re(){switch(rt.keyCode){case 16:It=M&&E;break;case 18:k===$i&&(M&&(D=j-bt*M,H=U+bt*M),E&&(at=lt-wt*E,R=F+wt*E),k=Ni,Vt());break;case 32:(k===$i||k===Ni)&&(M<0?D=j-bt:M>0&&(H=U-bt),E<0?at=lt-wt:E>0&&(R=F-wt),k=Us,Ot.attr("cursor",Cn.selection),Vt());break;default:return}Hs()},!0).on("keyup.brush",function kn(){switch(rt.keyCode){case 16:It&&(Gt=ee=It=!1,Vt());break;case 18:k===Ni&&(M<0?D=j:M>0&&(H=U),E<0?at=lt:E>0&&(R=F),k=$i,Vt());break;case 32:k===Us&&(rt.altKey?(M&&(D=j-bt*M,H=U+bt*M),E&&(at=lt-wt*E,R=F+wt*E),k=Ni):(M<0?D=j:M>0&&(H=U),E<0?at=lt:E>0&&(R=F),k=$i),Ot.attr("cursor",Cn[C]),Vt());break;default:return}Hs()},!0),xa(rt.view)}Ql(),ei(A),d.call(A),it.start()}function me(){var Ge=Ke(A);It&&!Gt&&!ee&&(Math.abs(Ge[0]-fn[0])>Math.abs(Ge[1]-fn[1])?ee=!0:Gt=!0),fn=Ge,Xt=!0,Hs(),Vt()}function Vt(){var Ge;switch(bt=fn[0]-ln[0],wt=fn[1]-ln[1],k){case Us:case Zl:M&&(bt=Math.max(W-H,Math.min(Q-D,bt)),U=H+bt,j=D+bt),E&&(wt=Math.max(B-R,Math.min(ct-at,wt)),F=R+wt,lt=at+wt);break;case $i:M<0?(bt=Math.max(W-H,Math.min(Q-H,bt)),U=H+bt,j=D):M>0&&(bt=Math.max(W-D,Math.min(Q-D,bt)),U=H,j=D+bt),E<0?(wt=Math.max(B-R,Math.min(ct-R,wt)),F=R+wt,lt=at):E>0&&(wt=Math.max(B-at,Math.min(ct-at,wt)),F=R,lt=at+wt);break;case Ni:M&&(U=Math.max(W,Math.min(Q,H-bt*M)),j=Math.max(W,Math.min(Q,D+bt*M))),E&&(F=Math.max(B,Math.min(ct,R-wt*E)),lt=Math.max(B,Math.min(ct,at+wt*E)))}j<U&&(M*=-1,Ge=H,H=D,D=Ge,Ge=U,U=j,j=Ge,C in Jl&&Ot.attr("cursor",Cn[C=Jl[C]])),lt<F&&(E*=-1,Ge=R,R=at,at=Ge,Ge=F,F=lt,lt=Ge,C in tf&&Ot.attr("cursor",Cn[C=tf[C]])),$.selection&&(N=$.selection),Gt&&(U=N[0][0],j=N[1][0]),ee&&(F=N[0][1],lt=N[1][1]),(N[0][0]!==U||N[0][1]!==F||N[1][0]!==j||N[1][1]!==lt)&&($.selection=[[U,F],[j,lt]],d.call(A),it.brush())}function we(){if(Ql(),rt.touches){if(rt.touches.length)return;f&&clearTimeout(f),f=setTimeout(function(){f=null},500)}else va(rt.view,Xt),K.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);Tt.attr("pointer-events","all"),Ot.attr("cursor",Cn.overlay),$.selection&&(N=$.selection),function My(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}(N)&&($.selection=null,d.call(A)),it.end()}}function v(){p(this,arguments).moved()}function S(){p(this,arguments).ended()}function b(){var A=this.__brush||{selection:null};return A.extent=Ws(e.apply(this,arguments)),A.dim=t,A}return h.move=function(A,C){A.selection?A.on("start.brush",function(){p(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){p(this,arguments).end()}).tween("brush",function(){var k=this,M=k.__brush,E=p(k,arguments),$=M.selection,I=t.input("function"==typeof C?C.apply(this,arguments):C,M.extent),N=dr($,I);function W(H){M.selection=1===H&&null===I?null:N(H),d.call(k),E.brush()}return null!==$&&null!==I?W:W(1)}):A.each(function(){var k=this,M=arguments,E=k.__brush,$=t.input("function"==typeof C?C.apply(k,M):C,E.extent),I=p(k,M).beforestart();ei(k),E.selection=null===$?null:$,d.call(k),I.start().brush().end()})},h.clear=function(A){h.move(A,null)},m.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(A){ur(new vy(h,A,t.output(this.state.selection)),c.apply,c,[A,this.that,this.args])}},h.extent=function(A){return arguments.length?(e="function"==typeof A?A:Xs(Ws(A)),h):e},h.filter=function(A){return arguments.length?(i="function"==typeof A?A:Xs(!!A),h):i},h.touchable=function(A){return arguments.length?(a="function"==typeof A?A:Xs(!!A),h):a},h.handleSize=function(A){return arguments.length?(l=+A,h):l},h.keyModifiers=function(A){return arguments.length?(o=!!A,h):o},h.on=function(){var A=c.on.apply(c,arguments);return A===c?h:A},h}var ef=Math.cos,nf=Math.sin,rf=Math.PI,$a=rf/2,af=2*rf,of=Math.max;function Gy(){var t=0,e=null,i=null,a=null;function o(c){var v,S,b,A,C,k,l=c.length,f=[],h=u(l),d=[],p=[],m=p.groups=new Array(l),_=new Array(l*l);for(v=0,C=-1;++C<l;){for(S=0,k=-1;++k<l;)S+=c[C][k];f.push(S),d.push(u(l)),v+=S}for(e&&h.sort(function(U,B){return e(f[U],f[B])}),i&&d.forEach(function(U,B){U.sort(function(R,F){return i(c[B][R],c[B][F])})}),A=(v=of(0,af-t*l)/v)?t:af/l,S=0,C=-1;++C<l;){for(b=S,k=-1;++k<l;){var M=h[C],E=d[M][k],$=c[M][E],I=S,N=S+=$*v;_[E*l+M]={index:M,subindex:E,startAngle:I,endAngle:N,value:$}}m[M]={index:M,startAngle:b,endAngle:S,value:f[M]},S+=A}for(C=-1;++C<l;)for(k=C-1;++k<l;){var W=_[k*l+C],H=_[C*l+k];(W.value||H.value)&&p.push(W.value<H.value?{source:H,target:W}:{source:W,target:H})}return a?p.sort(a):p}return o.padAngle=function(c){return arguments.length?(t=of(0,c),o):t},o.sortGroups=function(c){return arguments.length?(e=c,o):e},o.sortSubgroups=function(c){return arguments.length?(i=c,o):i},o.sortChords=function(c){return arguments.length?(null==c?a=null:(a=function Ry(t){return function(e,i){return t(e.source.value+e.target.value,i.source.value+i.target.value)}}(c))._=c,o):a&&a._},o}var Vy=Array.prototype.slice;function Qs(t){return function(){return t}}var Zs=Math.PI,Ks=2*Zs,ni=1e-6,$y=Ks-ni;function Js(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function sf(){return new Js}Js.prototype=sf.prototype={constructor:Js,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,i,a){this._+="Q"+ +t+","+ +e+","+(this._x1=+i)+","+(this._y1=+a)},bezierCurveTo:function(t,e,i,a,o,c){this._+="C"+ +t+","+ +e+","+ +i+","+ +a+","+(this._x1=+o)+","+(this._y1=+c)},arcTo:function(t,e,i,a,o){var c=this._x1,l=this._y1,f=(i=+i)-(t=+t),h=(a=+a)-(e=+e),d=c-t,p=l-e,m=d*d+p*p;if((o=+o)<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(m>ni)if(Math.abs(p*f-h*d)>ni&&o){var _=i-c,v=a-l,S=f*f+h*h,b=_*_+v*v,A=Math.sqrt(S),C=Math.sqrt(m),k=o*Math.tan((Zs-Math.acos((S+m-b)/(2*A*C)))/2),M=k/C,E=k/A;Math.abs(M-1)>ni&&(this._+="L"+(t+M*d)+","+(e+M*p)),this._+="A"+o+","+o+",0,0,"+ +(p*_>d*v)+","+(this._x1=t+E*f)+","+(this._y1=e+E*h)}else this._+="L"+(this._x1=t)+","+(this._y1=e)},arc:function(t,e,i,a,o,c){t=+t,e=+e,c=!!c;var l=(i=+i)*Math.cos(a),f=i*Math.sin(a),h=t+l,d=e+f,p=1^c,m=c?a-o:o-a;if(i<0)throw new Error("negative radius: "+i);null===this._x1?this._+="M"+h+","+d:(Math.abs(this._x1-h)>ni||Math.abs(this._y1-d)>ni)&&(this._+="L"+h+","+d),i&&(m<0&&(m=m%Ks+Ks),m>$y?this._+="A"+i+","+i+",0,1,"+p+","+(t-l)+","+(e-f)+"A"+i+","+i+",0,1,"+p+","+(this._x1=h)+","+(this._y1=d):m>ni&&(this._+="A"+i+","+i+",0,"+ +(m>=Zs)+","+p+","+(this._x1=t+i*Math.cos(o))+","+(this._y1=e+i*Math.sin(o))))},rect:function(t,e,i,a){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +i+"v"+ +a+"h"+-i+"Z"},toString:function(){return this._}};const ii=sf;function Ny(t){return t.source}function Dy(t){return t.target}function Iy(t){return t.radius}function Fy(t){return t.startAngle}function zy(t){return t.endAngle}function Yy(){var t=Ny,e=Dy,i=Iy,a=Fy,o=zy,c=null;function l(){var f,h=Vy.call(arguments),d=t.apply(this,h),p=e.apply(this,h),m=+i.apply(this,(h[0]=d,h)),_=a.apply(this,h)-$a,v=o.apply(this,h)-$a,S=m*ef(_),b=m*nf(_),A=+i.apply(this,(h[0]=p,h)),C=a.apply(this,h)-$a,k=o.apply(this,h)-$a;if(c||(c=f=ii()),c.moveTo(S,b),c.arc(0,0,m,_,v),(_!==C||v!==k)&&(c.quadraticCurveTo(0,0,A*ef(C),A*nf(C)),c.arc(0,0,A,C,k)),c.quadraticCurveTo(0,0,S,b),c.closePath(),f)return c=null,f+""||null}return l.radius=function(f){return arguments.length?(i="function"==typeof f?f:Qs(+f),l):i},l.startAngle=function(f){return arguments.length?(a="function"==typeof f?f:Qs(+f),l):a},l.endAngle=function(f){return arguments.length?(o="function"==typeof f?f:Qs(+f),l):o},l.source=function(f){return arguments.length?(t=f,l):t},l.target=function(f){return arguments.length?(e=f,l):e},l.context=function(f){return arguments.length?(c=f??null,l):c},l}var qe="$";function Na(){}function cf(t,e){var i=new Na;if(t instanceof Na)t.each(function(f,h){i.set(h,f)});else if(Array.isArray(t)){var c,a=-1,o=t.length;if(null==e)for(;++a<o;)i.set(a,t[a]);else for(;++a<o;)i.set(e(c=t[a],a,t),c)}else if(t)for(var l in t)i.set(l,t[l]);return i}Na.prototype=cf.prototype={constructor:Na,has:function(t){return qe+t in this},get:function(t){return this[qe+t]},set:function(t,e){return this[qe+t]=e,this},remove:function(t){var e=qe+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===qe&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===qe&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===qe&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===qe&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===qe&&++t;return t},empty:function(){for(var t in this)if(t[0]===qe)return!1;return!0},each:function(t){for(var e in this)e[0]===qe&&t(this[e],e.slice(1),this)}};const Nn=cf;function By(){var i,a,o,t=[],e=[];function c(f,h,d,p){if(h>=t.length)return null!=i&&f.sort(i),null!=a?a(f):f;for(var S,b,C,m=-1,_=f.length,v=t[h++],A=Nn(),k=d();++m<_;)(C=A.get(S=v(b=f[m])+""))?C.push(b):A.set(S,[b]);return A.each(function(M,E){p(k,E,c(M,h,d,p))}),k}function l(f,h){if(++h>t.length)return f;var d,p=e[h-1];return null!=a&&h>=t.length?d=f.entries():(d=[],f.each(function(m,_){d.push({key:_,values:l(m,h)})})),null!=p?d.sort(function(m,_){return p(m.key,_.key)}):d}return o={object:function(f){return c(f,0,Xy,Hy)},map:function(f){return c(f,0,uf,lf)},entries:function(f){return l(c(f,0,uf,lf),0)},key:function(f){return t.push(f),o},sortKeys:function(f){return e[t.length-1]=f,o},sortValues:function(f){return i=f,o},rollup:function(f){return a=f,o}}}function Xy(){return{}}function Hy(t,e,i){t[e]=i}function uf(){return Nn()}function lf(t,e,i){t.set(e,i)}function Da(){}var ri=Nn.prototype;function ff(t,e){var i=new Da;if(t instanceof Da)t.each(function(c){i.add(c)});else if(t){var a=-1,o=t.length;if(null==e)for(;++a<o;)i.add(t[a]);else for(;++a<o;)i.add(e(t[a],a,t))}return i}Da.prototype=ff.prototype={constructor:Da,has:ri.has,add:function(t){return this[qe+(t+="")]=t,this},remove:ri.remove,clear:ri.clear,values:ri.keys,size:ri.size,empty:ri.empty,each:ri.each};const Uy=ff;function Wy(t){var e=[];for(var i in t)e.push(i);return e}function qy(t){var e=[];for(var i in t)e.push(t[i]);return e}function jy(t){var e=[];for(var i in t)e.push({key:i,value:t[i]});return e}var hf=Math.PI/180,df=180/Math.PI,gf=.96422,pf=1,_f=.82521,mf=4/29,Di=6/29,yf=3*Di*Di,Qy=Di*Di*Di;function xf(t){if(t instanceof rn)return new rn(t.l,t.a,t.b,t.opacity);if(t instanceof xn)return bf(t);t instanceof pe||(t=As(t));var c,l,e=ic(t.r),i=ic(t.g),a=ic(t.b),o=tc((.2225045*e+.7168786*i+.0606169*a)/pf);return e===i&&i===a?c=l=o:(c=tc((.4360747*e+.3850649*i+.1430804*a)/gf),l=tc((.0139322*e+.0971045*i+.7141733*a)/_f)),new rn(116*o-16,500*(c-o),200*(o-l),t.opacity)}function Zy(t,e){return new rn(t,0,0,e??1)}function Fa(t,e,i,a){return 1===arguments.length?xf(t):new rn(t,e,i,a??1)}function rn(t,e,i,a){this.l=+t,this.a=+e,this.b=+i,this.opacity=+a}function tc(t){return t>Qy?Math.pow(t,1/3):t/yf+mf}function ec(t){return t>Di?t*t*t:yf*(t-mf)}function nc(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function ic(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function vf(t){if(t instanceof xn)return new xn(t.h,t.c,t.l,t.opacity);if(t instanceof rn||(t=xf(t)),0===t.a&&0===t.b)return new xn(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*df;return new xn(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Ky(t,e,i,a){return 1===arguments.length?vf(t):new xn(i,e,t,a??1)}function za(t,e,i,a){return 1===arguments.length?vf(t):new xn(t,e,i,a??1)}function xn(t,e,i,a){this.h=+t,this.c=+e,this.l=+i,this.opacity=+a}function bf(t){if(isNaN(t.h))return new rn(t.l,0,0,t.opacity);var e=t.h*hf;return new rn(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Li(rn,Fa,lr(Vn,{brighter:function(t){return new rn(this.l+18*(t??1),this.a,this.b,this.opacity)},darker:function(t){return new rn(this.l-18*(t??1),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,i=isNaN(this.b)?t:t-this.b/200;return new pe(nc(3.1338561*(e=gf*ec(e))-1.6168667*(t=pf*ec(t))-.4906146*(i=_f*ec(i))),nc(-.9787684*e+1.9161415*t+.033454*i),nc(.0719453*e-.2289914*t+1.4052427*i),this.opacity)}})),Li(xn,za,lr(Vn,{brighter:function(t){return new xn(this.h,this.c,this.l+18*(t??1),this.opacity)},darker:function(t){return new xn(this.h,this.c,this.l-18*(t??1),this.opacity)},rgb:function(){return bf(this).rgb()}}));var rc=1.78277,ac=-.29227,Ya=-.90649,wr=1.97294,Sf=wr*Ya,Tf=wr*rc,Af=rc*ac- -.14861*Ya;function an(t,e,i,a){return 1===arguments.length?function Jy(t){if(t instanceof ai)return new ai(t.h,t.s,t.l,t.opacity);t instanceof pe||(t=As(t));var i=t.g/255,a=t.b/255,o=(Af*a+Sf*(t.r/255)-Tf*i)/(Af+Sf-Tf),c=a-o,l=(wr*(i-o)-ac*c)/Ya,f=Math.sqrt(l*l+c*c)/(wr*o*(1-o)),h=f?Math.atan2(l,c)*df-120:NaN;return new ai(h<0?h+360:h,f,o,t.opacity)}(t):new ai(t,e,i,a??1)}function ai(t,e,i,a){this.h=+t,this.s=+e,this.l=+i,this.opacity=+a}Li(ai,an,lr(Vn,{brighter:function(t){return t=null==t?Oi:Math.pow(Oi,t),new ai(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new ai(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*hf,e=+this.l,i=isNaN(this.s)?0:this.s*e*(1-e),a=Math.cos(t),o=Math.sin(t);return new pe(255*(e+i*(-.14861*a+rc*o)),255*(e+i*(ac*a+Ya*o)),255*(e+i*(wr*a)),this.opacity)}}));var Cf=Array.prototype.slice;function ex(t,e){return t-e}function Dn(t){return function(){return t}}function ix(t,e){for(var o,i=-1,a=e.length;++i<a;)if(o=rx(t,e[i]))return o;return 0}function rx(t,e){for(var i=e[0],a=e[1],o=-1,c=0,l=t.length,f=l-1;c<l;f=c++){var h=t[c],d=h[0],p=h[1],m=t[f],_=m[0],v=m[1];if(ax(h,m,e))return 0;p>a!=v>a&&i<(_-d)*(a-p)/(v-p)+d&&(o=-o)}return o}function ax(t,e,i){var a;return function ox(t,e,i){return(e[0]-t[0])*(i[1]-t[1])==(i[0]-t[0])*(e[1]-t[1])}(t,e,i)&&function sx(t,e,i){return t<=e&&e<=i||i<=e&&e<=t}(t[a=+(t[0]===e[0])],i[a],e[a])}function cx(){}var Pn=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Pf(){var t=1,e=1,i=V,a=h;function o(d){var p=i(d);if(Array.isArray(p))p=p.slice().sort(ex);else{var m=Fe(d),_=m[0],v=m[1];p=P(_,v,p),p=u(Math.floor(_/p)*p,Math.floor(v/p)*p,p)}return p.map(function(S){return c(d,S)})}function c(d,p){var m=[],_=[];return function l(d,p,m){var S,b,C,k,M,_=new Array,v=new Array;for(S=b=-1,Pn[(C=d[0]>=p)<<1].forEach(E);++S<t-1;)Pn[C|(C=d[S+1]>=p)<<1].forEach(E);for(Pn[C<<0].forEach(E);++b<e-1;){for(S=-1,Pn[(C=d[b*t+t]>=p)<<1|(k=d[b*t]>=p)<<2].forEach(E);++S<t-1;)M=k,Pn[C|(C=d[b*t+t+S+1]>=p)<<1|(k=d[b*t+S+1]>=p)<<2|M<<3].forEach(E);Pn[C|k<<3].forEach(E)}for(S=-1,Pn[(k=d[b*t]>=p)<<2].forEach(E);++S<t-1;)M=k,Pn[(k=d[b*t+S+1]>=p)<<2|M<<3].forEach(E);function E($){var U,B,I=[$[0][0]+S,$[0][1]+b],N=[$[1][0]+S,$[1][1]+b],W=f(I),H=f(N);(U=v[W])?(B=_[H])?(delete v[U.end],delete _[B.start],U===B?(U.ring.push(N),m(U.ring)):_[U.start]=v[B.end]={start:U.start,end:B.end,ring:U.ring.concat(B.ring)}):(delete v[U.end],U.ring.push(N),v[U.end=H]=U):(U=_[H])?(B=v[W])?(delete _[U.start],delete v[B.end],U===B?(U.ring.push(N),m(U.ring)):_[B.start]=v[U.end]={start:B.start,end:U.end,ring:B.ring.concat(U.ring)}):(delete _[U.start],U.ring.unshift(I),_[U.start=W]=U):_[W]=v[H]={start:W,end:H,ring:[I,N]}}Pn[k<<3].forEach(E)}(d,p,function(v){a(v,d,p),function nx(t){for(var e=0,i=t.length,a=t[i-1][1]*t[0][0]-t[i-1][0]*t[0][1];++e<i;)a+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return a}(v)>0?m.push([v]):_.push(v)}),_.forEach(function(v){for(var A,S=0,b=m.length;S<b;++S)if(-1!==ix((A=m[S])[0],v))return void A.push(v)}),{type:"MultiPolygon",value:p,coordinates:m}}function f(d){return 2*d[0]+d[1]*(t+1)*4}function h(d,p,m){d.forEach(function(_){var C,v=_[0],S=_[1],b=0|v,A=0|S,k=p[A*t+b];v>0&&v<t&&b===v&&(_[0]=v+(m-(C=p[A*t+b-1]))/(k-C)-.5),S>0&&S<e&&A===S&&(_[1]=S+(m-(C=p[(A-1)*t+b]))/(k-C)-.5)})}return o.contour=c,o.size=function(d){if(!arguments.length)return[t,e];var p=Math.ceil(d[0]),m=Math.ceil(d[1]);if(!(p>0&&m>0))throw new Error("invalid size");return t=p,e=m,o},o.thresholds=function(d){return arguments.length?(i="function"==typeof d?d:Array.isArray(d)?Dn(Cf.call(d)):Dn(d),o):i},o.smooth=function(d){return arguments.length?(a=d?h:cx,o):a===h},o}function oc(t,e,i){for(var a=t.width,o=t.height,c=1+(i<<1),l=0;l<o;++l)for(var f=0,h=0;f<a+i;++f)f<a&&(h+=t.data[f+l*a]),f>=i&&(f>=c&&(h-=t.data[f-c+l*a]),e.data[f-i+l*a]=h/Math.min(f+1,a-1+c-f,c))}function sc(t,e,i){for(var a=t.width,o=t.height,c=1+(i<<1),l=0;l<a;++l)for(var f=0,h=0;f<o+i;++f)f<o&&(h+=t.data[l+f*a]),f>=i&&(f>=c&&(h-=t.data[l+(f-c)*a]),e.data[l+(f-i)*a]=h/Math.min(f+1,o-1+c-f,c))}function ux(t){return t[0]}function lx(t){return t[1]}function fx(){return 1}function hx(){var t=ux,e=lx,i=fx,a=960,o=500,c=20,l=2,f=3*c,h=a+2*f>>l,d=o+2*f>>l,p=Dn(20);function m(C){var k=new Float32Array(h*d),M=new Float32Array(h*d);C.forEach(function(I,N,W){var H=+t(I,N,W)+f>>l,U=+e(I,N,W)+f>>l,B=+i(I,N,W);H>=0&&H<h&&U>=0&&U<d&&(k[H+U*h]+=B)}),oc({width:h,height:d,data:k},{width:h,height:d,data:M},c>>l),sc({width:h,height:d,data:M},{width:h,height:d,data:k},c>>l),oc({width:h,height:d,data:k},{width:h,height:d,data:M},c>>l),sc({width:h,height:d,data:M},{width:h,height:d,data:k},c>>l),oc({width:h,height:d,data:k},{width:h,height:d,data:M},c>>l),sc({width:h,height:d,data:M},{width:h,height:d,data:k},c>>l);var E=p(k);if(!Array.isArray(E)){var $=q(k);E=P(0,$,E),(E=u(0,Math.floor($/E)*E,E)).shift()}return Pf().thresholds(E).size([h,d])(k).map(_)}function _(C){return C.value*=Math.pow(2,-2*l),C.coordinates.forEach(v),C}function v(C){C.forEach(S)}function S(C){C.forEach(b)}function b(C){C[0]=C[0]*Math.pow(2,l)-f,C[1]=C[1]*Math.pow(2,l)-f}function A(){return h=a+2*(f=3*c)>>l,d=o+2*f>>l,m}return m.x=function(C){return arguments.length?(t="function"==typeof C?C:Dn(+C),m):t},m.y=function(C){return arguments.length?(e="function"==typeof C?C:Dn(+C),m):e},m.weight=function(C){return arguments.length?(i="function"==typeof C?C:Dn(+C),m):i},m.size=function(C){if(!arguments.length)return[a,o];var k=Math.ceil(C[0]),M=Math.ceil(C[1]);if(!(k>=0||k>=0))throw new Error("invalid size");return a=k,o=M,A()},m.cellSize=function(C){if(!arguments.length)return 1<<l;if(!((C=+C)>=1))throw new Error("invalid cell size");return l=Math.floor(Math.log(C)/Math.LN2),A()},m.thresholds=function(C){return arguments.length?(p="function"==typeof C?C:Array.isArray(C)?Dn(Cf.call(C)):Dn(C),m):p},m.bandwidth=function(C){if(!arguments.length)return Math.sqrt(c*(c+1));if(!((C=+C)>=0))throw new Error("invalid bandwidth");return c=Math.round((Math.sqrt(4*C*C+1)-1)/2),A()},m}function Ba(t){return function(){return t}}function cc(t,e,i,a,o,c,l,f,h,d){this.target=t,this.type=e,this.subject=i,this.identifier=a,this.active=o,this.x=c,this.y=l,this.dx=f,this.dy=h,this._=d}function dx(){return!rt.ctrlKey&&!rt.button}function gx(){return this.parentNode}function px(t){return t??{x:rt.x,y:rt.y}}function _x(){return navigator.maxTouchPoints||"ontouchstart"in this}function mx(){var f,h,d,p,t=dx,e=gx,i=px,a=_x,o={},c=Gn("start","drag","end"),l=0,m=0;function _(E){E.on("mousedown.drag",v).filter(a).on("touchstart.drag",A).on("touchmove.drag",C).on("touchend.drag touchcancel.drag",k).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(){if(!p&&t.apply(this,arguments)){var E=M("mouse",e.apply(this,arguments),Jn,this,arguments);E&&($e(rt.view).on("mousemove.drag",S,!0).on("mouseup.drag",b,!0),xa(rt.view),Ts(),d=!1,f=rt.clientX,h=rt.clientY,E("start"))}}function S(){if(Mi(),!d){var E=rt.clientX-f,$=rt.clientY-h;d=E*E+$*$>m}o.mouse("drag")}function b(){$e(rt.view).on("mousemove.drag mouseup.drag",null),va(rt.view,d),Mi(),o.mouse("end")}function A(){if(t.apply(this,arguments)){var N,W,E=rt.changedTouches,$=e.apply(this,arguments),I=E.length;for(N=0;N<I;++N)(W=M(E[N].identifier,$,gr,this,arguments))&&(Ts(),W("start"))}}function C(){var I,N,E=rt.changedTouches,$=E.length;for(I=0;I<$;++I)(N=o[E[I].identifier])&&(Mi(),N("drag"))}function k(){var I,N,E=rt.changedTouches,$=E.length;for(p&&clearTimeout(p),p=setTimeout(function(){p=null},500),I=0;I<$;++I)(N=o[E[I].identifier])&&(Ts(),N("end"))}function M(E,$,I,N,W){var U,B,R,H=I($,E),F=c.copy();if(ur(new cc(_,"beforestart",U,E,l,H[0],H[1],0,0,F),function(){return null!=(rt.subject=U=i.apply(N,W))&&(B=U.x-H[0]||0,R=U.y-H[1]||0,!0)}))return function Q(D){var ct,j=H;switch(D){case"start":o[E]=Q,ct=l++;break;case"end":delete o[E],--l;case"drag":H=I($,E),ct=l}ur(new cc(_,D,U,E,ct,H[0]+B,H[1]+R,H[0]-j[0],H[1]-j[1],F),F.apply,F,[D,N,W])}}return _.filter=function(E){return arguments.length?(t="function"==typeof E?E:Ba(!!E),_):t},_.container=function(E){return arguments.length?(e="function"==typeof E?E:Ba(E),_):e},_.subject=function(E){return arguments.length?(i="function"==typeof E?E:Ba(E),_):i},_.touchable=function(E){return arguments.length?(a="function"==typeof E?E:Ba(!!E),_):a},_.on=function(){var E=c.on.apply(c,arguments);return E===c?_:E},_.clickDistance=function(E){return arguments.length?(m=(E=+E)*E,_):Math.sqrt(m)},_}cc.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Mf={},uc={},lc=34,Sr=10,fc=13;function Lf(t){return new Function("d","return {"+t.map(function(e,i){return JSON.stringify(e)+": d["+i+'] || ""'}).join(",")+"}")}function Of(t){var e=Object.create(null),i=[];return t.forEach(function(a){for(var o in a)o in e||i.push(e[o]=o)}),i}function Ne(t,e){var i=t+"",a=i.length;return a<e?new Array(e-a+1).join(0)+i:i}function Xa(t){var e=new RegExp('["'+t+"\n\r]"),i=t.charCodeAt(0);function o(m,_){var C,v=[],S=m.length,b=0,A=0,k=S<=0,M=!1;function E(){if(k)return uc;if(M)return M=!1,Mf;var I,W,N=b;if(m.charCodeAt(N)===lc){for(;b++<S&&m.charCodeAt(b)!==lc||m.charCodeAt(++b)===lc;);return(I=b)>=S?k=!0:(W=m.charCodeAt(b++))===Sr?M=!0:W===fc&&(M=!0,m.charCodeAt(b)===Sr&&++b),m.slice(N+1,I-1).replace(/""/g,'"')}for(;b<S;){if((W=m.charCodeAt(I=b++))===Sr)M=!0;else if(W===fc)M=!0,m.charCodeAt(b)===Sr&&++b;else if(W!==i)continue;return m.slice(N,I)}return k=!0,m.slice(N,S)}for(m.charCodeAt(S-1)===Sr&&--S,m.charCodeAt(S-1)===fc&&--S;(C=E())!==uc;){for(var $=[];C!==Mf&&C!==uc;)$.push(C),C=E();_&&null==($=_($,A++))||v.push($)}return v}function c(m,_){return m.map(function(v){return _.map(function(S){return p(v[S])}).join(t)})}function d(m){return m.map(p).join(t)}function p(m){return null==m?"":m instanceof Date?function vx(t){var e=t.getUTCHours(),i=t.getUTCMinutes(),a=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":function xx(t){return t<0?"-"+Ne(-t,6):t>9999?"+"+Ne(t,6):Ne(t,4)}(t.getUTCFullYear())+"-"+Ne(t.getUTCMonth()+1,2)+"-"+Ne(t.getUTCDate(),2)+(o?"T"+Ne(e,2)+":"+Ne(i,2)+":"+Ne(a,2)+"."+Ne(o,3)+"Z":a?"T"+Ne(e,2)+":"+Ne(i,2)+":"+Ne(a,2)+"Z":i||e?"T"+Ne(e,2)+":"+Ne(i,2)+"Z":"")}(m):e.test(m+="")?'"'+m.replace(/"/g,'""')+'"':m}return{parse:function a(m,_){var v,S,b=o(m,function(A,C){if(v)return v(A,C-1);S=A,v=_?function yx(t,e){var i=Lf(t);return function(a,o){return e(i(a),o,t)}}(A,_):Lf(A)});return b.columns=S||[],b},parseRows:o,format:function l(m,_){return null==_&&(_=Of(m)),[_.map(p).join(t)].concat(c(m,_)).join("\n")},formatBody:function f(m,_){return null==_&&(_=Of(m)),c(m,_).join("\n")},formatRows:function h(m){return m.map(d).join("\n")},formatRow:d,formatValue:p}}var oi=Xa(","),Ef=oi.parse,bx=oi.parseRows,wx=oi.format,Sx=oi.formatBody,Tx=oi.formatRows,Ax=oi.formatRow,Cx=oi.formatValue,si=Xa("\t"),kf=si.parse,Px=si.parseRows,Mx=si.format,Lx=si.formatBody,Ox=si.formatRows,Ex=si.formatRow,kx=si.formatValue;function Rx(t){for(var e in t){var a,o,i=t[e].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(a=+i)){if(!(o=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;Gx&&o[4]&&!o[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i)}else i=a;else i=null;t[e]=i}return t}var Gx=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function Vx(t){return+t}function $x(t){return t*t}function Nx(t){return t*(2-t)}function Rf(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}var Dx=function t(e){function i(a){return Math.pow(a,e)}return e=+e,i.exponent=t,i}(3),Ix=function t(e){function i(a){return 1-Math.pow(1-a,e)}return e=+e,i.exponent=t,i}(3),Gf=function t(e){function i(a){return((a*=2)<=1?Math.pow(a,e):2-Math.pow(2-a,e))/2}return e=+e,i.exponent=t,i}(3),Vf=Math.PI,$f=Vf/2;function Fx(t){return 1==+t?1:1-Math.cos(t*$f)}function zx(t){return Math.sin(t*$f)}function Nf(t){return(1-Math.cos(Vf*t))/2}function In(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function Yx(t){return In(1-+t)}function Bx(t){return 1-In(t)}function Df(t){return((t*=2)<=1?In(1-t):2-In(t-1))/2}function Xx(t){return 1-Math.sqrt(1-t*t)}function Hx(t){return Math.sqrt(1- --t*t)}function If(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var dc=4/11,Ux=6/11,Wx=8/11,qx=3/4,jx=9/11,Qx=10/11,Zx=15/16,Kx=21/22,Jx=63/64,Ha=1/dc/dc;function t1(t){return 1-Tr(1-t)}function Tr(t){return(t=+t)<dc?Ha*t*t:t<Wx?Ha*(t-=Ux)*t+qx:t<Qx?Ha*(t-=jx)*t+Zx:Ha*(t-=Kx)*t+Jx}function e1(t){return((t*=2)<=1?1-Tr(1-t):Tr(t-1)+1)/2}var gc=1.70158,n1=function t(e){function i(a){return(a=+a)*a*(e*(a-1)+a)}return e=+e,i.overshoot=t,i}(gc),i1=function t(e){function i(a){return--a*a*((a+1)*e+a)+1}return e=+e,i.overshoot=t,i}(gc),Ff=function t(e){function i(a){return((a*=2)<1?a*a*((e+1)*a-e):(a-=2)*a*((e+1)*a+e)+2)/2}return e=+e,i.overshoot=t,i}(gc),Ii=2*Math.PI,r1=function t(e,i){var a=Math.asin(1/(e=Math.max(1,e)))*(i/=Ii);function o(c){return e*In(- --c)*Math.sin((a-c)/i)}return o.amplitude=function(c){return t(c,i*Ii)},o.period=function(c){return t(e,c)},o}(1,.3),zf=function t(e,i){var a=Math.asin(1/(e=Math.max(1,e)))*(i/=Ii);function o(c){return 1-e*In(c=+c)*Math.sin((c+a)/i)}return o.amplitude=function(c){return t(c,i*Ii)},o.period=function(c){return t(e,c)},o}(1,.3),a1=function t(e,i){var a=Math.asin(1/(e=Math.max(1,e)))*(i/=Ii);function o(c){return((c=2*c-1)<0?e*In(-c)*Math.sin((a-c)/i):2-e*In(c)*Math.sin((a+c)/i))/2}return o.amplitude=function(c){return t(c,i*Ii)},o.period=function(c){return t(e,c)},o}(1,.3);function o1(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function s1(t,e){return fetch(t,e).then(o1)}function c1(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function u1(t,e){return fetch(t,e).then(c1)}function l1(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Ua(t,e){return fetch(t,e).then(l1)}function Yf(t){return function(e,i,a){return 2===arguments.length&&"function"==typeof i&&(a=i,i=void 0),Ua(e,i).then(function(o){return t(o,a)})}}function f1(t,e,i,a){3===arguments.length&&"function"==typeof i&&(a=i,i=void 0);var o=Xa(t);return Ua(e,i).then(function(c){return o.parse(c,a)})}var h1=Yf(Ef),d1=Yf(kf);function g1(t,e){return new Promise(function(i,a){var o=new Image;for(var c in e)o[c]=e[c];o.onerror=a,o.onload=function(){i(o)},o.src=t})}function p1(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}function _1(t,e){return fetch(t,e).then(p1)}function mc(t){return function(e,i){return Ua(e,i).then(function(a){return(new DOMParser).parseFromString(a,t)})}}const m1=mc("application/xml");var y1=mc("text/html"),x1=mc("image/svg+xml");function v1(t,e){var i;function a(){var o,l,c=i.length,f=0,h=0;for(o=0;o<c;++o)f+=(l=i[o]).x,h+=l.y;for(f=f/c-t,h=h/c-e,o=0;o<c;++o)(l=i[o]).x-=f,l.y-=h}return null==t&&(t=0),null==e&&(e=0),a.initialize=function(o){i=o},a.x=function(o){return arguments.length?(t=+o,a):t},a.y=function(o){return arguments.length?(e=+o,a):e},a}function ue(t){return function(){return t}}function Fn(){return 1e-6*(Math.random()-.5)}function Bf(t,e,i,a){if(isNaN(e)||isNaN(i))return t;var o,m,_,v,S,b,A,C,k,c=t._root,l={data:a},f=t._x0,h=t._y0,d=t._x1,p=t._y1;if(!c)return t._root=l,t;for(;c.length;)if((b=e>=(m=(f+d)/2))?f=m:d=m,(A=i>=(_=(h+p)/2))?h=_:p=_,o=c,!(c=c[C=A<<1|b]))return o[C]=l,t;if(v=+t._x.call(null,c.data),S=+t._y.call(null,c.data),e===v&&i===S)return l.next=c,o?o[C]=l:t._root=l,t;do{o=o?o[C]=new Array(4):t._root=new Array(4),(b=e>=(m=(f+d)/2))?f=m:d=m,(A=i>=(_=(h+p)/2))?h=_:p=_}while((C=A<<1|b)==(k=(S>=_)<<1|v>=m));return o[k]=c,o[C]=l,t}function Ae(t,e,i,a,o){this.node=t,this.x0=e,this.y0=i,this.x1=a,this.y1=o}function R1(t){return t[0]}function V1(t){return t[1]}function Wa(t,e,i){var a=new yc(e??R1,i??V1,NaN,NaN,NaN,NaN);return null==t?a:a.addAll(t)}function yc(t,e,i,a,o,c){this._x=t,this._y=e,this._x0=i,this._y0=a,this._x1=o,this._y1=c,this._root=void 0}function Xf(t){for(var e={data:t.data},i=e;t=t.next;)i=i.next={data:t.data};return e}var Ce=Wa.prototype=yc.prototype;function N1(t){return t.x+t.vx}function D1(t){return t.y+t.vy}function I1(t){var e,i,a=1,o=1;function c(){for(var h,p,m,_,v,S,b,d=e.length,A=0;A<o;++A)for(p=Wa(e,N1,D1).visitAfter(l),h=0;h<d;++h)b=(S=i[(m=e[h]).index])*S,_=m.x+m.vx,v=m.y+m.vy,p.visit(C);function C(k,M,E,$,I){var N=k.data,W=k.r,H=S+W;if(!N)return M>_+H||$<_-H||E>v+H||I<v-H;if(N.index>m.index){var U=_-N.x-N.vx,B=v-N.y-N.vy,R=U*U+B*B;R<H*H&&(0===U&&(R+=(U=Fn())*U),0===B&&(R+=(B=Fn())*B),R=(H-(R=Math.sqrt(R)))/R*a,m.vx+=(U*=R)*(H=(W*=W)/(b+W)),m.vy+=(B*=R)*H,N.vx-=U*(H=1-H),N.vy-=B*H)}}}function l(h){if(h.data)return h.r=i[h.data.index];for(var d=h.r=0;d<4;++d)h[d]&&h[d].r>h.r&&(h.r=h[d].r)}function f(){if(e){var h,p,d=e.length;for(i=new Array(d),h=0;h<d;++h)i[(p=e[h]).index]=+t(p,h,e)}}return"function"!=typeof t&&(t=ue(null==t?1:+t)),c.initialize=function(h){e=h,f()},c.iterations=function(h){return arguments.length?(o=+h,c):o},c.strength=function(h){return arguments.length?(a=+h,c):a},c.radius=function(h){return arguments.length?(t="function"==typeof h?h:ue(+h),f(),c):t},c}function F1(t){return t.index}function Hf(t,e){var i=t.get(e);if(!i)throw new Error("missing: "+e);return i}function z1(t){var a,c,l,f,h,e=F1,i=function p(b){return 1/Math.min(f[b.source.index],f[b.target.index])},o=ue(30),d=1;function m(b){for(var A=0,C=t.length;A<d;++A)for(var M,E,$,I,N,W,H,k=0;k<C;++k)I=($=(M=t[k]).target).x+$.vx-(E=M.source).x-E.vx||Fn(),N=$.y+$.vy-E.y-E.vy||Fn(),N*=W=((W=Math.sqrt(I*I+N*N))-c[k])/W*b*a[k],$.vx-=(I*=W)*(H=h[k]),$.vy-=N*H,E.vx+=I*(H=1-H),E.vy+=N*H}function _(){if(l){var b,M,A=l.length,C=t.length,k=Nn(l,e);for(b=0,f=new Array(A);b<C;++b)(M=t[b]).index=b,"object"!=typeof M.source&&(M.source=Hf(k,M.source)),"object"!=typeof M.target&&(M.target=Hf(k,M.target)),f[M.source.index]=(f[M.source.index]||0)+1,f[M.target.index]=(f[M.target.index]||0)+1;for(b=0,h=new Array(C);b<C;++b)h[b]=f[(M=t[b]).source.index]/(f[M.source.index]+f[M.target.index]);a=new Array(C),v(),c=new Array(C),S()}}function v(){if(l)for(var b=0,A=t.length;b<A;++b)a[b]=+i(t[b],b,t)}function S(){if(l)for(var b=0,A=t.length;b<A;++b)c[b]=+o(t[b],b,t)}return null==t&&(t=[]),m.initialize=function(b){l=b,_()},m.links=function(b){return arguments.length?(t=b,_(),m):t},m.id=function(b){return arguments.length?(e=b,m):e},m.iterations=function(b){return arguments.length?(d=+b,m):d},m.strength=function(b){return arguments.length?(i="function"==typeof b?b:ue(+b),v(),m):i},m.distance=function(b){return arguments.length?(o="function"==typeof b?b:ue(+b),S(),m):o},m}function Y1(t){return t.x}function B1(t){return t.y}Ce.copy=function(){var i,a,t=new yc(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root;if(!e)return t;if(!e.length)return t._root=Xf(e),t;for(i=[{source:e,target:t._root=new Array(4)}];e=i.pop();)for(var o=0;o<4;++o)(a=e.source[o])&&(a.length?i.push({source:a,target:e.target[o]=new Array(4)}):e.target[o]=Xf(a));return t},Ce.add=function b1(t){var e=+this._x.call(null,t),i=+this._y.call(null,t);return Bf(this.cover(e,i),e,i,t)},Ce.addAll=function w1(t){var e,i,o,c,a=t.length,l=new Array(a),f=new Array(a),h=1/0,d=1/0,p=-1/0,m=-1/0;for(i=0;i<a;++i)isNaN(o=+this._x.call(null,e=t[i]))||isNaN(c=+this._y.call(null,e))||(l[i]=o,f[i]=c,o<h&&(h=o),o>p&&(p=o),c<d&&(d=c),c>m&&(m=c));if(h>p||d>m)return this;for(this.cover(h,d).cover(p,m),i=0;i<a;++i)Bf(this,l[i],f[i],t[i]);return this},Ce.cover=function S1(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var i=this._x0,a=this._y0,o=this._x1,c=this._y1;if(isNaN(i))o=(i=Math.floor(t))+1,c=(a=Math.floor(e))+1;else{for(var h,d,l=o-i,f=this._root;i>t||t>=o||a>e||e>=c;)switch(d=(e<a)<<1|t<i,h=new Array(4),h[d]=f,f=h,l*=2,d){case 0:o=i+l,c=a+l;break;case 1:i=o-l,c=a+l;break;case 2:o=i+l,a=c-l;break;case 3:i=o-l,a=c-l}this._root&&this._root.length&&(this._root=f)}return this._x0=i,this._y0=a,this._x1=o,this._y1=c,this},Ce.data=function T1(){var t=[];return this.visit(function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)}),t},Ce.extent=function A1(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Ce.find=function C1(t,e,i){var a,l,f,h,d,S,b,o=this._x0,c=this._y0,p=this._x1,m=this._y1,_=[],v=this._root;for(v&&_.push(new Ae(v,o,c,p,m)),null==i?i=1/0:(o=t-i,c=e-i,p=t+i,m=e+i,i*=i);S=_.pop();)if(!(!(v=S.node)||(l=S.x0)>p||(f=S.y0)>m||(h=S.x1)<o||(d=S.y1)<c))if(v.length){var A=(l+h)/2,C=(f+d)/2;_.push(new Ae(v[3],A,C,h,d),new Ae(v[2],l,C,A,d),new Ae(v[1],A,f,h,C),new Ae(v[0],l,f,A,C)),(b=(e>=C)<<1|t>=A)&&(S=_[_.length-1],_[_.length-1]=_[_.length-1-b],_[_.length-1-b]=S)}else{var k=t-+this._x.call(null,v.data),M=e-+this._y.call(null,v.data),E=k*k+M*M;if(E<i){var $=Math.sqrt(i=E);o=t-$,c=e-$,p=t+$,m=e+$,a=v.data}}return a},Ce.remove=function P1(t){if(isNaN(p=+this._x.call(null,t))||isNaN(m=+this._y.call(null,t)))return this;var e,a,o,c,p,m,_,v,S,b,A,C,i=this._root,l=this._x0,f=this._y0,h=this._x1,d=this._y1;if(!i)return this;if(i.length)for(;;){if((S=p>=(_=(l+h)/2))?l=_:h=_,(b=m>=(v=(f+d)/2))?f=v:d=v,e=i,!(i=i[A=b<<1|S]))return this;if(!i.length)break;(e[A+1&3]||e[A+2&3]||e[A+3&3])&&(a=e,C=A)}for(;i.data!==t;)if(o=i,!(i=i.next))return this;return(c=i.next)&&delete i.next,o?(c?o.next=c:delete o.next,this):e?(c?e[A]=c:delete e[A],(i=e[0]||e[1]||e[2]||e[3])&&i===(e[3]||e[2]||e[1]||e[0])&&!i.length&&(a?a[C]=i:this._root=i),this):(this._root=c,this)},Ce.removeAll=function M1(t){for(var e=0,i=t.length;e<i;++e)this.remove(t[e]);return this},Ce.root=function L1(){return this._root},Ce.size=function O1(){var t=0;return this.visit(function(e){if(!e.length)do{++t}while(e=e.next)}),t},Ce.visit=function E1(t){var i,o,c,l,f,h,e=[],a=this._root;for(a&&e.push(new Ae(a,this._x0,this._y0,this._x1,this._y1));i=e.pop();)if(!t(a=i.node,c=i.x0,l=i.y0,f=i.x1,h=i.y1)&&a.length){var d=(c+f)/2,p=(l+h)/2;(o=a[3])&&e.push(new Ae(o,d,p,f,h)),(o=a[2])&&e.push(new Ae(o,c,p,d,h)),(o=a[1])&&e.push(new Ae(o,d,l,f,p)),(o=a[0])&&e.push(new Ae(o,c,l,d,p))}return this},Ce.visitAfter=function k1(t){var a,e=[],i=[];for(this._root&&e.push(new Ae(this._root,this._x0,this._y0,this._x1,this._y1));a=e.pop();){var o=a.node;if(o.length){var c,l=a.x0,f=a.y0,h=a.x1,d=a.y1,p=(l+h)/2,m=(f+d)/2;(c=o[0])&&e.push(new Ae(c,l,f,p,m)),(c=o[1])&&e.push(new Ae(c,p,f,h,m)),(c=o[2])&&e.push(new Ae(c,l,m,p,d)),(c=o[3])&&e.push(new Ae(c,p,m,h,d))}i.push(a)}for(;a=i.pop();)t(a.node,a.x0,a.y0,a.x1,a.y1);return this},Ce.x=function G1(t){return arguments.length?(this._x=t,this):this._x},Ce.y=function $1(t){return arguments.length?(this._y=t,this):this._y};var X1=10,H1=Math.PI*(3-Math.sqrt(5));function U1(t){var e,i=1,a=.001,o=1-Math.pow(a,1/300),c=0,l=.6,f=Nn(),h=La(p),d=Gn("tick","end");function p(){m(),d.call("tick",e),i<a&&(h.stop(),d.call("end",e))}function m(S){var b,C,A=t.length;void 0===S&&(S=1);for(var k=0;k<S;++k)for(i+=(c-i)*o,f.each(function(M){M(i)}),b=0;b<A;++b)null==(C=t[b]).fx?C.x+=C.vx*=l:(C.x=C.fx,C.vx=0),null==C.fy?C.y+=C.vy*=l:(C.y=C.fy,C.vy=0);return e}function _(){for(var A,S=0,b=t.length;S<b;++S){if((A=t[S]).index=S,null!=A.fx&&(A.x=A.fx),null!=A.fy&&(A.y=A.fy),isNaN(A.x)||isNaN(A.y)){var C=X1*Math.sqrt(S),k=S*H1;A.x=C*Math.cos(k),A.y=C*Math.sin(k)}(isNaN(A.vx)||isNaN(A.vy))&&(A.vx=A.vy=0)}}function v(S){return S.initialize&&S.initialize(t),S}return null==t&&(t=[]),_(),e={tick:m,restart:function(){return h.restart(p),e},stop:function(){return h.stop(),e},nodes:function(S){return arguments.length?(t=S,_(),f.each(v),e):t},alpha:function(S){return arguments.length?(i=+S,e):i},alphaMin:function(S){return arguments.length?(a=+S,e):a},alphaDecay:function(S){return arguments.length?(o=+S,e):+o},alphaTarget:function(S){return arguments.length?(c=+S,e):c},velocityDecay:function(S){return arguments.length?(l=1-S,e):1-l},force:function(S,b){return arguments.length>1?(null==b?f.remove(S):f.set(S,v(b)),e):f.get(S)},find:function(S,b,A){var M,E,$,I,N,C=0,k=t.length;for(null==A?A=1/0:A*=A,C=0;C<k;++C)($=(M=S-(I=t[C]).x)*M+(E=b-I.y)*E)<A&&(N=I,A=$);return N},on:function(S,b){return arguments.length>1?(d.on(S,b),e):d.on(S)}}}function W1(){var t,e,i,o,a=ue(-30),c=1,l=1/0,f=.81;function h(_){var v,S=t.length,b=Wa(t,Y1,B1).visitAfter(p);for(i=_,v=0;v<S;++v)e=t[v],b.visit(m)}function d(){if(t){var _,S,v=t.length;for(o=new Array(v),_=0;_<v;++_)o[(S=t[_]).index]=+a(S,_,t)}}function p(_){var S,b,C,k,M,v=0,A=0;if(_.length){for(C=k=M=0;M<4;++M)(S=_[M])&&(b=Math.abs(S.value))&&(v+=S.value,A+=b,C+=b*S.x,k+=b*S.y);_.x=C/A,_.y=k/A}else{(S=_).x=S.data.x,S.y=S.data.y;do{v+=o[S.data.index]}while(S=S.next)}_.value=v}function m(_,v,S,b){if(!_.value)return!0;var A=_.x-e.x,C=_.y-e.y,k=b-v,M=A*A+C*C;if(k*k/f<M)return M<l&&(0===A&&(M+=(A=Fn())*A),0===C&&(M+=(C=Fn())*C),M<c&&(M=Math.sqrt(c*M)),e.vx+=A*_.value*i/M,e.vy+=C*_.value*i/M),!0;if(!(_.length||M>=l)){(_.data!==e||_.next)&&(0===A&&(M+=(A=Fn())*A),0===C&&(M+=(C=Fn())*C),M<c&&(M=Math.sqrt(c*M)));do{_.data!==e&&(e.vx+=A*(k=o[_.data.index]*i/M),e.vy+=C*k)}while(_=_.next)}}return h.initialize=function(_){t=_,d()},h.strength=function(_){return arguments.length?(a="function"==typeof _?_:ue(+_),d(),h):a},h.distanceMin=function(_){return arguments.length?(c=_*_,h):Math.sqrt(c)},h.distanceMax=function(_){return arguments.length?(l=_*_,h):Math.sqrt(l)},h.theta=function(_){return arguments.length?(f=_*_,h):Math.sqrt(f)},h}function q1(t,e,i){var a,c,l,o=ue(.1);function f(d){for(var p=0,m=a.length;p<m;++p){var _=a[p],v=_.x-e||1e-6,S=_.y-i||1e-6,b=Math.sqrt(v*v+S*S),A=(l[p]-b)*c[p]*d/b;_.vx+=v*A,_.vy+=S*A}}function h(){if(a){var d,p=a.length;for(c=new Array(p),l=new Array(p),d=0;d<p;++d)l[d]=+t(a[d],d,a),c[d]=isNaN(l[d])?0:+o(a[d],d,a)}}return"function"!=typeof t&&(t=ue(+t)),null==e&&(e=0),null==i&&(i=0),f.initialize=function(d){a=d,h()},f.strength=function(d){return arguments.length?(o="function"==typeof d?d:ue(+d),h(),f):o},f.radius=function(d){return arguments.length?(t="function"==typeof d?d:ue(+d),h(),f):t},f.x=function(d){return arguments.length?(e=+d,f):e},f.y=function(d){return arguments.length?(i=+d,f):i},f}function j1(t){var i,a,o,e=ue(.1);function c(f){for(var p,h=0,d=i.length;h<d;++h)(p=i[h]).vx+=(o[h]-p.x)*a[h]*f}function l(){if(i){var f,h=i.length;for(a=new Array(h),o=new Array(h),f=0;f<h;++f)a[f]=isNaN(o[f]=+t(i[f],f,i))?0:+e(i[f],f,i)}}return"function"!=typeof t&&(t=ue(null==t?0:+t)),c.initialize=function(f){i=f,l()},c.strength=function(f){return arguments.length?(e="function"==typeof f?f:ue(+f),l(),c):e},c.x=function(f){return arguments.length?(t="function"==typeof f?f:ue(+f),l(),c):t},c}function Q1(t){var i,a,o,e=ue(.1);function c(f){for(var p,h=0,d=i.length;h<d;++h)(p=i[h]).vy+=(o[h]-p.y)*a[h]*f}function l(){if(i){var f,h=i.length;for(a=new Array(h),o=new Array(h),f=0;f<h;++f)a[f]=isNaN(o[f]=+t(i[f],f,i))?0:+e(i[f],f,i)}}return"function"!=typeof t&&(t=ue(null==t?0:+t)),c.initialize=function(f){i=f,l()},c.strength=function(f){return arguments.length?(e="function"==typeof f?f:ue(+f),l(),c):e},c.y=function(f){return arguments.length?(t="function"==typeof f?f:ue(+f),l(),c):t},c}function qa(t,e){if((i=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var i,a=t.slice(0,i);return[a.length>1?a[0]+a.slice(2):a,+t.slice(i+1)]}function Fi(t){return(t=qa(Math.abs(t)))?t[1]:NaN}var Uf,tv=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ar(t){if(!(e=tv.exec(t)))throw new Error("invalid format: "+t);var e;return new ja({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function ja(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Wf(t,e){var i=qa(t,e);if(!i)return t+"";var a=i[0],o=i[1];return o<0?"0."+new Array(-o).join("0")+a:a.length>o+1?a.slice(0,o+1)+"."+a.slice(o+1):a+new Array(o-a.length+2).join("0")}Ar.prototype=ja.prototype,ja.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const qf={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function Z1(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Wf(100*t,e)},r:Wf,s:function nv(t,e){var i=qa(t,e);if(!i)return t+"";var a=i[0],o=i[1],c=o-(Uf=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,l=a.length;return c===l?a:c>l?a+new Array(c-l+1).join("0"):c>0?a.slice(0,c)+"."+a.slice(c):"0."+new Array(1-c).join("0")+qa(t,Math.max(0,e+c-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function jf(t){return t}var Qa,Za,xc,Qf=Array.prototype.map,Zf=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Kf(t){var e=void 0===t.grouping||void 0===t.thousands?jf:function K1(t,e){return function(i,a){for(var o=i.length,c=[],l=0,f=t[0],h=0;o>0&&f>0&&(h+f+1>a&&(f=Math.max(1,a-h)),c.push(i.substring(o-=f,o+f)),!((h+=f+1)>a));)f=t[l=(l+1)%t.length];return c.reverse().join(e)}}(Qf.call(t.grouping,Number),t.thousands+""),i=void 0===t.currency?"":t.currency[0]+"",a=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",c=void 0===t.numerals?jf:function J1(t){return function(e){return e.replace(/[0-9]/g,function(i){return t[+i]})}}(Qf.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",f=void 0===t.minus?"-":t.minus+"",h=void 0===t.nan?"NaN":t.nan+"";function d(m){var _=(m=Ar(m)).fill,v=m.align,S=m.sign,b=m.symbol,A=m.zero,C=m.width,k=m.comma,M=m.precision,E=m.trim,$=m.type;"n"===$?(k=!0,$="g"):qf[$]||(void 0===M&&(M=12),E=!0,$="g"),(A||"0"===_&&"="===v)&&(A=!0,_="0",v="=");var I="$"===b?i:"#"===b&&/[boxX]/.test($)?"0"+$.toLowerCase():"",N="$"===b?a:/[%p]/.test($)?l:"",W=qf[$],H=/[defgprs%]/.test($);function U(B){var Q,D,j,R=I,F=N;if("c"===$)F=W(B)+F,B="";else{var ct=(B=+B)<0||1/B<0;if(B=isNaN(B)?h:W(Math.abs(B),M),E&&(B=function ev(t){t:for(var o,e=t.length,i=1,a=-1;i<e;++i)switch(t[i]){case".":a=o=i;break;case"0":0===a&&(a=i),o=i;break;default:if(!+t[i])break t;a>0&&(a=0)}return a>0?t.slice(0,a)+t.slice(o+1):t}(B)),ct&&0==+B&&"+"!==S&&(ct=!1),R=(ct?"("===S?S:f:"-"===S||"("===S?"":S)+R,F=("s"===$?Zf[8+Uf/3]:"")+F+(ct&&"("===S?")":""),H)for(Q=-1,D=B.length;++Q<D;)if(48>(j=B.charCodeAt(Q))||j>57){F=(46===j?o+B.slice(Q+1):B.slice(Q))+F,B=B.slice(0,Q);break}}k&&!A&&(B=e(B,1/0));var at=R.length+B.length+F.length,lt=at<C?new Array(C-at+1).join(_):"";switch(k&&A&&(B=e(lt+B,lt.length?C-F.length:1/0),lt=""),v){case"<":B=R+B+F+lt;break;case"=":B=R+lt+B+F;break;case"^":B=lt.slice(0,at=lt.length>>1)+R+B+F+lt.slice(at);break;default:B=lt+R+B+F}return c(B)}return M=void 0===M?6:/[gprs]/.test($)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M)),U.toString=function(){return m+""},U}return{format:d,formatPrefix:function p(m,_){var v=d(((m=Ar(m)).type="f",m)),S=3*Math.max(-8,Math.min(8,Math.floor(Fi(_)/3))),b=Math.pow(10,-S),A=Zf[8+S/3];return function(C){return v(b*C)+A}}}}function Jf(t){return Qa=Kf(t),Za=Qa.format,xc=Qa.formatPrefix,Qa}function th(t){return Math.max(0,-Fi(Math.abs(t)))}function eh(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Fi(e)/3)))-Fi(Math.abs(t)))}function nh(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Fi(e)-Fi(t))+1}function zn(){return new Ka}function Ka(){this.reset()}Jf({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),Ka.prototype={constructor:Ka,reset:function(){this.s=this.t=0},add:function(t){ih(Ja,t,this.t),ih(this,Ja.s,this.s),this.s?this.t+=Ja.t:this.s=Ja.t},valueOf:function(){return this.s}};var Ja=new Ka;function ih(t,e,i){var a=t.s=e+i,o=a-e;t.t=e-(a-o)+(i-o)}var dt=1e-6,to=1e-12,Ct=Math.PI,Kt=Ct/2,eo=Ct/4,Pe=2*Ct,Ft=180/Ct,pt=Ct/180,kt=Math.abs,zi=Math.atan,Me=Math.atan2,ft=Math.cos,no=Math.ceil,rh=Math.exp,io=(Math,Math.log),vc=Math.pow,st=Math.sin,je=Math.sign||function(t){return t>0?1:t<0?-1:0},re=Math.sqrt,bc=Math.tan;function ah(t){return t>1?0:t<-1?Ct:Math.acos(t)}function Le(t){return t>1?Kt:t<-1?-Kt:Math.asin(t)}function oh(t){return(t=st(t/2))*t}function jt(){}function ro(t,e){t&&ch.hasOwnProperty(t.type)&&ch[t.type](t,e)}var sh={Feature:function(t,e){ro(t.geometry,e)},FeatureCollection:function(t,e){for(var i=t.features,a=-1,o=i.length;++a<o;)ro(i[a].geometry,e)}},ch={Sphere:function(t,e){e.sphere()},Point:function(t,e){e.point((t=t.coordinates)[0],t[1],t[2])},MultiPoint:function(t,e){for(var i=t.coordinates,a=-1,o=i.length;++a<o;)e.point((t=i[a])[0],t[1],t[2])},LineString:function(t,e){wc(t.coordinates,e,0)},MultiLineString:function(t,e){for(var i=t.coordinates,a=-1,o=i.length;++a<o;)wc(i[a],e,0)},Polygon:function(t,e){uh(t.coordinates,e)},MultiPolygon:function(t,e){for(var i=t.coordinates,a=-1,o=i.length;++a<o;)uh(i[a],e)},GeometryCollection:function(t,e){for(var i=t.geometries,a=-1,o=i.length;++a<o;)ro(i[a],e)}};function wc(t,e,i){var c,a=-1,o=t.length-i;for(e.lineStart();++a<o;)e.point((c=t[a])[0],c[1],c[2]);e.lineEnd()}function uh(t,e){var i=-1,a=t.length;for(e.polygonStart();++i<a;)wc(t[i],e,1);e.polygonEnd()}function on(t,e){t&&sh.hasOwnProperty(t.type)?sh[t.type](t,e):ro(t,e)}var lh,fh,Sc,Tc,Ac,ao=zn(),oo=zn(),vn={point:jt,lineStart:jt,lineEnd:jt,polygonStart:function(){ao.reset(),vn.lineStart=iv,vn.lineEnd=rv},polygonEnd:function(){var t=+ao;oo.add(t<0?Pe+t:t),this.lineStart=this.lineEnd=this.point=jt},sphere:function(){oo.add(Pe)}};function iv(){vn.point=av}function rv(){hh(lh,fh)}function av(t,e){vn.point=hh,lh=t,fh=e,Sc=t*=pt,Tc=ft(e=(e*=pt)/2+eo),Ac=st(e)}function hh(t,e){var i=(t*=pt)-Sc,a=i>=0?1:-1,o=a*i,c=ft(e=(e*=pt)/2+eo),l=st(e),f=Ac*l,h=Tc*c+f*ft(o),d=f*a*st(o);ao.add(Me(d,h)),Sc=t,Tc=c,Ac=l}function ov(t){return oo.reset(),on(t,vn),2*oo}function so(t){return[Me(t[1],t[0]),Le(t[2])]}function ci(t){var e=t[0],i=t[1],a=ft(i);return[a*ft(e),a*st(e),st(i)]}function co(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Yi(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Cc(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function uo(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function lo(t){var e=re(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var Qt,De,Jt,ze,ui,dh,gh,Bi,Yn,Mn,Cr=zn(),Ln={point:Pc,lineStart:_h,lineEnd:mh,polygonStart:function(){Ln.point=yh,Ln.lineStart=sv,Ln.lineEnd=cv,Cr.reset(),vn.polygonStart()},polygonEnd:function(){vn.polygonEnd(),Ln.point=Pc,Ln.lineStart=_h,Ln.lineEnd=mh,ao<0?(Qt=-(Jt=180),De=-(ze=90)):Cr>dt?ze=90:Cr<-dt&&(De=-90),Mn[0]=Qt,Mn[1]=Jt},sphere:function(){Qt=-(Jt=180),De=-(ze=90)}};function Pc(t,e){Yn.push(Mn=[Qt=t,Jt=t]),e<De&&(De=e),e>ze&&(ze=e)}function ph(t,e){var i=ci([t*pt,e*pt]);if(Bi){var a=Yi(Bi,i),c=Yi([a[1],-a[0],0],a);lo(c),c=so(c);var d,l=t-ui,f=l>0?1:-1,h=c[0]*Ft*f,p=kt(l)>180;p^(f*ui<h&&h<f*t)?(d=c[1]*Ft)>ze&&(ze=d):p^(f*ui<(h=(h+360)%360-180)&&h<f*t)?(d=-c[1]*Ft)<De&&(De=d):(e<De&&(De=e),e>ze&&(ze=e)),p?t<ui?Ye(Qt,t)>Ye(Qt,Jt)&&(Jt=t):Ye(t,Jt)>Ye(Qt,Jt)&&(Qt=t):Jt>=Qt?(t<Qt&&(Qt=t),t>Jt&&(Jt=t)):t>ui?Ye(Qt,t)>Ye(Qt,Jt)&&(Jt=t):Ye(t,Jt)>Ye(Qt,Jt)&&(Qt=t)}else Yn.push(Mn=[Qt=t,Jt=t]);e<De&&(De=e),e>ze&&(ze=e),Bi=i,ui=t}function _h(){Ln.point=ph}function mh(){Mn[0]=Qt,Mn[1]=Jt,Ln.point=Pc,Bi=null}function yh(t,e){if(Bi){var i=t-ui;Cr.add(kt(i)>180?i+(i>0?360:-360):i)}else dh=t,gh=e;vn.point(t,e),ph(t,e)}function sv(){vn.lineStart()}function cv(){yh(dh,gh),vn.lineEnd(),kt(Cr)>dt&&(Qt=-(Jt=180)),Mn[0]=Qt,Mn[1]=Jt,Bi=null}function Ye(t,e){return(e-=t)<0?e+360:e}function uv(t,e){return t[0]-e[0]}function xh(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function lv(t){var e,i,a,o,c,l,f;if(ze=Jt=-(Qt=De=1/0),Yn=[],on(t,Ln),i=Yn.length){for(Yn.sort(uv),e=1,c=[a=Yn[0]];e<i;++e)xh(a,(o=Yn[e])[0])||xh(a,o[1])?(Ye(a[0],o[1])>Ye(a[0],a[1])&&(a[1]=o[1]),Ye(o[0],a[1])>Ye(a[0],a[1])&&(a[0]=o[0])):c.push(a=o);for(l=-1/0,e=0,a=c[i=c.length-1];e<=i;a=o,++e)(f=Ye(a[1],(o=c[e])[0]))>l&&(l=f,Qt=o[0],Jt=a[1])}return Yn=Mn=null,Qt===1/0||De===1/0?[[NaN,NaN],[NaN,NaN]]:[[Qt,De],[Jt,ze]]}var Pr,fo,ho,go,po,_o,mo,yo,Mc,Lc,Oc,vh,bh,Oe,Ee,ke,sn={sphere:jt,point:Ec,lineStart:wh,lineEnd:Sh,polygonStart:function(){sn.lineStart=dv,sn.lineEnd=gv},polygonEnd:function(){sn.lineStart=wh,sn.lineEnd=Sh}};function Ec(t,e){t*=pt;var i=ft(e*=pt);Mr(i*ft(t),i*st(t),st(e))}function Mr(t,e,i){++Pr,ho+=(t-ho)/Pr,go+=(e-go)/Pr,po+=(i-po)/Pr}function wh(){sn.point=fv}function fv(t,e){t*=pt;var i=ft(e*=pt);Oe=i*ft(t),Ee=i*st(t),ke=st(e),sn.point=hv,Mr(Oe,Ee,ke)}function hv(t,e){t*=pt;var i=ft(e*=pt),a=i*ft(t),o=i*st(t),c=st(e),l=Me(re((l=Ee*c-ke*o)*l+(l=ke*a-Oe*c)*l+(l=Oe*o-Ee*a)*l),Oe*a+Ee*o+ke*c);fo+=l,_o+=l*(Oe+(Oe=a)),mo+=l*(Ee+(Ee=o)),yo+=l*(ke+(ke=c)),Mr(Oe,Ee,ke)}function Sh(){sn.point=Ec}function dv(){sn.point=pv}function gv(){Th(vh,bh),sn.point=Ec}function pv(t,e){vh=t,bh=e,t*=pt,e*=pt,sn.point=Th;var i=ft(e);Oe=i*ft(t),Ee=i*st(t),ke=st(e),Mr(Oe,Ee,ke)}function Th(t,e){t*=pt;var i=ft(e*=pt),a=i*ft(t),o=i*st(t),c=st(e),l=Ee*c-ke*o,f=ke*a-Oe*c,h=Oe*o-Ee*a,d=re(l*l+f*f+h*h),p=Le(d),m=d&&-p/d;Mc+=m*l,Lc+=m*f,Oc+=m*h,fo+=p,_o+=p*(Oe+(Oe=a)),mo+=p*(Ee+(Ee=o)),yo+=p*(ke+(ke=c)),Mr(Oe,Ee,ke)}function _v(t){Pr=fo=ho=go=po=_o=mo=yo=Mc=Lc=Oc=0,on(t,sn);var e=Mc,i=Lc,a=Oc,o=e*e+i*i+a*a;return o<to&&(e=_o,i=mo,a=yo,fo<dt&&(e=ho,i=go,a=po),(o=e*e+i*i+a*a)<to)?[NaN,NaN]:[Me(i,e)*Ft,Le(a/re(o))*Ft]}function Xi(t){return function(){return t}}function kc(t,e){function i(a,o){return a=t(a,o),e(a[0],a[1])}return t.invert&&e.invert&&(i.invert=function(a,o){return(a=e.invert(a,o))&&t.invert(a[0],a[1])}),i}function Rc(t,e){return[kt(t)>Ct?t+Math.round(-t/Pe)*Pe:t,e]}function Gc(t,e,i){return(t%=Pe)?e||i?kc(Ch(t),Ph(e,i)):Ch(t):e||i?Ph(e,i):Rc}function Ah(t){return function(e,i){return[(e+=t)>Ct?e-Pe:e<-Ct?e+Pe:e,i]}}function Ch(t){var e=Ah(t);return e.invert=Ah(-t),e}function Ph(t,e){var i=ft(t),a=st(t),o=ft(e),c=st(e);function l(f,h){var d=ft(h),p=ft(f)*d,m=st(f)*d,_=st(h),v=_*i+p*a;return[Me(m*o-v*c,p*i-_*a),Le(v*o+m*c)]}return l.invert=function(f,h){var d=ft(h),p=ft(f)*d,m=st(f)*d,_=st(h),v=_*o-m*c;return[Me(m*o+_*c,p*i+v*a),Le(v*i-p*a)]},l}function Mh(t){function e(i){return(i=t(i[0]*pt,i[1]*pt))[0]*=Ft,i[1]*=Ft,i}return t=Gc(t[0]*pt,t[1]*pt,t.length>2?t[2]*pt:0),e.invert=function(i){return(i=t.invert(i[0]*pt,i[1]*pt))[0]*=Ft,i[1]*=Ft,i},e}function Lh(t,e,i,a,o,c){if(i){var l=ft(e),f=st(e),h=a*i;null==o?(o=e+a*Pe,c=e-h/2):(o=Oh(l,o),c=Oh(l,c),(a>0?o<c:o>c)&&(o+=a*Pe));for(var d,p=o;a>0?p>c:p<c;p-=h)d=so([l,-f*ft(p),-f*st(p)]),t.point(d[0],d[1])}}function Oh(t,e){(e=ci(e))[0]-=t,lo(e);var i=ah(-e[1]);return((-e[2]<0?-i:i)+Pe-dt)%Pe}function mv(){var a,o,t=Xi([0,0]),e=Xi(90),i=Xi(6),c={point:function l(h,d){a.push(h=o(h,d)),h[0]*=Ft,h[1]*=Ft}};function f(){var h=t.apply(this,arguments),d=e.apply(this,arguments)*pt,p=i.apply(this,arguments)*pt;return a=[],o=Gc(-h[0]*pt,-h[1]*pt,0).invert,Lh(c,d,p,1),h={type:"Polygon",coordinates:[a]},a=o=null,h}return f.center=function(h){return arguments.length?(t="function"==typeof h?h:Xi([+h[0],+h[1]]),f):t},f.radius=function(h){return arguments.length?(e="function"==typeof h?h:Xi(+h),f):e},f.precision=function(h){return arguments.length?(i="function"==typeof h?h:Xi(+h),f):i},f}function Eh(){var e,t=[];return{point:function(i,a,o){e.push([i,a,o])},lineStart:function(){t.push(e=[])},lineEnd:jt,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var i=t;return t=[],e=null,i}}}function xo(t,e){return kt(t[0]-e[0])<dt&&kt(t[1]-e[1])<dt}function vo(t,e,i,a){this.x=t,this.z=e,this.o=i,this.e=a,this.v=!1,this.n=this.p=null}function kh(t,e,i,a,o){var f,h,c=[],l=[];if(t.forEach(function(S){if(!((b=S.length-1)<=0)){var b,k,A=S[0],C=S[b];if(xo(A,C)){if(!A[2]&&!C[2]){for(o.lineStart(),f=0;f<b;++f)o.point((A=S[f])[0],A[1]);return void o.lineEnd()}C[0]+=2*dt}c.push(k=new vo(A,S,null,!0)),l.push(k.o=new vo(A,null,k,!1)),c.push(k=new vo(C,S,null,!1)),l.push(k.o=new vo(C,null,k,!0))}}),c.length){for(l.sort(e),Rh(c),Rh(l),f=0,h=l.length;f<h;++f)l[f].e=i=!i;for(var p,m,d=c[0];;){for(var _=d,v=!0;_.v;)if((_=_.n)===d)return;p=_.z,o.lineStart();do{if(_.v=_.o.v=!0,_.e){if(v)for(f=0,h=p.length;f<h;++f)o.point((m=p[f])[0],m[1]);else a(_.x,_.n.x,1,o);_=_.n}else{if(v)for(f=(p=_.p.z).length-1;f>=0;--f)o.point((m=p[f])[0],m[1]);else a(_.x,_.p.x,-1,o);_=_.p}p=(_=_.o).z,v=!v}while(!_.v);o.lineEnd()}}}function Rh(t){if(e=t.length){for(var e,o,i=0,a=t[0];++i<e;)a.n=o=t[i],o.p=a,a=o;a.n=o=t[0],o.p=a}}Rc.invert=Rc;var Vc=zn();function $c(t){return kt(t[0])<=Ct?t[0]:je(t[0])*((kt(t[0])+Ct)%Pe-Ct)}function Gh(t,e){var i=$c(e),a=e[1],o=st(a),c=[st(i),-ft(i),0],l=0,f=0;Vc.reset(),1===o?a=Kt+dt:-1===o&&(a=-Kt-dt);for(var h=0,d=t.length;h<d;++h)if(m=(p=t[h]).length)for(var p,m,_=p[m-1],v=$c(_),S=_[1]/2+eo,b=st(S),A=ft(S),C=0;C<m;++C,v=M,b=$,A=I,_=k){var k=p[C],M=$c(k),E=k[1]/2+eo,$=st(E),I=ft(E),N=M-v,W=N>=0?1:-1,H=W*N,U=H>Ct,B=b*$;if(Vc.add(Me(B*W*st(H),A*I+B*ft(H))),l+=U?N+W*Pe:N,U^v>=i^M>=i){var R=Yi(ci(_),ci(k));lo(R);var F=Yi(c,R);lo(F);var Q=(U^N>=0?-1:1)*Le(F[2]);(a>Q||a===Q&&(R[0]||R[1]))&&(f+=U^N>=0?1:-1)}}return(l<-dt||l<dt&&Vc<-dt)^1&f}function Vh(t,e,i,a){return function(o){var d,p,m,c=e(o),l=Eh(),f=e(l),h=!1,_={point:v,lineStart:b,lineEnd:A,polygonStart:function(){_.point=C,_.lineStart=k,_.lineEnd=M,p=[],d=[]},polygonEnd:function(){_.point=v,_.lineStart=b,_.lineEnd=A,p=yt(p);var E=Gh(d,a);p.length?(h||(o.polygonStart(),h=!0),kh(p,xv,E,i,o)):E&&(h||(o.polygonStart(),h=!0),o.lineStart(),i(null,null,1,o),o.lineEnd()),h&&(o.polygonEnd(),h=!1),p=d=null},sphere:function(){o.polygonStart(),o.lineStart(),i(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function v(E,$){t(E,$)&&o.point(E,$)}function S(E,$){c.point(E,$)}function b(){_.point=S,c.lineStart()}function A(){_.point=v,c.lineEnd()}function C(E,$){m.push([E,$]),f.point(E,$)}function k(){f.lineStart(),m=[]}function M(){C(m[0][0],m[0][1]),f.lineEnd();var I,W,H,U,E=f.clean(),$=l.result(),N=$.length;if(m.pop(),d.push(m),m=null,N){if(1&E){if((W=(H=$[0]).length-1)>0){for(h||(o.polygonStart(),h=!0),o.lineStart(),I=0;I<W;++I)o.point((U=H[I])[0],U[1]);o.lineEnd()}return}N>1&&2&E&&$.push($.pop().concat($.shift())),p.push($.filter(yv))}}return _}}function yv(t){return t.length>1}function xv(t,e){return((t=t.x)[0]<0?t[1]-Kt-dt:Kt-t[1])-((e=e.x)[0]<0?e[1]-Kt-dt:Kt-e[1])}const Nc=Vh(function(){return!0},function vv(t){var o,e=NaN,i=NaN,a=NaN;return{lineStart:function(){t.lineStart(),o=1},point:function(c,l){var f=c>0?Ct:-Ct,h=kt(c-e);kt(h-Ct)<dt?(t.point(e,i=(i+l)/2>0?Kt:-Kt),t.point(a,i),t.lineEnd(),t.lineStart(),t.point(f,i),t.point(c,i),o=0):a!==f&&h>=Ct&&(kt(e-a)<dt&&(e-=a*dt),kt(c-f)<dt&&(c-=f*dt),i=function bv(t,e,i,a){var o,c,l=st(t-i);return kt(l)>dt?zi((st(e)*(c=ft(a))*st(i)-st(a)*(o=ft(e))*st(t))/(o*c*l)):(e+a)/2}(e,i,c,l),t.point(a,i),t.lineEnd(),t.lineStart(),t.point(f,i),o=0),t.point(e=c,i=l),a=f},lineEnd:function(){t.lineEnd(),e=i=NaN},clean:function(){return 2-o}}},function wv(t,e,i,a){var o;if(null==t)a.point(-Ct,o=i*Kt),a.point(0,o),a.point(Ct,o),a.point(Ct,0),a.point(Ct,-o),a.point(0,-o),a.point(-Ct,-o),a.point(-Ct,0),a.point(-Ct,o);else if(kt(t[0]-e[0])>dt){var c=t[0]<e[0]?Ct:-Ct;a.point(-c,o=i*c/2),a.point(0,o),a.point(c,o)}else a.point(e[0],e[1])},[-Ct,-Kt]);function $h(t){var e=ft(t),i=6*pt,a=e>0,o=kt(e)>dt;function l(p,m){return ft(p)*ft(m)>e}function h(p,m,_){var b=[1,0,0],A=Yi(ci(p),ci(m)),C=co(A,A),k=A[0],M=C-k*k;if(!M)return!_&&p;var E=e*C/M,$=-e*k/M,I=Yi(b,A),N=uo(b,E);Cc(N,uo(A,$));var H=I,U=co(N,H),B=co(H,H),R=U*U-B*(co(N,N)-1);if(!(R<0)){var F=re(R),Q=uo(H,(-U-F)/B);if(Cc(Q,N),Q=so(Q),!_)return Q;var lt,D=p[0],j=m[0],ct=p[1],at=m[1];j<D&&(lt=D,D=j,j=lt);var bt=j-D,wt=kt(bt-Ct)<dt;if(!wt&&at<ct&&(lt=ct,ct=at,at=lt),wt||bt<dt?wt?ct+at>0^Q[1]<(kt(Q[0]-D)<dt?ct:at):ct<=Q[1]&&Q[1]<=at:bt>Ct^(D<=Q[0]&&Q[0]<=j)){var It=uo(H,(-U+F)/B);return Cc(It,N),[Q,so(It)]}}}function d(p,m){var _=a?t:Ct-t,v=0;return p<-_?v|=1:p>_&&(v|=2),m<-_?v|=4:m>_&&(v|=8),v}return Vh(l,function f(p){var m,_,v,S,b;return{lineStart:function(){S=v=!1,b=1},point:function(A,C){var M,k=[A,C],E=l(A,C),$=a?E?0:d(A,C):E?d(A+(A<0?Ct:-Ct),C):0;if(!m&&(S=v=E)&&p.lineStart(),E!==v&&(!(M=h(m,k))||xo(m,M)||xo(k,M))&&(k[2]=1),E!==v)b=0,E?(p.lineStart(),M=h(k,m),p.point(M[0],M[1])):(M=h(m,k),p.point(M[0],M[1],2),p.lineEnd()),m=M;else if(o&&m&&a^E){var I;!($&_)&&(I=h(k,m,!0))&&(b=0,a?(p.lineStart(),p.point(I[0][0],I[0][1]),p.point(I[1][0],I[1][1]),p.lineEnd()):(p.point(I[1][0],I[1][1]),p.lineEnd(),p.lineStart(),p.point(I[0][0],I[0][1],3)))}E&&(!m||!xo(m,k))&&p.point(k[0],k[1]),m=k,v=E,_=$},lineEnd:function(){v&&p.lineEnd(),m=null},clean:function(){return b|(S&&v)<<1}}},function c(p,m,_,v){Lh(v,t,i,_,p,m)},a?[0,-t]:[-Ct,t-Ct])}var Lr=1e9,bo=-Lr;function wo(t,e,i,a){function o(d,p){return t<=d&&d<=i&&e<=p&&p<=a}function c(d,p,m,_){var v=0,S=0;if(null==d||(v=l(d,m))!==(S=l(p,m))||h(d,p)<0^m>0)do{_.point(0===v||3===v?t:i,v>1?a:e)}while((v=(v+m+4)%4)!==S);else _.point(p[0],p[1])}function l(d,p){return kt(d[0]-t)<dt?p>0?0:3:kt(d[0]-i)<dt?p>0?2:1:kt(d[1]-e)<dt?p>0?1:0:p>0?3:2}function f(d,p){return h(d.x,p.x)}function h(d,p){var m=l(d,1),_=l(p,1);return m!==_?m-_:0===m?p[1]-d[1]:1===m?d[0]-p[0]:2===m?d[1]-p[1]:p[0]-d[0]}return function(d){var _,v,S,b,A,C,k,M,E,$,I,p=d,m=Eh(),N={point:W,lineStart:function R(){N.point=Q,v&&v.push(S=[]),$=!0,E=!1,k=M=NaN},lineEnd:function F(){_&&(Q(b,A),C&&E&&m.rejoin(),_.push(m.result())),N.point=W,E&&p.lineEnd()},polygonStart:function U(){p=m,_=[],v=[],I=!0},polygonEnd:function B(){var D=function H(){for(var D=0,j=0,ct=v.length;j<ct;++j)for(var Xt,It,at=v[j],lt=1,bt=at.length,wt=at[0],Gt=wt[0],ee=wt[1];lt<bt;++lt)Xt=Gt,It=ee,Gt=(wt=at[lt])[0],ee=wt[1],It<=a?ee>a&&(Gt-Xt)*(a-It)>(ee-It)*(t-Xt)&&++D:ee<=a&&(Gt-Xt)*(a-It)<(ee-It)*(t-Xt)&&--D;return D}(),j=I&&D,ct=(_=yt(_)).length;(j||ct)&&(d.polygonStart(),j&&(d.lineStart(),c(null,null,1,d),d.lineEnd()),ct&&kh(_,f,D,c,d),d.polygonEnd()),p=d,_=v=S=null}};function W(D,j){o(D,j)&&p.point(D,j)}function Q(D,j){var ct=o(D,j);if(v&&S.push([D,j]),$)b=D,A=j,C=ct,$=!1,ct&&(p.lineStart(),p.point(D,j));else if(ct&&E)p.point(D,j);else{var at=[k=Math.max(bo,Math.min(Lr,k)),M=Math.max(bo,Math.min(Lr,M))],lt=[D=Math.max(bo,Math.min(Lr,D)),j=Math.max(bo,Math.min(Lr,j))];!function Sv(t,e,i,a,o,c){var S,l=t[0],f=t[1],p=0,m=1,_=e[0]-l,v=e[1]-f;if(S=i-l,_||!(S>0)){if(S/=_,_<0){if(S<p)return;S<m&&(m=S)}else if(_>0){if(S>m)return;S>p&&(p=S)}if(S=o-l,_||!(S<0)){if(S/=_,_<0){if(S>m)return;S>p&&(p=S)}else if(_>0){if(S<p)return;S<m&&(m=S)}if(S=a-f,v||!(S>0)){if(S/=v,v<0){if(S<p)return;S<m&&(m=S)}else if(v>0){if(S>m)return;S>p&&(p=S)}if(S=c-f,v||!(S<0)){if(S/=v,v<0){if(S>m)return;S>p&&(p=S)}else if(v>0){if(S<p)return;S<m&&(m=S)}return p>0&&(t[0]=l+p*_,t[1]=f+p*v),m<1&&(e[0]=l+m*_,e[1]=f+m*v),!0}}}}}(at,lt,t,e,i,a)?ct&&(p.lineStart(),p.point(D,j),I=!1):(E||(p.lineStart(),p.point(at[0],at[1])),p.point(lt[0],lt[1]),ct||p.lineEnd(),I=!1)}k=D,M=j,E=ct}return N}}function Tv(){var o,c,l,t=0,e=0,i=960,a=500;return l={stream:function(f){return o&&c===f?o:o=wo(t,e,i,a)(c=f)},extent:function(f){return arguments.length?(t=+f[0][0],e=+f[0][1],i=+f[1][0],a=+f[1][1],o=c=null,l):[[t,e],[i,a]]}}}var Ic,So,To,Dc=zn(),Hi={sphere:jt,point:jt,lineStart:function Av(){Hi.point=Pv,Hi.lineEnd=Cv},lineEnd:jt,polygonStart:jt,polygonEnd:jt};function Cv(){Hi.point=Hi.lineEnd=jt}function Pv(t,e){Ic=t*=pt,So=st(e*=pt),To=ft(e),Hi.point=Mv}function Mv(t,e){t*=pt;var i=st(e*=pt),a=ft(e),o=kt(t-Ic),c=ft(o),f=a*st(o),h=To*i-So*a*c,d=So*i+To*a*c;Dc.add(Me(re(f*f+h*h),d)),Ic=t,So=i,To=a}function Nh(t){return Dc.reset(),on(t,Hi),+Dc}var Fc=[null,null],Lv={type:"LineString",coordinates:Fc};function Ao(t,e){return Fc[0]=t,Fc[1]=e,Nh(Lv)}var Dh={Feature:function(t,e){return Co(t.geometry,e)},FeatureCollection:function(t,e){for(var i=t.features,a=-1,o=i.length;++a<o;)if(Co(i[a].geometry,e))return!0;return!1}},Ih={Sphere:function(){return!0},Point:function(t,e){return Fh(t.coordinates,e)},MultiPoint:function(t,e){for(var i=t.coordinates,a=-1,o=i.length;++a<o;)if(Fh(i[a],e))return!0;return!1},LineString:function(t,e){return zh(t.coordinates,e)},MultiLineString:function(t,e){for(var i=t.coordinates,a=-1,o=i.length;++a<o;)if(zh(i[a],e))return!0;return!1},Polygon:function(t,e){return Yh(t.coordinates,e)},MultiPolygon:function(t,e){for(var i=t.coordinates,a=-1,o=i.length;++a<o;)if(Yh(i[a],e))return!0;return!1},GeometryCollection:function(t,e){for(var i=t.geometries,a=-1,o=i.length;++a<o;)if(Co(i[a],e))return!0;return!1}};function Co(t,e){return!(!t||!Ih.hasOwnProperty(t.type))&&Ih[t.type](t,e)}function Fh(t,e){return 0===Ao(t,e)}function zh(t,e){for(var i,a,o,c=0,l=t.length;c<l;c++){if(0===(a=Ao(t[c],e))||c>0&&(o=Ao(t[c],t[c-1]))>0&&i<=o&&a<=o&&(i+a-o)*(1-Math.pow((i-a)/o,2))<to*o)return!0;i=a}return!1}function Yh(t,e){return!!Gh(t.map(Ov),Bh(e))}function Ov(t){return(t=t.map(Bh)).pop(),t}function Bh(t){return[t[0]*pt,t[1]*pt]}function Ev(t,e){return(t&&Dh.hasOwnProperty(t.type)?Dh[t.type]:Co)(t,e)}function Xh(t,e,i){var a=u(t,e-dt,i).concat(e);return function(o){return a.map(function(c){return[o,c]})}}function Hh(t,e,i){var a=u(t,e-dt,i).concat(e);return function(o){return a.map(function(c){return[c,o]})}}function Uh(){var t,e,i,a,o,c,l,f,_,v,S,b,h=10,d=h,p=90,m=360,A=2.5;function C(){return{type:"MultiLineString",coordinates:k()}}function k(){return u(no(a/p)*p,i,p).map(S).concat(u(no(f/m)*m,l,m).map(b)).concat(u(no(e/h)*h,t,h).filter(function(M){return kt(M%p)>dt}).map(_)).concat(u(no(c/d)*d,o,d).filter(function(M){return kt(M%m)>dt}).map(v))}return C.lines=function(){return k().map(function(M){return{type:"LineString",coordinates:M}})},C.outline=function(){return{type:"Polygon",coordinates:[S(a).concat(b(l).slice(1),S(i).reverse().slice(1),b(f).reverse().slice(1))]}},C.extent=function(M){return arguments.length?C.extentMajor(M).extentMinor(M):C.extentMinor()},C.extentMajor=function(M){return arguments.length?(f=+M[0][1],l=+M[1][1],(a=+M[0][0])>(i=+M[1][0])&&(M=a,a=i,i=M),f>l&&(M=f,f=l,l=M),C.precision(A)):[[a,f],[i,l]]},C.extentMinor=function(M){return arguments.length?(c=+M[0][1],o=+M[1][1],(e=+M[0][0])>(t=+M[1][0])&&(M=e,e=t,t=M),c>o&&(M=c,c=o,o=M),C.precision(A)):[[e,c],[t,o]]},C.step=function(M){return arguments.length?C.stepMajor(M).stepMinor(M):C.stepMinor()},C.stepMajor=function(M){return arguments.length?(p=+M[0],m=+M[1],C):[p,m]},C.stepMinor=function(M){return arguments.length?(h=+M[0],d=+M[1],C):[h,d]},C.precision=function(M){return arguments.length?(A=+M,_=Xh(c,o,90),v=Hh(e,t,A),S=Xh(f,l,90),b=Hh(a,i,A),C):A},C.extentMajor([[-180,-90+dt],[180,90-dt]]).extentMinor([[-180,-80-dt],[180,80+dt]])}function kv(){return Uh()()}function Rv(t,e){var i=t[0]*pt,a=t[1]*pt,o=e[0]*pt,c=e[1]*pt,l=ft(a),f=st(a),h=ft(c),d=st(c),p=l*ft(i),m=l*st(i),_=h*ft(o),v=h*st(o),S=2*Le(re(oh(c-a)+l*h*oh(o-i))),b=st(S),A=S?function(C){var k=st(C*=S)/b,M=st(S-C)/b,E=M*p+k*_,$=M*m+k*v,I=M*f+k*d;return[Me($,E)*Ft,Me(I,re(E*E+$*$))*Ft]}:function(){return[i*Ft,a*Ft]};return A.distance=S,A}function Or(t){return t}var Wh,qh,Bc,Xc,zc=zn(),Yc=zn(),Bn={point:jt,lineStart:jt,lineEnd:jt,polygonStart:function(){Bn.lineStart=Gv,Bn.lineEnd=$v},polygonEnd:function(){Bn.lineStart=Bn.lineEnd=Bn.point=jt,zc.add(kt(Yc)),Yc.reset()},result:function(){var t=zc/2;return zc.reset(),t}};function Gv(){Bn.point=Vv}function Vv(t,e){Bn.point=jh,Wh=Bc=t,qh=Xc=e}function jh(t,e){Yc.add(Xc*t-Bc*e),Bc=t,Xc=e}function $v(){jh(Wh,qh)}const Qh=Bn;var Ui=1/0,Po=Ui,Er=-Ui,Mo=Er;const Lo={point:function Dv(t,e){t<Ui&&(Ui=t),t>Er&&(Er=t),e<Po&&(Po=e),e>Mo&&(Mo=e)},lineStart:jt,lineEnd:jt,polygonStart:jt,polygonEnd:jt,result:function(){var t=[[Ui,Po],[Er,Mo]];return Er=Mo=-(Po=Ui=1/0),t}};var Zh,Kh,bn,wn,Hc=0,Uc=0,kr=0,Oo=0,Eo=0,Wi=0,Wc=0,qc=0,Rr=0,cn={point:li,lineStart:Jh,lineEnd:td,polygonStart:function(){cn.lineStart=zv,cn.lineEnd=Yv},polygonEnd:function(){cn.point=li,cn.lineStart=Jh,cn.lineEnd=td},result:function(){var t=Rr?[Wc/Rr,qc/Rr]:Wi?[Oo/Wi,Eo/Wi]:kr?[Hc/kr,Uc/kr]:[NaN,NaN];return Hc=Uc=kr=Oo=Eo=Wi=Wc=qc=Rr=0,t}};function li(t,e){Hc+=t,Uc+=e,++kr}function Jh(){cn.point=Iv}function Iv(t,e){cn.point=Fv,li(bn=t,wn=e)}function Fv(t,e){var i=t-bn,a=e-wn,o=re(i*i+a*a);Oo+=o*(bn+t)/2,Eo+=o*(wn+e)/2,Wi+=o,li(bn=t,wn=e)}function td(){cn.point=li}function zv(){cn.point=Bv}function Yv(){ed(Zh,Kh)}function Bv(t,e){cn.point=ed,li(Zh=bn=t,Kh=wn=e)}function ed(t,e){var i=t-bn,a=e-wn,o=re(i*i+a*a);Oo+=o*(bn+t)/2,Eo+=o*(wn+e)/2,Wi+=o,Wc+=(o=wn*t-bn*e)*(bn+t),qc+=o*(wn+e),Rr+=3*o,li(bn=t,wn=e)}const nd=cn;function id(t){this._context=t}id.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Pe)}},result:jt};var Qc,rd,ad,Gr,Vr,jc=zn(),ko={point:jt,lineStart:function(){ko.point=Xv},lineEnd:function(){Qc&&od(rd,ad),ko.point=jt},polygonStart:function(){Qc=!0},polygonEnd:function(){Qc=null},result:function(){var t=+jc;return jc.reset(),t}};function Xv(t,e){ko.point=od,rd=Gr=t,ad=Vr=e}function od(t,e){jc.add(re((Gr-=t)*Gr+(Vr-=e)*Vr)),Gr=t,Vr=e}const sd=ko;function cd(){this._string=[]}function ud(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Hv(t,e){var a,o,i=4.5;function c(l){return l&&("function"==typeof i&&o.pointRadius(+i.apply(this,arguments)),on(l,a(o))),o.result()}return c.area=function(l){return on(l,a(Qh)),Qh.result()},c.measure=function(l){return on(l,a(sd)),sd.result()},c.bounds=function(l){return on(l,a(Lo)),Lo.result()},c.centroid=function(l){return on(l,a(nd)),nd.result()},c.projection=function(l){return arguments.length?(a=null==l?(t=null,Or):(t=l).stream,c):t},c.context=function(l){return arguments.length?(o=null==l?(e=null,new cd):new id(e=l),"function"!=typeof i&&o.pointRadius(i),c):e},c.pointRadius=function(l){return arguments.length?(i="function"==typeof l?l:(o.pointRadius(+l),+l),c):i},c.projection(t).context(e)}function Uv(t){return{stream:$r(t)}}function $r(t){return function(e){var i=new Zc;for(var a in t)i[a]=t[a];return i.stream=e,i}}function Zc(){}function Kc(t,e,i){var a=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=a&&t.clipExtent(null),on(i,t.stream(Lo)),e(Lo.result()),null!=a&&t.clipExtent(a),t}function Ro(t,e,i){return Kc(t,function(a){var o=e[1][0]-e[0][0],c=e[1][1]-e[0][1],l=Math.min(o/(a[1][0]-a[0][0]),c/(a[1][1]-a[0][1])),f=+e[0][0]+(o-l*(a[1][0]+a[0][0]))/2,h=+e[0][1]+(c-l*(a[1][1]+a[0][1]))/2;t.scale(150*l).translate([f,h])},i)}function Jc(t,e,i){return Ro(t,[[0,0],e],i)}function tu(t,e,i){return Kc(t,function(a){var o=+e,c=o/(a[1][0]-a[0][0]),l=(o-c*(a[1][0]+a[0][0]))/2,f=-c*a[0][1];t.scale(150*c).translate([l,f])},i)}function eu(t,e,i){return Kc(t,function(a){var o=+e,c=o/(a[1][1]-a[0][1]),l=-c*a[0][0],f=(o-c*(a[1][1]+a[0][1]))/2;t.scale(150*c).translate([l,f])},i)}cd.prototype={_radius:4.5,_circle:ud(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=ud(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},Zc.prototype={constructor:Zc,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var ld=16,Wv=ft(30*pt);function fd(t,e){return+e?function jv(t,e){function i(a,o,c,l,f,h,d,p,m,_,v,S,b,A){var C=d-a,k=p-o,M=C*C+k*k;if(M>4*e&&b--){var E=l+_,$=f+v,I=h+S,N=re(E*E+$*$+I*I),W=Le(I/=N),H=kt(kt(I)-1)<dt||kt(c-m)<dt?(c+m)/2:Me($,E),U=t(H,W),B=U[0],R=U[1],F=B-a,Q=R-o,D=k*F-C*Q;(D*D/M>e||kt((C*F+k*Q)/M-.5)>.3||l*_+f*v+h*S<Wv)&&(i(a,o,c,l,f,h,B,R,H,E/=N,$/=N,I,b,A),A.point(B,R),i(B,R,H,E,$,I,d,p,m,_,v,S,b,A))}}return function(a){var o,c,l,f,h,d,p,m,_,v,S,b,A={point:C,lineStart:k,lineEnd:E,polygonStart:function(){a.polygonStart(),A.lineStart=$},polygonEnd:function(){a.polygonEnd(),A.lineStart=k}};function C(W,H){W=t(W,H),a.point(W[0],W[1])}function k(){m=NaN,A.point=M,a.lineStart()}function M(W,H){var U=ci([W,H]),B=t(W,H);i(m,_,p,v,S,b,m=B[0],_=B[1],p=W,v=U[0],S=U[1],b=U[2],ld,a),a.point(m,_)}function E(){A.point=C,a.lineEnd()}function $(){k(),A.point=I,A.lineEnd=N}function I(W,H){M(o=W,H),c=m,l=_,f=v,h=S,d=b,A.point=M}function N(){i(m,_,p,v,S,b,c,l,o,f,h,d,ld,a),A.lineEnd=E,E()}return A}}(t,e):function qv(t){return $r({point:function(e,i){e=t(e,i),this.stream.point(e[0],e[1])}})}(t)}var Qv=$r({point:function(t,e){this.stream.point(t*pt,e*pt)}});function Kv(t,e,i,a,o){function c(l,f){return[e+t*(l*=a),i-t*(f*=o)]}return c.invert=function(l,f){return[(l-e)/t*a,(i-f)/t*o]},c}function hd(t,e,i,a,o,c){var l=ft(c),f=st(c),h=l*t,d=f*t,p=l/t,m=f/t,_=(f*i-l*e)/t,v=(f*e+l*i)/t;function S(b,A){return[h*(b*=a)-d*(A*=o)+e,i-d*b-h*A]}return S.invert=function(b,A){return[a*(p*b-m*A+_),o*(v-m*b-p*A)]},S}function Sn(t){return nu(function(){return t})()}function nu(t){var e,p,C,k,M,I,N,W,H,U,i=150,a=480,o=250,c=0,l=0,f=0,h=0,d=0,m=0,_=1,v=1,S=null,b=Nc,A=null,E=Or,$=.5;function B(D){return W(D[0]*pt,D[1]*pt)}function R(D){return(D=W.invert(D[0],D[1]))&&[D[0]*Ft,D[1]*Ft]}function F(){var D=hd(i,0,0,_,v,m).apply(null,e(c,l)),j=(m?hd:Kv)(i,a-D[0],o-D[1],_,v,m);return p=Gc(f,h,d),N=kc(e,j),W=kc(p,N),I=fd(N,$),Q()}function Q(){return H=U=null,B}return B.stream=function(D){return H&&U===D?H:H=Qv(function Zv(t){return $r({point:function(e,i){var a=t(e,i);return this.stream.point(a[0],a[1])}})}(p)(b(I(E(U=D)))))},B.preclip=function(D){return arguments.length?(b=D,S=void 0,Q()):b},B.postclip=function(D){return arguments.length?(E=D,A=C=k=M=null,Q()):E},B.clipAngle=function(D){return arguments.length?(b=+D?$h(S=D*pt):(S=null,Nc),Q()):S*Ft},B.clipExtent=function(D){return arguments.length?(E=null==D?(A=C=k=M=null,Or):wo(A=+D[0][0],C=+D[0][1],k=+D[1][0],M=+D[1][1]),Q()):null==A?null:[[A,C],[k,M]]},B.scale=function(D){return arguments.length?(i=+D,F()):i},B.translate=function(D){return arguments.length?(a=+D[0],o=+D[1],F()):[a,o]},B.center=function(D){return arguments.length?(c=D[0]%360*pt,l=D[1]%360*pt,F()):[c*Ft,l*Ft]},B.rotate=function(D){return arguments.length?(f=D[0]%360*pt,h=D[1]%360*pt,d=D.length>2?D[2]%360*pt:0,F()):[f*Ft,h*Ft,d*Ft]},B.angle=function(D){return arguments.length?(m=D%360*pt,F()):m*Ft},B.reflectX=function(D){return arguments.length?(_=D?-1:1,F()):_<0},B.reflectY=function(D){return arguments.length?(v=D?-1:1,F()):v<0},B.precision=function(D){return arguments.length?(I=fd(N,$=D*D),Q()):re($)},B.fitExtent=function(D,j){return Ro(B,D,j)},B.fitSize=function(D,j){return Jc(B,D,j)},B.fitWidth=function(D,j){return tu(B,D,j)},B.fitHeight=function(D,j){return eu(B,D,j)},function(){return e=t.apply(this,arguments),B.invert=e.invert&&R,F()}}function iu(t){var e=0,i=Ct/3,a=nu(t),o=a(e,i);return o.parallels=function(c){return arguments.length?a(e=c[0]*pt,i=c[1]*pt):[e*Ft,i*Ft]},o}function dd(t,e){var i=st(t),a=(i+st(e))/2;if(kt(a)<dt)return function Jv(t){var e=ft(t);function i(a,o){return[a*e,st(o)/e]}return i.invert=function(a,o){return[a/e,Le(o*e)]},i}(t);var o=1+i*(2*a-i),c=re(o)/a;function l(f,h){var d=re(o-2*a*st(h))/a;return[d*st(f*=a),c-d*ft(f)]}return l.invert=function(f,h){var d=c-h,p=Me(f,kt(d))*je(d);return d*a<0&&(p-=Ct*je(f)*je(d)),[p/a,Le((o-(f*f+d*d)*a*a)/(2*a))]},l}function Go(){return iu(dd).scale(155.424).center([0,33.6442])}function gd(){return Go().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function eb(){var t,e,a,c,f,h,i=gd(),o=Go().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=Go().rotate([157,0]).center([-3,19.9]).parallels([8,18]),d={point:function(_,v){h=[_,v]}};function p(_){var v=_[0],S=_[1];return h=null,a.point(v,S),h||(c.point(v,S),h)||(f.point(v,S),h)}function m(){return t=e=null,p}return p.invert=function(_){var v=i.scale(),S=i.translate(),b=(_[0]-S[0])/v,A=(_[1]-S[1])/v;return(A>=.12&&A<.234&&b>=-.425&&b<-.214?o:A>=.166&&A<.234&&b>=-.214&&b<-.115?l:i).invert(_)},p.stream=function(_){return t&&e===_?t:t=function tb(t){var e=t.length;return{point:function(i,a){for(var o=-1;++o<e;)t[o].point(i,a)},sphere:function(){for(var i=-1;++i<e;)t[i].sphere()},lineStart:function(){for(var i=-1;++i<e;)t[i].lineStart()},lineEnd:function(){for(var i=-1;++i<e;)t[i].lineEnd()},polygonStart:function(){for(var i=-1;++i<e;)t[i].polygonStart()},polygonEnd:function(){for(var i=-1;++i<e;)t[i].polygonEnd()}}}([i.stream(e=_),o.stream(_),l.stream(_)])},p.precision=function(_){return arguments.length?(i.precision(_),o.precision(_),l.precision(_),m()):i.precision()},p.scale=function(_){return arguments.length?(i.scale(_),o.scale(.35*_),l.scale(_),p.translate(i.translate())):i.scale()},p.translate=function(_){if(!arguments.length)return i.translate();var v=i.scale(),S=+_[0],b=+_[1];return a=i.translate(_).clipExtent([[S-.455*v,b-.238*v],[S+.455*v,b+.238*v]]).stream(d),c=o.translate([S-.307*v,b+.201*v]).clipExtent([[S-.425*v+dt,b+.12*v+dt],[S-.214*v-dt,b+.234*v-dt]]).stream(d),f=l.translate([S-.205*v,b+.212*v]).clipExtent([[S-.214*v+dt,b+.166*v+dt],[S-.115*v-dt,b+.234*v-dt]]).stream(d),m()},p.fitExtent=function(_,v){return Ro(p,_,v)},p.fitSize=function(_,v){return Jc(p,_,v)},p.fitWidth=function(_,v){return tu(p,_,v)},p.fitHeight=function(_,v){return eu(p,_,v)},p.scale(1070)}function pd(t){return function(e,i){var a=ft(e),o=ft(i),c=t(a*o);return[c*o*st(e),c*st(i)]}}function Nr(t){return function(e,i){var a=re(e*e+i*i),o=t(a),c=st(o),l=ft(o);return[Me(e*c,a*l),Le(a&&i*c/a)]}}var ru=pd(function(t){return re(2/(1+t))});function nb(){return Sn(ru).scale(124.75).clipAngle(179.999)}ru.invert=Nr(function(t){return 2*Le(t/2)});var au=pd(function(t){return(t=ah(t))&&t/st(t)});function ib(){return Sn(au).scale(79.4188).clipAngle(179.999)}function Dr(t,e){return[t,io(bc((Kt+e)/2))]}function rb(){return _d(Dr).scale(961/Pe)}function _d(t){var f,h,d,e=Sn(t),i=e.center,a=e.scale,o=e.translate,c=e.clipExtent,l=null;function p(){var m=Ct*a(),_=e(Mh(e.rotate()).invert([0,0]));return c(null==l?[[_[0]-m,_[1]-m],[_[0]+m,_[1]+m]]:t===Dr?[[Math.max(_[0]-m,l),f],[Math.min(_[0]+m,h),d]]:[[l,Math.max(_[1]-m,f)],[h,Math.min(_[1]+m,d)]])}return e.scale=function(m){return arguments.length?(a(m),p()):a()},e.translate=function(m){return arguments.length?(o(m),p()):o()},e.center=function(m){return arguments.length?(i(m),p()):i()},e.clipExtent=function(m){return arguments.length?(null==m?l=f=h=d=null:(l=+m[0][0],f=+m[0][1],h=+m[1][0],d=+m[1][1]),p()):null==l?null:[[l,f],[h,d]]},p()}function Vo(t){return bc((Kt+t)/2)}function md(t,e){var i=ft(t),a=t===e?st(t):io(i/ft(e))/io(Vo(e)/Vo(t)),o=i*vc(Vo(t),a)/a;if(!a)return Dr;function c(l,f){o>0?f<-Kt+dt&&(f=-Kt+dt):f>Kt-dt&&(f=Kt-dt);var h=o/vc(Vo(f),a);return[h*st(a*l),o-h*ft(a*l)]}return c.invert=function(l,f){var h=o-f,d=je(a)*re(l*l+h*h),p=Me(l,kt(h))*je(h);return h*a<0&&(p-=Ct*je(l)*je(h)),[p/a,2*zi(vc(o/d,1/a))-Kt]},c}function ab(){return iu(md).scale(109.5).parallels([30,30])}function Ir(t,e){return[t,e]}function ob(){return Sn(Ir).scale(152.63)}function yd(t,e){var i=ft(t),a=t===e?st(t):(i-ft(e))/(e-t),o=i/a+t;if(kt(a)<dt)return Ir;function c(l,f){var h=o-f,d=a*l;return[h*st(d),o-h*ft(d)]}return c.invert=function(l,f){var h=o-f,d=Me(l,kt(h))*je(h);return h*a<0&&(d-=Ct*je(l)*je(h)),[d/a,o-je(a)*re(l*l+h*h)]},c}function sb(){return iu(yd).scale(131.154).center([0,13.9389])}au.invert=Nr(function(t){return t}),Dr.invert=function(t,e){return[t,2*zi(rh(e))-Kt]},Ir.invert=Ir;var Fr=1.340264,zr=-.081106,Yr=893e-6,Br=.003796,$o=re(3)/2;function ou(t,e){var i=Le($o*st(e)),a=i*i,o=a*a*a;return[t*ft(i)/($o*(Fr+3*zr*a+o*(7*Yr+9*Br*a))),i*(Fr+zr*a+o*(Yr+Br*a))]}function ub(){return Sn(ou).scale(177.158)}function su(t,e){var i=ft(e),a=ft(t)*i;return[i*st(t)/a,st(e)/a]}function lb(){return Sn(su).scale(144.049).clipAngle(60)}function fb(){var l,f,d,p,m,A,C,t=1,e=0,i=0,a=1,o=1,c=0,h=null,_=1,v=1,S=$r({point:function(E,$){var I=M([E,$]);this.stream.point(I[0],I[1])}}),b=Or;function k(){return _=t*a,v=t*o,A=C=null,M}function M(E){var $=E[0]*_,I=E[1]*v;if(c){var N=I*l-$*f;$=$*l+I*f,I=N}return[$+e,I+i]}return M.invert=function(E){var $=E[0]-e,I=E[1]-i;if(c){var N=I*l+$*f;$=$*l-I*f,I=N}return[$/_,I/v]},M.stream=function(E){return A&&C===E?A:A=S(b(C=E))},M.postclip=function(E){return arguments.length?(b=E,h=d=p=m=null,k()):b},M.clipExtent=function(E){return arguments.length?(b=null==E?(h=d=p=m=null,Or):wo(h=+E[0][0],d=+E[0][1],p=+E[1][0],m=+E[1][1]),k()):null==h?null:[[h,d],[p,m]]},M.scale=function(E){return arguments.length?(t=+E,k()):t},M.translate=function(E){return arguments.length?(e=+E[0],i=+E[1],k()):[e,i]},M.angle=function(E){return arguments.length?(f=st(c=E%360*pt),l=ft(c),k()):c*Ft},M.reflectX=function(E){return arguments.length?(a=E?-1:1,k()):a<0},M.reflectY=function(E){return arguments.length?(o=E?-1:1,k()):o<0},M.fitExtent=function(E,$){return Ro(M,E,$)},M.fitSize=function(E,$){return Jc(M,E,$)},M.fitWidth=function(E,$){return tu(M,E,$)},M.fitHeight=function(E,$){return eu(M,E,$)},M}function cu(t,e){var i=e*e,a=i*i;return[t*(.8707-.131979*i+a*(a*(.003971*i-.001529*a)-.013791)),e*(1.007226+i*(.015085+a*(.028874*i-.044475-.005916*a)))]}function hb(){return Sn(cu).scale(175.295)}function uu(t,e){return[ft(e)*st(t),st(e)]}function db(){return Sn(uu).scale(249.5).clipAngle(90+dt)}function lu(t,e){var i=ft(e),a=1+ft(t)*i;return[i*st(t)/a,st(e)/a]}function gb(){return Sn(lu).scale(250).clipAngle(142)}function fu(t,e){return[io(bc((Kt+e)/2)),-t]}function pb(){var t=_d(fu),e=t.center,i=t.rotate;return t.center=function(a){return arguments.length?e([-a[1],a[0]]):[(a=e())[1],-a[0]]},t.rotate=function(a){return arguments.length?i([a[0],a[1],a.length>2?a[2]+90:90]):[(a=i())[0],a[1],a[2]-90]},i([0,0,90]).scale(159.155)}function _b(t,e){return t.parent===e.parent?1:2}function yb(t,e){return t+e.x}function vb(t,e){return Math.max(t,e.y)}function Sb(){var t=_b,e=1,i=1,a=!1;function o(c){var l,f=0;c.eachAfter(function(_){var v=_.children;v?(_.x=function mb(t){return t.reduce(yb,0)/t.length}(v),_.y=function xb(t){return 1+t.reduce(vb,0)}(v)):(_.x=l?f+=t(_,l):0,_.y=0,l=_)});var h=function bb(t){for(var e;e=t.children;)t=e[0];return t}(c),d=function wb(t){for(var e;e=t.children;)t=e[e.length-1];return t}(c),p=h.x-t(h,d)/2,m=d.x+t(d,h)/2;return c.eachAfter(a?function(_){_.x=(_.x-c.x)*e,_.y=(c.y-_.y)*i}:function(_){_.x=(_.x-p)/(m-p)*e,_.y=(1-(c.y?_.y/c.y:1))*i})}return o.separation=function(c){return arguments.length?(t=c,o):t},o.size=function(c){return arguments.length?(a=!1,e=+c[0],i=+c[1],o):a?null:[e,i]},o.nodeSize=function(c){return arguments.length?(a=!0,e=+c[0],i=+c[1],o):a?[e,i]:null},o}function Tb(t){var e=0,i=t.children,a=i&&i.length;if(a)for(;--a>=0;)e+=i[a].value;else e=1;t.value=e}function hu(t,e){var o,l,f,h,d,i=new qi(t),a=+t.value&&(i.value=t.value),c=[i];for(null==e&&(e=Db);o=c.pop();)if(a&&(o.value=+o.data.value),(f=e(o.data))&&(d=f.length))for(o.children=new Array(d),h=d-1;h>=0;--h)c.push(l=o.children[h]=new qi(f[h])),l.parent=o,l.depth=o.depth+1;return i.eachBefore(xd)}function Db(t){return t.children}function Ib(t){t.data=t.data.data}function xd(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function qi(t){this.data=t,this.depth=this.height=0,this.parent=null}ou.invert=function(t,e){for(var l,i=e,a=i*i,o=a*a*a,c=0;c<12&&(o=(a=(i-=l=(i*(Fr+zr*a+o*(Yr+Br*a))-e)/(Fr+3*zr*a+o*(7*Yr+9*Br*a)))*i)*a*a,!(kt(l)<to));++c);return[$o*t*(Fr+3*zr*a+o*(7*Yr+9*Br*a))/ft(i),Le(st(i)/$o)]},su.invert=Nr(zi),cu.invert=function(t,e){var o,i=e,a=25;do{var c=i*i,l=c*c;i-=o=(i*(1.007226+c*(.015085+l*(.028874*c-.044475-.005916*l)))-e)/(1.007226+c*(.045255+l*(.259866*c-.311325-.005916*11*l)))}while(kt(o)>dt&&--a>0);return[t/(.8707+(c=i*i)*(c*(c*c*c*(.003971-.001529*c)-.013791)-.131979)),i]},uu.invert=Nr(Le),lu.invert=Nr(function(t){return 2*zi(t)}),fu.invert=function(t,e){return[-e,2*zi(rh(t))-Kt]},qi.prototype=hu.prototype={constructor:qi,count:function Ab(){return this.eachAfter(Tb)},each:function Cb(t){var i,o,c,l,e=this,a=[e];do{for(i=a.reverse(),a=[];e=i.pop();)if(t(e),o=e.children)for(c=0,l=o.length;c<l;++c)a.push(o[c])}while(a.length);return this},eachAfter:function Mb(t){for(var o,c,l,e=this,i=[e],a=[];e=i.pop();)if(a.push(e),o=e.children)for(c=0,l=o.length;c<l;++c)i.push(o[c]);for(;e=a.pop();)t(e);return this},eachBefore:function Pb(t){for(var a,o,e=this,i=[e];e=i.pop();)if(t(e),a=e.children)for(o=a.length-1;o>=0;--o)i.push(a[o]);return this},sum:function Lb(t){return this.eachAfter(function(e){for(var i=+t(e.data)||0,a=e.children,o=a&&a.length;--o>=0;)i+=a[o].value;e.value=i})},sort:function Ob(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},path:function Eb(t){for(var e=this,i=function kb(t,e){if(t===e)return t;var i=t.ancestors(),a=e.ancestors(),o=null;for(t=i.pop(),e=a.pop();t===e;)o=t,t=i.pop(),e=a.pop();return o}(e,t),a=[e];e!==i;)a.push(e=e.parent);for(var o=a.length;t!==i;)a.splice(o,0,t),t=t.parent;return a},ancestors:function Rb(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function Gb(){var t=[];return this.each(function(e){t.push(e)}),t},leaves:function Vb(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},links:function $b(){var t=this,e=[];return t.each(function(i){i!==t&&e.push({source:i.parent,target:i})}),e},copy:function Nb(){return hu(this).eachBefore(Ib)}};var Fb=Array.prototype.slice;function vd(t){for(var o,c,e=0,i=(t=function zb(t){for(var i,a,e=t.length;e;)a=Math.random()*e--|0,i=t[e],t[e]=t[a],t[a]=i;return t}(Fb.call(t))).length,a=[];e<i;)o=t[e],c&&bd(c,o)?++e:(c=Bb(a=Yb(a,o)),e=0);return c}function Yb(t,e){var i,a;if(du(e,t))return[e];for(i=0;i<t.length;++i)if(No(e,t[i])&&du(Xr(t[i],e),t))return[t[i],e];for(i=0;i<t.length-1;++i)for(a=i+1;a<t.length;++a)if(No(Xr(t[i],t[a]),e)&&No(Xr(t[i],e),t[a])&&No(Xr(t[a],e),t[i])&&du(wd(t[i],t[a],e),t))return[t[i],t[a],e];throw new Error}function No(t,e){var i=t.r-e.r,a=e.x-t.x,o=e.y-t.y;return i<0||i*i<a*a+o*o}function bd(t,e){var i=t.r-e.r+1e-6,a=e.x-t.x,o=e.y-t.y;return i>0&&i*i>a*a+o*o}function du(t,e){for(var i=0;i<e.length;++i)if(!bd(t,e[i]))return!1;return!0}function Bb(t){switch(t.length){case 1:return function Xb(t){return{x:t.x,y:t.y,r:t.r}}(t[0]);case 2:return Xr(t[0],t[1]);case 3:return wd(t[0],t[1],t[2])}}function Xr(t,e){var i=t.x,a=t.y,o=t.r,c=e.x,l=e.y,f=e.r,h=c-i,d=l-a,p=f-o,m=Math.sqrt(h*h+d*d);return{x:(i+c+h/m*p)/2,y:(a+l+d/m*p)/2,r:(m+o+f)/2}}function wd(t,e,i){var a=t.x,o=t.y,c=t.r,l=e.x,f=e.y,h=e.r,d=i.x,p=i.y,m=i.r,_=a-l,v=a-d,S=o-f,b=o-p,A=h-c,C=m-c,k=a*a+o*o-c*c,M=k-l*l-f*f+h*h,E=k-d*d-p*p+m*m,$=v*S-_*b,I=(S*E-b*M)/(2*$)-a,N=(b*A-S*C)/$,W=(v*M-_*E)/(2*$)-o,H=(_*C-v*A)/$,U=N*N+H*H-1,B=2*(c+I*N+W*H),R=I*I+W*W-c*c,F=-(U?(B+Math.sqrt(B*B-4*U*R))/(2*U):R/B);return{x:a+I+N*F,y:o+W+H*F,r:F}}function Sd(t,e,i){var o,c,f,h,a=t.x-e.x,l=t.y-e.y,d=a*a+l*l;d?(c=e.r+i.r,h=t.r+i.r,(c*=c)>(h*=h)?(o=(d+h-c)/(2*d),f=Math.sqrt(Math.max(0,h/d-o*o)),i.x=t.x-o*a-f*l,i.y=t.y-o*l+f*a):(o=(d+c-h)/(2*d),f=Math.sqrt(Math.max(0,c/d-o*o)),i.x=e.x+o*a-f*l,i.y=e.y+o*l+f*a)):(i.x=e.x+i.r,i.y=e.y)}function Td(t,e){var i=t.r+e.r-1e-6,a=e.x-t.x,o=e.y-t.y;return i>0&&i*i>a*a+o*o}function Ad(t){var e=t._,i=t.next._,a=e.r+i.r,o=(e.x*i.r+i.x*e.r)/a,c=(e.y*i.r+i.y*e.r)/a;return o*o+c*c}function Do(t){this._=t,this.next=null,this.previous=null}function Cd(t){if(!(o=t.length))return 0;var e,i,a,o,c,l,f,h,d,p,m;if((e=t[0]).x=0,e.y=0,!(o>1))return e.r;if(e.x=-(i=t[1]).r,i.x=e.r,i.y=0,!(o>2))return e.r+i.r;Sd(i,e,a=t[2]),e=new Do(e),i=new Do(i),a=new Do(a),e.next=a.previous=i,i.next=e.previous=a,a.next=i.previous=e;t:for(f=3;f<o;++f){Sd(e._,i._,a=t[f]),a=new Do(a),h=i.next,d=e.previous,p=i._.r,m=e._.r;do{if(p<=m){if(Td(h._,a._)){e.next=i=h,i.previous=e,--f;continue t}p+=h._.r,h=h.next}else{if(Td(d._,a._)){(e=d).next=i,i.previous=e,--f;continue t}m+=d._.r,d=d.previous}}while(h!==d.next);for(a.previous=e,a.next=i,e.next=i.previous=i=a,c=Ad(e);(a=a.next)!==i;)(l=Ad(a))<c&&(e=a,c=l);i=e.next}for(e=[i._],a=i;(a=a.next)!==i;)e.push(a._);for(a=vd(e),f=0;f<o;++f)(e=t[f]).x-=a.x,e.y-=a.y;return a.r}function Hb(t){return Cd(t),t}function Io(t){if("function"!=typeof t)throw new Error;return t}function fi(){return 0}function ji(t){return function(){return t}}function Wb(t){return Math.sqrt(t.value)}function qb(){var t=null,e=1,i=1,a=fi;function o(c){return c.x=e/2,c.y=i/2,t?c.eachBefore(Pd(t)).eachAfter(gu(a,.5)).eachBefore(Md(1)):c.eachBefore(Pd(Wb)).eachAfter(gu(fi,1)).eachAfter(gu(a,c.r/Math.min(e,i))).eachBefore(Md(Math.min(e,i)/(2*c.r))),c}return o.radius=function(c){return arguments.length?(t=function Ub(t){return null==t?null:Io(t)}(c),o):t},o.size=function(c){return arguments.length?(e=+c[0],i=+c[1],o):[e,i]},o.padding=function(c){return arguments.length?(a="function"==typeof c?c:ji(+c),o):a},o}function Pd(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function gu(t,e){return function(i){if(a=i.children){var a,o,f,c=a.length,l=t(i)*e||0;if(l)for(o=0;o<c;++o)a[o].r+=l;if(f=Cd(a),l)for(o=0;o<c;++o)a[o].r-=l;i.r=f+l}}}function Md(t){return function(e){var i=e.parent;e.r*=t,i&&(e.x=i.x+t*e.x,e.y=i.y+t*e.y)}}function Ld(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function Hr(t,e,i,a,o){for(var l,c=t.children,f=-1,h=c.length,d=t.value&&(a-e)/t.value;++f<h;)(l=c[f]).y0=i,l.y1=o,l.x0=e,l.x1=e+=l.value*d}function jb(){var t=1,e=1,i=0,a=!1;function o(l){var f=l.height+1;return l.x0=l.y0=i,l.x1=t,l.y1=e/f,l.eachBefore(function c(l,f){return function(h){h.children&&Hr(h,h.x0,l*(h.depth+1)/f,h.x1,l*(h.depth+2)/f);var d=h.x0,p=h.y0,m=h.x1-i,_=h.y1-i;m<d&&(d=m=(d+m)/2),_<p&&(p=_=(p+_)/2),h.x0=d,h.y0=p,h.x1=m,h.y1=_}}(e,f)),a&&l.eachBefore(Ld),l}return o.round=function(l){return arguments.length?(a=!!l,o):a},o.size=function(l){return arguments.length?(t=+l[0],e=+l[1],o):[t,e]},o.padding=function(l){return arguments.length?(i=+l,o):i},o}var Od="$",Qb={depth:-1},Ed={};function Zb(t){return t.id}function Kb(t){return t.parentId}function Jb(){var t=Zb,e=Kb;function i(a){var o,c,f,h,d,m,_,l=a.length,p=new Array(l),v={};for(c=0;c<l;++c)d=p[c]=new qi(o=a[c]),null!=(m=t(o,c,a))&&(m+="")&&(v[_=Od+(d.id=m)]=_ in v?Ed:d);for(c=0;c<l;++c)if(d=p[c],null!=(m=e(a[c],c,a))&&(m+="")){if(!(h=v[Od+m]))throw new Error("missing: "+m);if(h===Ed)throw new Error("ambiguous: "+m);h.children?h.children.push(d):h.children=[d],d.parent=h}else{if(f)throw new Error("multiple roots");f=d}if(!f)throw new Error("no root");if(f.parent=Qb,f.eachBefore(function(S){S.depth=S.parent.depth+1,--l}).eachBefore(xd),f.parent=null,l>0)throw new Error("cycle");return f}return i.id=function(a){return arguments.length?(t=Io(a),i):t},i.parentId=function(a){return arguments.length?(e=Io(a),i):e},i}function tw(t,e){return t.parent===e.parent?1:2}function pu(t){var e=t.children;return e?e[0]:t.t}function _u(t){var e=t.children;return e?e[e.length-1]:t.t}function ew(t,e,i){var a=i/(e.i-t.i);e.c-=a,e.s+=i,t.c+=a,e.z+=i,e.m+=i}function iw(t,e,i){return t.a.parent===e.parent?t.a:i}function Fo(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function aw(){var t=tw,e=1,i=1,a=null;function o(d){var p=function rw(t){for(var i,o,c,l,f,e=new Fo(t,0),a=[e];i=a.pop();)if(c=i._.children)for(i.children=new Array(f=c.length),l=f-1;l>=0;--l)a.push(o=i.children[l]=new Fo(c[l],l)),o.parent=i;return(e.parent=new Fo(null,0)).children=[e],e}(d);if(p.eachAfter(c),p.parent.m=-p.z,p.eachBefore(l),a)d.eachBefore(h);else{var m=d,_=d,v=d;d.eachBefore(function(k){k.x<m.x&&(m=k),k.x>_.x&&(_=k),k.depth>v.depth&&(v=k)});var S=m===_?1:t(m,_)/2,b=S-m.x,A=e/(_.x+S+b),C=i/(v.depth||1);d.eachBefore(function(k){k.x=(k.x+b)*A,k.y=k.depth*C})}return d}function c(d){var p=d.children,m=d.parent.children,_=d.i?m[d.i-1]:null;if(p){!function nw(t){for(var c,e=0,i=0,a=t.children,o=a.length;--o>=0;)(c=a[o]).z+=e,c.m+=e,e+=c.s+(i+=c.c)}(d);var v=(p[0].z+p[p.length-1].z)/2;_?(d.z=_.z+t(d._,_._),d.m=d.z-v):d.z=v}else _&&(d.z=_.z+t(d._,_._));d.parent.A=function f(d,p,m){if(p){for(var E,_=d,v=d,S=p,b=_.parent.children[0],A=_.m,C=v.m,k=S.m,M=b.m;S=_u(S),_=pu(_),S&&_;)b=pu(b),(v=_u(v)).a=d,(E=S.z+k-_.z-A+t(S._,_._))>0&&(ew(iw(S,d,m),d,E),A+=E,C+=E),k+=S.m,A+=_.m,M+=b.m,C+=v.m;S&&!_u(v)&&(v.t=S,v.m+=k-C),_&&!pu(b)&&(b.t=_,b.m+=A-M,m=d)}return m}(d,_,d.parent.A||m[0])}function l(d){d._.x=d.z+d.parent.m,d.m+=d.parent.m}function h(d){d.x*=e,d.y=d.depth*i}return o.separation=function(d){return arguments.length?(t=d,o):t},o.size=function(d){return arguments.length?(a=!1,e=+d[0],i=+d[1],o):a?null:[e,i]},o.nodeSize=function(d){return arguments.length?(a=!0,e=+d[0],i=+d[1],o):a?[e,i]:null},o}function zo(t,e,i,a,o){for(var l,c=t.children,f=-1,h=c.length,d=t.value&&(o-i)/t.value;++f<h;)(l=c[f]).x0=e,l.x1=a,l.y0=i,l.y1=i+=l.value*d}Fo.prototype=Object.create(qi.prototype);var kd=(1+Math.sqrt(5))/2;function Rd(t,e,i,a,o,c){for(var h,d,v,S,A,C,k,M,E,$,I,l=[],f=e.children,p=0,m=0,_=f.length,b=e.value;p<_;){v=o-i,S=c-a;do{A=f[m++].value}while(!A&&m<_);for(C=k=A,I=A*A*($=Math.max(S/v,v/S)/(b*t)),E=Math.max(k/I,I/C);m<_;++m){if(A+=d=f[m].value,d<C&&(C=d),d>k&&(k=d),I=A*A*$,(M=Math.max(k/I,I/C))>E){A-=d;break}E=M}l.push(h={value:A,dice:v<S,children:f.slice(p,m)}),h.dice?Hr(h,i,a,o,b?a+=S*A/b:c):zo(h,i,a,b?i+=v*A/b:o,c),b-=A,p=m}return l}const Gd=function t(e){function i(a,o,c,l,f){Rd(e,a,o,c,l,f)}return i.ratio=function(a){return t((a=+a)>1?a:1)},i}(kd);function ow(){var t=Gd,e=!1,i=1,a=1,o=[0],c=fi,l=fi,f=fi,h=fi,d=fi;function p(_){return _.x0=_.y0=0,_.x1=i,_.y1=a,_.eachBefore(m),o=[0],e&&_.eachBefore(Ld),_}function m(_){var v=o[_.depth],S=_.x0+v,b=_.y0+v,A=_.x1-v,C=_.y1-v;A<S&&(S=A=(S+A)/2),C<b&&(b=C=(b+C)/2),_.x0=S,_.y0=b,_.x1=A,_.y1=C,_.children&&(v=o[_.depth+1]=c(_)/2,S+=d(_)-v,b+=l(_)-v,(A-=f(_)-v)<S&&(S=A=(S+A)/2),(C-=h(_)-v)<b&&(b=C=(b+C)/2),t(_,S,b,A,C))}return p.round=function(_){return arguments.length?(e=!!_,p):e},p.size=function(_){return arguments.length?(i=+_[0],a=+_[1],p):[i,a]},p.tile=function(_){return arguments.length?(t=Io(_),p):t},p.padding=function(_){return arguments.length?p.paddingInner(_).paddingOuter(_):p.paddingInner()},p.paddingInner=function(_){return arguments.length?(c="function"==typeof _?_:ji(+_),p):c},p.paddingOuter=function(_){return arguments.length?p.paddingTop(_).paddingRight(_).paddingBottom(_).paddingLeft(_):p.paddingTop()},p.paddingTop=function(_){return arguments.length?(l="function"==typeof _?_:ji(+_),p):l},p.paddingRight=function(_){return arguments.length?(f="function"==typeof _?_:ji(+_),p):f},p.paddingBottom=function(_){return arguments.length?(h="function"==typeof _?_:ji(+_),p):h},p.paddingLeft=function(_){return arguments.length?(d="function"==typeof _?_:ji(+_),p):d},p}function sw(t,e,i,a,o){var l,h,c=t.children,f=c.length,d=new Array(f+1);for(d[0]=h=l=0;l<f;++l)d[l+1]=h+=c[l].value;!function p(m,_,v,S,b,A,C){if(m>=_-1){var k=c[m];return k.x0=S,k.y0=b,k.x1=A,void(k.y1=C)}for(var M=d[m],E=v/2+M,$=m+1,I=_-1;$<I;){var N=$+I>>>1;d[N]<E?$=N+1:I=N}E-d[$-1]<d[$]-E&&m+1<$&&--$;var W=d[$]-M,H=v-W;if(A-S>C-b){var U=(S*H+A*W)/v;p(m,$,W,S,b,U,C),p($,_,H,U,b,A,C)}else{var B=(b*H+C*W)/v;p(m,$,W,S,b,A,B),p($,_,H,S,B,A,C)}}(0,f,t.value,e,i,a,o)}function cw(t,e,i,a,o){(1&t.depth?zo:Hr)(t,e,i,a,o)}const uw=function t(e){function i(a,o,c,l,f){if((h=a._squarify)&&h.ratio===e)for(var h,d,p,m,v,_=-1,S=h.length,b=a.value;++_<S;){for(p=(d=h[_]).children,m=d.value=0,v=p.length;m<v;++m)d.value+=p[m].value;d.dice?Hr(d,o,c,l,c+=(f-c)*d.value/b):zo(d,o,c,o+=(l-o)*d.value/b,f),b-=d.value}else a._squarify=h=Rd(e,a,o,c,l,f),h.ratio=e}return i.ratio=function(a){return t((a=+a)>1?a:1)},i}(kd);function lw(t){var e=t.length;return function(i){return t[Math.max(0,Math.min(e-1,Math.floor(i*e)))]}}function fw(t,e){var i=Ta(+t,+e);return function(a){var o=i(a);return o-360*Math.floor(o/360)}}function Vd(t,e){return t=+t,e=+e,function(i){return Math.round(t*(1-i)+e*i)}}var Ur=Math.SQRT2,mu=2,$d=4,hw=1e-12;function Nd(t){return((t=Math.exp(t))+1/t)/2}function Dd(t,e){var m,_,i=t[0],a=t[1],o=t[2],f=e[2],h=e[0]-i,d=e[1]-a,p=h*h+d*d;if(p<hw)_=Math.log(f/o)/Ur,m=function(k){return[i+k*h,a+k*d,o*Math.exp(Ur*k*_)]};else{var v=Math.sqrt(p),S=(f*f-o*o+$d*p)/(2*o*mu*v),b=(f*f-o*o-$d*p)/(2*f*mu*v),A=Math.log(Math.sqrt(S*S+1)-S),C=Math.log(Math.sqrt(b*b+1)-b);_=(C-A)/Ur,m=function(k){var M=k*_,E=Nd(A),$=o/(mu*v)*(E*function gw(t){return((t=Math.exp(2*t))-1)/(t+1)}(Ur*M+A)-function dw(t){return((t=Math.exp(t))-1/t)/2}(A));return[i+$*h,a+$*d,o*E/Nd(Ur*M+A)]}}return m.duration=1e3*_,m}function Id(t){return function(e,i){var a=t((e=wa(e)).h,(i=wa(i)).h),o=de(e.s,i.s),c=de(e.l,i.l),l=de(e.opacity,i.opacity);return function(f){return e.h=a(f),e.s=o(f),e.l=c(f),e.opacity=l(f),e+""}}}const pw=Id(Ta);var _w=Id(de);function mw(t,e){var i=de((t=Fa(t)).l,(e=Fa(e)).l),a=de(t.a,e.a),o=de(t.b,e.b),c=de(t.opacity,e.opacity);return function(l){return t.l=i(l),t.a=a(l),t.b=o(l),t.opacity=c(l),t+""}}function Fd(t){return function(e,i){var a=t((e=za(e)).h,(i=za(i)).h),o=de(e.c,i.c),c=de(e.l,i.l),l=de(e.opacity,i.opacity);return function(f){return e.h=a(f),e.c=o(f),e.l=c(f),e.opacity=l(f),e+""}}}const yw=Fd(Ta);var xw=Fd(de);function zd(t){return function e(i){function a(o,c){var l=t((o=an(o)).h,(c=an(c)).h),f=de(o.s,c.s),h=de(o.l,c.l),d=de(o.opacity,c.opacity);return function(p){return o.h=l(p),o.s=f(p),o.l=h(Math.pow(p,i)),o.opacity=d(p),o+""}}return i=+i,a.gamma=e,a}(1)}const vw=zd(Ta);var Yo=zd(de);function bw(t,e){for(var i=0,a=e.length-1,o=e[0],c=new Array(a<0?0:a);i<a;)c[i]=t(o,o=e[++i]);return function(l){var f=Math.max(0,Math.min(a-1,Math.floor(l*=a)));return c[f](l-f)}}function ww(t,e){for(var i=new Array(e),a=0;a<e;++a)i[a]=t(a/(e-1));return i}function Sw(t){for(var a,e=-1,i=t.length,o=t[i-1],c=0;++e<i;)c+=(a=o)[1]*(o=t[e])[0]-a[0]*o[1];return c/2}function Tw(t){for(var c,f,e=-1,i=t.length,a=0,o=0,l=t[i-1],h=0;++e<i;)h+=f=(c=l)[0]*(l=t[e])[1]-l[0]*c[1],a+=(c[0]+l[0])*f,o+=(c[1]+l[1])*f;return[a/(h*=3),o/h]}function Aw(t,e,i){return(e[0]-t[0])*(i[1]-t[1])-(e[1]-t[1])*(i[0]-t[0])}function Cw(t,e){return t[0]-e[0]||t[1]-e[1]}function Yd(t){for(var e=t.length,i=[0,1],a=2,o=2;o<e;++o){for(;a>1&&Aw(t[i[a-2]],t[i[a-1]],t[o])<=0;)--a;i[a++]=o}return i.slice(0,a)}function Pw(t){if((i=t.length)<3)return null;var e,i,a=new Array(i),o=new Array(i);for(e=0;e<i;++e)a[e]=[+t[e][0],+t[e][1],e];for(a.sort(Cw),e=0;e<i;++e)o[e]=[a[e][0],-a[e][1]];var c=Yd(a),l=Yd(o),f=l[0]===c[0],h=l[l.length-1]===c[c.length-1],d=[];for(e=c.length-1;e>=0;--e)d.push(t[a[c[e]][2]]);for(e=+f;e<l.length-h;++e)d.push(t[a[l[e]][2]]);return d}function Mw(t,e){for(var h,d,i=t.length,a=t[i-1],o=e[0],c=e[1],l=a[0],f=a[1],p=!1,m=0;m<i;++m)h=(a=t[m])[0],(d=a[1])>c!=f>c&&o<(l-h)*(c-d)/(f-d)+h&&(p=!p),l=h,f=d;return p}function Lw(t){for(var o,c,e=-1,i=t.length,a=t[i-1],l=a[0],f=a[1],h=0;++e<i;)o=l,c=f,o-=l=(a=t[e])[0],c-=f=a[1],h+=Math.sqrt(o*o+c*c);return h}function Qi(){return Math.random()}const Ow=function t(e){function i(a,o){return a=null==a?0:+a,o=null==o?1:+o,1===arguments.length?(o=a,a=0):o-=a,function(){return e()*o+a}}return i.source=t,i}(Qi),Bd=function t(e){function i(a,o){var c,l;return a=null==a?0:+a,o=null==o?1:+o,function(){var f;if(null!=c)f=c,c=null;else do{c=2*e()-1,f=2*e()-1,l=c*c+f*f}while(!l||l>1);return a+o*f*Math.sqrt(-2*Math.log(l)/l)}}return i.source=t,i}(Qi),Ew=function t(e){function i(){var a=Bd.source(e).apply(this,arguments);return function(){return Math.exp(a())}}return i.source=t,i}(Qi),Xd=function t(e){function i(a){return function(){for(var o=0,c=0;c<a;++c)o+=e();return o}}return i.source=t,i}(Qi),kw=function t(e){function i(a){var o=Xd.source(e)(a);return function(){return o()/a}}return i.source=t,i}(Qi),Rw=function t(e){function i(a){return function(){return-Math.log(1-e())/a}}return i.source=t,i}(Qi);function un(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function On(t,e){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(e).domain(t)}return this}var Hd=Array.prototype,Bo=Hd.map,hi=Hd.slice,yu={name:"implicit"};function xu(){var t=Nn(),e=[],i=[],a=yu;function o(c){var l=c+"",f=t.get(l);if(!f){if(a!==yu)return a;t.set(l,f=e.push(c))}return i[(f-1)%i.length]}return o.domain=function(c){if(!arguments.length)return e.slice();e=[],t=Nn();for(var h,d,l=-1,f=c.length;++l<f;)t.has(d=(h=c[l])+"")||t.set(d,e.push(h));return o},o.range=function(c){return arguments.length?(i=hi.call(c),o):i.slice()},o.unknown=function(c){return arguments.length?(a=c,o):a},o.copy=function(){return xu(e,i).unknown(a)},un.apply(o,arguments),o}function vu(){var o,c,t=xu().unknown(void 0),e=t.domain,i=t.range,a=[0,1],l=!1,f=0,h=0,d=.5;function p(){var m=e().length,_=a[1]<a[0],v=a[_-0],S=a[1-_];o=(S-v)/Math.max(1,m-f+2*h),l&&(o=Math.floor(o)),v+=(S-v-o*(m-f))*d,c=o*(1-f),l&&(v=Math.round(v),c=Math.round(c));var b=u(m).map(function(A){return v+o*A});return i(_?b.reverse():b)}return delete t.unknown,t.domain=function(m){return arguments.length?(e(m),p()):e()},t.range=function(m){return arguments.length?(a=[+m[0],+m[1]],p()):a.slice()},t.rangeRound=function(m){return a=[+m[0],+m[1]],l=!0,p()},t.bandwidth=function(){return c},t.step=function(){return o},t.round=function(m){return arguments.length?(l=!!m,p()):l},t.padding=function(m){return arguments.length?(f=Math.min(1,h=+m),p()):f},t.paddingInner=function(m){return arguments.length?(f=Math.min(1,m),p()):f},t.paddingOuter=function(m){return arguments.length?(h=+m,p()):h},t.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),p()):d},t.copy=function(){return vu(e(),a).round(l).paddingInner(f).paddingOuter(h).align(d)},un.apply(p(),arguments)}function Ud(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Ud(e())},t}function Gw(){return Ud(vu.apply(null,arguments).paddingInner(1))}function bu(t){return+t}var Wd=[0,1];function _e(t){return t}function wu(t,e){return(e-=t=+t)?function(i){return(i-t)/e}:function Vw(t){return function(){return t}}(isNaN(e)?NaN:.5)}function qd(t){var a,e=t[0],i=t[t.length-1];return e>i&&(a=e,e=i,i=a),function(o){return Math.max(e,Math.min(i,o))}}function $w(t,e,i){var a=t[0],o=t[1],c=e[0],l=e[1];return o<a?(a=wu(o,a),c=i(l,c)):(a=wu(a,o),c=i(c,l)),function(f){return c(a(f))}}function Nw(t,e,i){var a=Math.min(t.length,e.length)-1,o=new Array(a),c=new Array(a),l=-1;for(t[a]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<a;)o[l]=wu(t[l],t[l+1]),c[l]=i(e[l],e[l+1]);return function(f){var h=Xe(t,f,1,a)-1;return c[h](o[h](f))}}function Wr(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Xo(){var a,o,c,f,h,d,t=Wd,e=Wd,i=dr,l=_e;function p(){return f=Math.min(t.length,e.length)>2?Nw:$w,h=d=null,m}function m(_){return isNaN(_=+_)?c:(h||(h=f(t.map(a),e,i)))(a(l(_)))}return m.invert=function(_){return l(o((d||(d=f(e,t.map(a),We)))(_)))},m.domain=function(_){return arguments.length?(t=Bo.call(_,bu),l===_e||(l=qd(t)),p()):t.slice()},m.range=function(_){return arguments.length?(e=hi.call(_),p()):e.slice()},m.rangeRound=function(_){return e=hi.call(_),i=Vd,p()},m.clamp=function(_){return arguments.length?(l=_?qd(t):_e,m):l!==_e},m.interpolate=function(_){return arguments.length?(i=_,p()):i},m.unknown=function(_){return arguments.length?(c=_,m):c},function(_,v){return a=_,o=v,p()}}function jd(t,e){return Xo()(t,e)}function Qd(t,e,i,a){var c,o=P(t,e,i);switch((a=Ar(a??",f")).type){case"s":var l=Math.max(Math.abs(t),Math.abs(e));return null==a.precision&&!isNaN(c=eh(o,l))&&(a.precision=c),xc(a,l);case"":case"e":case"g":case"p":case"r":null==a.precision&&!isNaN(c=nh(o,Math.max(Math.abs(t),Math.abs(e))))&&(a.precision=c-("e"===a.type));break;case"f":case"%":null==a.precision&&!isNaN(c=th(o))&&(a.precision=c-2*("%"===a.type))}return Za(a)}function di(t){var e=t.domain;return t.ticks=function(i){var a=e();return T(a[0],a[a.length-1],i??10)},t.tickFormat=function(i,a){var o=e();return Qd(o[0],o[o.length-1],i??10,a)},t.nice=function(i){null==i&&(i=10);var h,a=e(),o=0,c=a.length-1,l=a[o],f=a[c];return f<l&&(h=l,l=f,f=h,h=o,o=c,c=h),(h=O(l,f,i))>0?h=O(l=Math.floor(l/h)*h,f=Math.ceil(f/h)*h,i):h<0&&(h=O(l=Math.ceil(l*h)/h,f=Math.floor(f*h)/h,i)),h>0?(a[o]=Math.floor(l/h)*h,a[c]=Math.ceil(f/h)*h,e(a)):h<0&&(a[o]=Math.ceil(l*h)/h,a[c]=Math.floor(f*h)/h,e(a)),t},t}function Zd(){var t=jd(_e,_e);return t.copy=function(){return Wr(t,Zd())},un.apply(t,arguments),di(t)}function Kd(t){var e;function i(a){return isNaN(a=+a)?e:a}return i.invert=i,i.domain=i.range=function(a){return arguments.length?(t=Bo.call(a,bu),i):t.slice()},i.unknown=function(a){return arguments.length?(e=a,i):e},i.copy=function(){return Kd(t).unknown(e)},t=arguments.length?Bo.call(t,bu):[0,1],di(i)}function Jd(t,e){var l,i=0,a=(t=t.slice()).length-1,o=t[i],c=t[a];return c<o&&(l=i,i=a,a=l,l=o,o=c,c=l),t[i]=e.floor(o),t[a]=e.ceil(c),t}function tg(t){return Math.log(t)}function eg(t){return Math.exp(t)}function Dw(t){return-Math.log(-t)}function Iw(t){return-Math.exp(-t)}function Fw(t){return isFinite(t)?+("1e"+t):t<0?0:t}function ng(t){return function(e){return-t(-e)}}function Su(t){var o,c,e=t(tg,eg),i=e.domain,a=10;function l(){return o=function Yw(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}(a),c=function zw(t){return 10===t?Fw:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}(a),i()[0]<0?(o=ng(o),c=ng(c),t(Dw,Iw)):t(tg,eg),e}return e.base=function(f){return arguments.length?(a=+f,l()):a},e.domain=function(f){return arguments.length?(i(f),l()):i()},e.ticks=function(f){var m,h=i(),d=h[0],p=h[h.length-1];(m=p<d)&&(_=d,d=p,p=_);var S,b,A,_=o(d),v=o(p),C=null==f?10:+f,k=[];if(!(a%1)&&v-_<C){if(_=Math.round(_)-1,v=Math.round(v)+1,d>0){for(;_<v;++_)for(b=1,S=c(_);b<a;++b)if(!((A=S*b)<d)){if(A>p)break;k.push(A)}}else for(;_<v;++_)for(b=a-1,S=c(_);b>=1;--b)if(!((A=S*b)<d)){if(A>p)break;k.push(A)}}else k=T(_,v,Math.min(v-_,C)).map(c);return m?k.reverse():k},e.tickFormat=function(f,h){if(null==h&&(h=10===a?".0e":","),"function"!=typeof h&&(h=Za(h)),f===1/0)return h;null==f&&(f=10);var d=Math.max(1,a*f/e.ticks().length);return function(p){var m=p/c(Math.round(o(p)));return m*a<a-.5&&(m*=a),m<=d?h(p):""}},e.nice=function(){return i(Jd(i(),{floor:function(f){return c(Math.floor(o(f)))},ceil:function(f){return c(Math.ceil(o(f)))}}))},e}function ig(){var t=Su(Xo()).domain([1,10]);return t.copy=function(){return Wr(t,ig()).base(t.base())},un.apply(t,arguments),t}function rg(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function ag(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Tu(t){var e=1,i=t(rg(e),ag(e));return i.constant=function(a){return arguments.length?t(rg(e=+a),ag(e)):e},di(i)}function og(){var t=Tu(Xo());return t.copy=function(){return Wr(t,og()).constant(t.constant())},un.apply(t,arguments)}function sg(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Bw(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Xw(t){return t<0?-t*t:t*t}function Au(t){var e=t(_e,_e),i=1;return e.exponent=function(o){return arguments.length?(i=+o,function a(){return 1===i?t(_e,_e):.5===i?t(Bw,Xw):t(sg(i),sg(1/i))}()):i},di(e)}function Cu(){var t=Au(Xo());return t.copy=function(){return Wr(t,Cu()).exponent(t.exponent())},un.apply(t,arguments),t}function Hw(){return Cu.apply(null,arguments).exponent(.5)}function cg(){var a,t=[],e=[],i=[];function o(){var l=0,f=Math.max(1,e.length);for(i=new Array(f-1);++l<f;)i[l-1]=Y(t,l/f);return c}function c(l){return isNaN(l=+l)?a:e[Xe(i,l)]}return c.invertExtent=function(l){var f=e.indexOf(l);return f<0?[NaN,NaN]:[f>0?i[f-1]:t[0],f<i.length?i[f]:t[t.length-1]]},c.domain=function(l){if(!arguments.length)return t.slice();t=[];for(var d,f=0,h=l.length;f<h;++f)null!=(d=l[f])&&!isNaN(d=+d)&&t.push(d);return t.sort(vt),o()},c.range=function(l){return arguments.length?(e=hi.call(l),o()):e.slice()},c.unknown=function(l){return arguments.length?(a=l,c):a},c.quantiles=function(){return i.slice()},c.copy=function(){return cg().domain(t).range(e).unknown(a)},un.apply(c,arguments)}function ug(){var c,t=0,e=1,i=1,a=[.5],o=[0,1];function l(h){return h<=h?o[Xe(a,h,0,i)]:c}function f(){var h=-1;for(a=new Array(i);++h<i;)a[h]=((h+1)*e-(h-i)*t)/(i+1);return l}return l.domain=function(h){return arguments.length?(t=+h[0],e=+h[1],f()):[t,e]},l.range=function(h){return arguments.length?(i=(o=hi.call(h)).length-1,f()):o.slice()},l.invertExtent=function(h){var d=o.indexOf(h);return d<0?[NaN,NaN]:d<1?[t,a[0]]:d>=i?[a[i-1],e]:[a[d-1],a[d]]},l.unknown=function(h){return arguments.length&&(c=h),l},l.thresholds=function(){return a.slice()},l.copy=function(){return ug().domain([t,e]).range(o).unknown(c)},un.apply(di(l),arguments)}function lg(){var i,t=[.5],e=[0,1],a=1;function o(c){return c<=c?e[Xe(t,c,0,a)]:i}return o.domain=function(c){return arguments.length?(t=hi.call(c),a=Math.min(t.length,e.length-1),o):t.slice()},o.range=function(c){return arguments.length?(e=hi.call(c),a=Math.min(t.length,e.length-1),o):e.slice()},o.invertExtent=function(c){var l=e.indexOf(c);return[t[l-1],t[l]]},o.unknown=function(c){return arguments.length?(i=c,o):i},o.copy=function(){return lg().domain(t).range(e).unknown(i)},un.apply(o,arguments)}var Pu=new Date,Mu=new Date;function le(t,e,i,a){function o(c){return t(c=0===arguments.length?new Date:new Date(+c)),c}return o.floor=function(c){return t(c=new Date(+c)),c},o.ceil=function(c){return t(c=new Date(c-1)),e(c,1),t(c),c},o.round=function(c){var l=o(c),f=o.ceil(c);return c-l<f-c?l:f},o.offset=function(c,l){return e(c=new Date(+c),null==l?1:Math.floor(l)),c},o.range=function(c,l,f){var d,h=[];if(c=o.ceil(c),f=null==f?1:Math.floor(f),!(c<l&&f>0))return h;do{h.push(d=new Date(+c)),e(c,f),t(c)}while(d<c&&c<l);return h},o.filter=function(c){return le(function(l){if(l>=l)for(;t(l),!c(l);)l.setTime(l-1)},function(l,f){if(l>=l)if(f<0)for(;++f<=0;)for(;e(l,-1),!c(l););else for(;--f>=0;)for(;e(l,1),!c(l););})},i&&(o.count=function(c,l){return Pu.setTime(+c),Mu.setTime(+l),t(Pu),t(Mu),Math.floor(i(Pu,Mu))},o.every=function(c){return c=Math.floor(c),isFinite(c)&&c>0?c>1?o.filter(a?function(l){return a(l)%c==0}:function(l){return o.count(0,l)%c==0}):o:null}),o}var Lu=le(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});Lu.every=function(t){return isFinite(t=Math.floor(t))&&t>0?le(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,i){e.setFullYear(e.getFullYear()+i*t)}):null};const gi=Lu;var Uw=Lu.range,fg=le(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()});const hg=fg;var Ww=fg.range,pi=6e4,Uo=36e5,gg=6048e5;function _i(t){return le(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(e,i){e.setDate(e.getDate()+7*i)},function(e,i){return(i-e-(i.getTimezoneOffset()-e.getTimezoneOffset())*pi)/gg})}var qr=_i(0),jr=_i(1),pg=_i(2),_g=_i(3),mi=_i(4),mg=_i(5),yg=_i(6),xg=qr.range,qw=jr.range,jw=pg.range,Qw=_g.range,Zw=mi.range,Kw=mg.range,Jw=yg.range,vg=le(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*pi)/864e5},function(t){return t.getDate()-1});const Wo=vg;var t2=vg.range,bg=le(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-t.getMinutes()*pi)},function(t,e){t.setTime(+t+e*Uo)},function(t,e){return(e-t)/Uo},function(t){return t.getHours()});const wg=bg;var e2=bg.range,Sg=le(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())},function(t,e){t.setTime(+t+e*pi)},function(t,e){return(e-t)/pi},function(t){return t.getMinutes()});const Tg=Sg;var n2=Sg.range,Ag=le(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()});const qo=Ag;var Cg=Ag.range,jo=le(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});jo.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?le(function(e){e.setTime(Math.floor(e/t)*t)},function(e,i){e.setTime(+e+i*t)},function(e,i){return(i-e)/t}):jo:null};const Qo=jo;var Pg=jo.range;function yi(t){return le(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(e,i){e.setUTCDate(e.getUTCDate()+7*i)},function(e,i){return(i-e)/gg})}var Qr=yi(0),Zr=yi(1),Mg=yi(2),Lg=yi(3),xi=yi(4),Og=yi(5),Eg=yi(6),kg=Qr.range,i2=Zr.range,r2=Mg.range,a2=Lg.range,o2=xi.range,s2=Og.range,c2=Eg.range,Rg=le(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1});const Zo=Rg;var u2=Rg.range,Ou=le(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});Ou.every=function(t){return isFinite(t=Math.floor(t))&&t>0?le(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,i){e.setUTCFullYear(e.getUTCFullYear()+i*t)}):null};const vi=Ou;var l2=Ou.range;function Eu(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ku(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Kr(t,e,i){return{y:t,m:e,d:i,H:0,M:0,S:0,L:0}}function Gg(t){var e=t.dateTime,i=t.date,a=t.time,o=t.periods,c=t.days,l=t.shortDays,f=t.months,h=t.shortMonths,d=Jr(o),p=ta(o),m=Jr(c),_=ta(c),v=Jr(l),S=ta(l),b=Jr(f),A=ta(f),C=Jr(h),k=ta(h),M={a:function ct(it){return l[it.getDay()]},A:function at(it){return c[it.getDay()]},b:function lt(it){return h[it.getMonth()]},B:function bt(it){return f[it.getMonth()]},c:null,d:Fg,e:Fg,f:R2,g:B2,G:H2,H:O2,I:E2,j:k2,L:zg,m:G2,M:V2,p:function wt(it){return o[+(it.getHours()>=12)]},q:function Xt(it){return 1+~~(it.getMonth()/3)},Q:Wg,s:qg,S:$2,u:N2,U:D2,V:I2,w:F2,W:z2,x:null,X:null,y:Y2,Y:X2,Z:U2,"%":Ug},E={a:function It(it){return l[it.getUTCDay()]},A:function Gt(it){return c[it.getUTCDay()]},b:function ee(it){return h[it.getUTCMonth()]},B:function Ke(it){return f[it.getUTCMonth()]},c:null,d:Bg,e:Bg,f:Q2,g:oS,G:cS,H:W2,I:q2,j:j2,L:Xg,m:Z2,M:K2,p:function ln(it){return o[+(it.getUTCHours()>=12)]},q:function fn(it){return 1+~~(it.getUTCMonth()/3)},Q:Wg,s:qg,S:J2,u:tS,U:eS,V:nS,w:iS,W:rS,x:null,X:null,y:aS,Y:sS,Z:uS,"%":Ug},$={a:function U(it,Tt,Ot){var K=v.exec(Tt.slice(Ot));return K?(it.w=S[K[0].toLowerCase()],Ot+K[0].length):-1},A:function B(it,Tt,Ot){var K=m.exec(Tt.slice(Ot));return K?(it.w=_[K[0].toLowerCase()],Ot+K[0].length):-1},b:function R(it,Tt,Ot){var K=C.exec(Tt.slice(Ot));return K?(it.m=k[K[0].toLowerCase()],Ot+K[0].length):-1},B:function F(it,Tt,Ot){var K=b.exec(Tt.slice(Ot));return K?(it.m=A[K[0].toLowerCase()],Ot+K[0].length):-1},c:function Q(it,Tt,Ot){return W(it,e,Tt,Ot)},d:Dg,e:Dg,f:C2,g:Ng,G:$g,H:Ig,I:Ig,j:w2,L:A2,m:b2,M:S2,p:function H(it,Tt,Ot){var K=d.exec(Tt.slice(Ot));return K?(it.p=p[K[0].toLowerCase()],Ot+K[0].length):-1},q:v2,Q:M2,s:L2,S:T2,u:p2,U:_2,V:m2,w:g2,W:y2,x:function D(it,Tt,Ot){return W(it,i,Tt,Ot)},X:function j(it,Tt,Ot){return W(it,a,Tt,Ot)},y:Ng,Y:$g,Z:x2,"%":P2};function I(it,Tt){return function(Ot){var Re,kn,Ge,K=[],me=-1,Vt=0,we=it.length;for(Ot instanceof Date||(Ot=new Date(+Ot));++me<we;)37===it.charCodeAt(me)&&(K.push(it.slice(Vt,me)),null!=(kn=Vg[Re=it.charAt(++me)])?Re=it.charAt(++me):kn="e"===Re?" ":"0",(Ge=Tt[Re])&&(Re=Ge(Ot,kn)),K.push(Re),Vt=me+1);return K.push(it.slice(Vt,me)),K.join("")}}function N(it,Tt){return function(Ot){var Vt,we,K=Kr(1900,void 0,1);if(W(K,it,Ot+="",0)!=Ot.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(1e3*K.s+("L"in K?K.L:0));if(Tt&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+12*K.p),void 0===K.m&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(we=(Vt=ku(Kr(K.y,0,1))).getUTCDay(),Vt=we>4||0===we?Zr.ceil(Vt):Zr(Vt),Vt=Zo.offset(Vt,7*(K.V-1)),K.y=Vt.getUTCFullYear(),K.m=Vt.getUTCMonth(),K.d=Vt.getUTCDate()+(K.w+6)%7):(we=(Vt=Eu(Kr(K.y,0,1))).getDay(),Vt=we>4||0===we?jr.ceil(Vt):jr(Vt),Vt=Wo.offset(Vt,7*(K.V-1)),K.y=Vt.getFullYear(),K.m=Vt.getMonth(),K.d=Vt.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),we="Z"in K?ku(Kr(K.y,0,1)).getUTCDay():Eu(Kr(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+7*K.W-(we+5)%7:K.w+7*K.U-(we+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,ku(K)):Eu(K)}}function W(it,Tt,Ot,K){for(var Re,kn,me=0,Vt=Tt.length,we=Ot.length;me<Vt;){if(K>=we)return-1;if(37===(Re=Tt.charCodeAt(me++))){if(Re=Tt.charAt(me++),!(kn=$[Re in Vg?Tt.charAt(me++):Re])||(K=kn(it,Ot,K))<0)return-1}else if(Re!=Ot.charCodeAt(K++))return-1}return K}return M.x=I(i,M),M.X=I(a,M),M.c=I(e,M),E.x=I(i,E),E.X=I(a,E),E.c=I(e,E),{format:function(it){var Tt=I(it+="",M);return Tt.toString=function(){return it},Tt},parse:function(it){var Tt=N(it+="",!1);return Tt.toString=function(){return it},Tt},utcFormat:function(it){var Tt=I(it+="",E);return Tt.toString=function(){return it},Tt},utcParse:function(it){var Tt=N(it+="",!0);return Tt.toString=function(){return it},Tt}}}var Zi,Ru,jg,Ko,Gu,Vg={"-":"",_:" ",0:"0"},ge=/^\s*\d+/,f2=/^%/,h2=/[\\^$*+?|[\]().{}]/g;function Nt(t,e,i){var a=t<0?"-":"",o=(a?-t:t)+"",c=o.length;return a+(c<i?new Array(i-c+1).join(e)+o:o)}function d2(t){return t.replace(h2,"\\$&")}function Jr(t){return new RegExp("^(?:"+t.map(d2).join("|")+")","i")}function ta(t){for(var e={},i=-1,a=t.length;++i<a;)e[t[i].toLowerCase()]=i;return e}function g2(t,e,i){var a=ge.exec(e.slice(i,i+1));return a?(t.w=+a[0],i+a[0].length):-1}function p2(t,e,i){var a=ge.exec(e.slice(i,i+1));return a?(t.u=+a[0],i+a[0].length):-1}function _2(t,e,i){var a=ge.exec(e.slice(i,i+2));return a?(t.U=+a[0],i+a[0].length):-1}function m2(t,e,i){var a=ge.exec(e.slice(i,i+2));return a?(t.V=+a[0],i+a[0].length):-1}function y2(t,e,i){var a=ge.exec(e.slice(i,i+2));return a?(t.W=+a[0],i+a[0].length):-1}function $g(t,e,i){var a=ge.exec(e.slice(i,i+4));return a?(t.y=+a[0],i+a[0].length):-1}function Ng(t,e,i){var a=ge.exec(e.slice(i,i+2));return a?(t.y=+a[0]+(+a[0]>68?1900:2e3),i+a[0].length):-1}function x2(t,e,i){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(i,i+6));return a?(t.Z=a[1]?0:-(a[2]+(a[3]||"00")),i+a[0].length):-1}function v2(t,e,i){var a=ge.exec(e.slice(i,i+1));return a?(t.q=3*a[0]-3,i+a[0].length):-1}function b2(t,e,i){var a=ge.exec(e.slice(i,i+2));return a?(t.m=a[0]-1,i+a[0].length):-1}function Dg(t,e,i){var a=ge.exec(e.slice(i,i+2));return a?(t.d=+a[0],i+a[0].length):-1}function w2(t,e,i){var a=ge.exec(e.slice(i,i+3));return a?(t.m=0,t.d=+a[0],i+a[0].length):-1}function Ig(t,e,i){var a=ge.exec(e.slice(i,i+2));return a?(t.H=+a[0],i+a[0].length):-1}function S2(t,e,i){var a=ge.exec(e.slice(i,i+2));return a?(t.M=+a[0],i+a[0].length):-1}function T2(t,e,i){var a=ge.exec(e.slice(i,i+2));return a?(t.S=+a[0],i+a[0].length):-1}function A2(t,e,i){var a=ge.exec(e.slice(i,i+3));return a?(t.L=+a[0],i+a[0].length):-1}function C2(t,e,i){var a=ge.exec(e.slice(i,i+6));return a?(t.L=Math.floor(a[0]/1e3),i+a[0].length):-1}function P2(t,e,i){var a=f2.exec(e.slice(i,i+1));return a?i+a[0].length:-1}function M2(t,e,i){var a=ge.exec(e.slice(i));return a?(t.Q=+a[0],i+a[0].length):-1}function L2(t,e,i){var a=ge.exec(e.slice(i));return a?(t.s=+a[0],i+a[0].length):-1}function Fg(t,e){return Nt(t.getDate(),e,2)}function O2(t,e){return Nt(t.getHours(),e,2)}function E2(t,e){return Nt(t.getHours()%12||12,e,2)}function k2(t,e){return Nt(1+Wo.count(gi(t),t),e,3)}function zg(t,e){return Nt(t.getMilliseconds(),e,3)}function R2(t,e){return zg(t,e)+"000"}function G2(t,e){return Nt(t.getMonth()+1,e,2)}function V2(t,e){return Nt(t.getMinutes(),e,2)}function $2(t,e){return Nt(t.getSeconds(),e,2)}function N2(t){var e=t.getDay();return 0===e?7:e}function D2(t,e){return Nt(qr.count(gi(t)-1,t),e,2)}function Yg(t){var e=t.getDay();return e>=4||0===e?mi(t):mi.ceil(t)}function I2(t,e){return t=Yg(t),Nt(mi.count(gi(t),t)+(4===gi(t).getDay()),e,2)}function F2(t){return t.getDay()}function z2(t,e){return Nt(jr.count(gi(t)-1,t),e,2)}function Y2(t,e){return Nt(t.getFullYear()%100,e,2)}function B2(t,e){return Nt((t=Yg(t)).getFullYear()%100,e,2)}function X2(t,e){return Nt(t.getFullYear()%1e4,e,4)}function H2(t,e){var i=t.getDay();return Nt((t=i>=4||0===i?mi(t):mi.ceil(t)).getFullYear()%1e4,e,4)}function U2(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Nt(e/60|0,"0",2)+Nt(e%60,"0",2)}function Bg(t,e){return Nt(t.getUTCDate(),e,2)}function W2(t,e){return Nt(t.getUTCHours(),e,2)}function q2(t,e){return Nt(t.getUTCHours()%12||12,e,2)}function j2(t,e){return Nt(1+Zo.count(vi(t),t),e,3)}function Xg(t,e){return Nt(t.getUTCMilliseconds(),e,3)}function Q2(t,e){return Xg(t,e)+"000"}function Z2(t,e){return Nt(t.getUTCMonth()+1,e,2)}function K2(t,e){return Nt(t.getUTCMinutes(),e,2)}function J2(t,e){return Nt(t.getUTCSeconds(),e,2)}function tS(t){var e=t.getUTCDay();return 0===e?7:e}function eS(t,e){return Nt(Qr.count(vi(t)-1,t),e,2)}function Hg(t){var e=t.getUTCDay();return e>=4||0===e?xi(t):xi.ceil(t)}function nS(t,e){return t=Hg(t),Nt(xi.count(vi(t),t)+(4===vi(t).getUTCDay()),e,2)}function iS(t){return t.getUTCDay()}function rS(t,e){return Nt(Zr.count(vi(t)-1,t),e,2)}function aS(t,e){return Nt(t.getUTCFullYear()%100,e,2)}function oS(t,e){return Nt((t=Hg(t)).getUTCFullYear()%100,e,2)}function sS(t,e){return Nt(t.getUTCFullYear()%1e4,e,4)}function cS(t,e){var i=t.getUTCDay();return Nt((t=i>=4||0===i?xi(t):xi.ceil(t)).getUTCFullYear()%1e4,e,4)}function uS(){return"+0000"}function Ug(){return"%"}function Wg(t){return+t}function qg(t){return Math.floor(+t/1e3)}function Qg(t){return Zi=Gg(t),Ru=Zi.format,jg=Zi.parse,Ko=Zi.utcFormat,Gu=Zi.utcParse,Zi}Qg({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var ea=1e3,na=60*ea,ia=60*na,ra=24*ia,lS=7*ra,Zg=30*ra,Vu=365*ra;function fS(t){return new Date(t)}function hS(t){return t instanceof Date?+t:+new Date(+t)}function $u(t,e,i,a,o,c,l,f,h){var d=jd(_e,_e),p=d.invert,m=d.domain,_=h(".%L"),v=h(":%S"),S=h("%I:%M"),b=h("%I %p"),A=h("%a %d"),C=h("%b %d"),k=h("%B"),M=h("%Y"),E=[[l,1,ea],[l,5,5*ea],[l,15,15*ea],[l,30,30*ea],[c,1,na],[c,5,5*na],[c,15,15*na],[c,30,30*na],[o,1,ia],[o,3,3*ia],[o,6,6*ia],[o,12,12*ia],[a,1,ra],[a,2,2*ra],[i,1,lS],[e,1,Zg],[e,3,3*Zg],[t,1,Vu]];function $(N){return(l(N)<N?_:c(N)<N?v:o(N)<N?S:a(N)<N?b:e(N)<N?i(N)<N?A:C:t(N)<N?k:M)(N)}function I(N,W,H,U){if(null==N&&(N=10),"number"==typeof N){var B=Math.abs(H-W)/N,R=fe(function(F){return F[2]}).right(E,B);R===E.length?(U=P(W/Vu,H/Vu,N),N=t):R?(U=(R=E[B/E[R-1][2]<E[R][2]/B?R-1:R])[1],N=R[0]):(U=Math.max(P(W,H,N),1),N=f)}return null==U?N:N.every(U)}return d.invert=function(N){return new Date(p(N))},d.domain=function(N){return arguments.length?m(Bo.call(N,hS)):m().map(fS)},d.ticks=function(N,W){var F,H=m(),U=H[0],B=H[H.length-1],R=B<U;return R&&(F=U,U=B,B=F),F=(F=I(N,U,B,W))?F.range(U,B+1):[],R?F.reverse():F},d.tickFormat=function(N,W){return null==W?$:h(W)},d.nice=function(N,W){var H=m();return(N=I(N,H[0],H[H.length-1],W))?m(Jd(H,N)):d},d.copy=function(){return Wr(d,$u(t,e,i,a,o,c,l,f,h))},d}function dS(){return un.apply($u(gi,hg,qr,Wo,wg,Tg,qo,Qo,Ru).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var Kg=le(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()});const Jg=Kg;var gS=Kg.range,tp=le(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*Uo)},function(t,e){return(e-t)/Uo},function(t){return t.getUTCHours()});const ep=tp;var pS=tp.range,np=le(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*pi)},function(t,e){return(e-t)/pi},function(t){return t.getUTCMinutes()});const ip=np;var _S=np.range;function mS(){return un.apply($u(vi,Jg,Qr,Zo,ep,ip,qo,Qo,Ko).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Jo(){var i,a,o,c,h,t=0,e=1,l=_e,f=!1;function d(p){return isNaN(p=+p)?h:l(0===o?.5:(p=(c(p)-i)*o,f?Math.max(0,Math.min(1,p)):p))}return d.domain=function(p){return arguments.length?(i=c(t=+p[0]),a=c(e=+p[1]),o=i===a?0:1/(a-i),d):[t,e]},d.clamp=function(p){return arguments.length?(f=!!p,d):f},d.interpolator=function(p){return arguments.length?(l=p,d):l},d.unknown=function(p){return arguments.length?(h=p,d):h},function(p){return c=p,i=p(t),a=p(e),o=i===a?0:1/(a-i),d}}function Xn(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function rp(){var t=di(Jo()(_e));return t.copy=function(){return Xn(t,rp())},On.apply(t,arguments)}function ap(){var t=Su(Jo()).domain([1,10]);return t.copy=function(){return Xn(t,ap()).base(t.base())},On.apply(t,arguments)}function op(){var t=Tu(Jo());return t.copy=function(){return Xn(t,op()).constant(t.constant())},On.apply(t,arguments)}function Nu(){var t=Au(Jo());return t.copy=function(){return Xn(t,Nu()).exponent(t.exponent())},On.apply(t,arguments)}function yS(){return Nu.apply(null,arguments).exponent(.5)}function sp(){var t=[],e=_e;function i(a){if(!isNaN(a=+a))return e((Xe(t,a)-1)/(t.length-1))}return i.domain=function(a){if(!arguments.length)return t.slice();t=[];for(var l,o=0,c=a.length;o<c;++o)null!=(l=a[o])&&!isNaN(l=+l)&&t.push(l);return t.sort(vt),i},i.interpolator=function(a){return arguments.length?(e=a,i):e},i.copy=function(){return sp(e).domain(t)},On.apply(i,arguments)}function ts(){var a,o,c,l,f,d,m,t=0,e=.5,i=1,h=_e,p=!1;function _(v){return isNaN(v=+v)?m:(v=.5+((v=+d(v))-o)*(v<o?l:f),h(p?Math.max(0,Math.min(1,v)):v))}return _.domain=function(v){return arguments.length?(a=d(t=+v[0]),o=d(e=+v[1]),c=d(i=+v[2]),l=a===o?0:.5/(o-a),f=o===c?0:.5/(c-o),_):[t,e,i]},_.clamp=function(v){return arguments.length?(p=!!v,_):p},_.interpolator=function(v){return arguments.length?(h=v,_):h},_.unknown=function(v){return arguments.length?(m=v,_):m},function(v){return d=v,a=v(t),o=v(e),c=v(i),l=a===o?0:.5/(o-a),f=o===c?0:.5/(c-o),_}}function cp(){var t=di(ts()(_e));return t.copy=function(){return Xn(t,cp())},On.apply(t,arguments)}function up(){var t=Su(ts()).domain([.1,1,10]);return t.copy=function(){return Xn(t,up()).base(t.base())},On.apply(t,arguments)}function lp(){var t=Tu(ts());return t.copy=function(){return Xn(t,lp()).constant(t.constant())},On.apply(t,arguments)}function Du(){var t=Au(ts());return t.copy=function(){return Xn(t,Du()).exponent(t.exponent())},On.apply(t,arguments)}function xS(){return Du.apply(null,arguments).exponent(.5)}function At(t){for(var e=t.length/6|0,i=new Array(e),a=0;a<e;)i[a]="#"+t.slice(6*a,6*++a);return i}const vS=At("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),bS=At("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),wS=At("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),SS=At("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),TS=At("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),AS=At("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),CS=At("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),PS=At("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),MS=At("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),LS=At("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function zt(t){return Ll(t[t.length-1])}var fp=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(At);const OS=zt(fp);var hp=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(At);const ES=zt(hp);var dp=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(At);const kS=zt(dp);var gp=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(At);const RS=zt(gp);var pp=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(At);const GS=zt(pp);var _p=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(At);const VS=zt(_p);var mp=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(At);const $S=zt(mp);var yp=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(At);const NS=zt(yp);var xp=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(At);const DS=zt(xp);var vp=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(At);const IS=zt(vp);var bp=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(At);const FS=zt(bp);var wp=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(At);const zS=zt(wp);var Sp=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(At);const YS=zt(Sp);var Tp=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(At);const BS=zt(Tp);var Ap=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(At);const XS=zt(Ap);var Cp=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(At);const HS=zt(Cp);var Pp=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(At);const US=zt(Pp);var Mp=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(At);const WS=zt(Mp);var Lp=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(At);const qS=zt(Lp);var Op=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(At);const jS=zt(Op);var Ep=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(At);const QS=zt(Ep);var kp=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(At);const ZS=zt(kp);var Rp=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(At);const KS=zt(Rp);var Gp=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(At);const JS=zt(Gp);var Vp=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(At);const tT=zt(Vp);var $p=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(At);const eT=zt($p);var Np=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(At);const nT=zt(Np);function iT(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"}const rT=Yo(an(300,.5,0),an(-240,.5,1));var aT=Yo(an(-100,.75,.35),an(80,1.5,.8)),oT=Yo(an(260,.75,.35),an(80,1.5,.8)),es=an();function sT(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return es.h=360*t-100,es.s=1.5-1.5*e,es.l=.8-.9*e,es+""}var ns=ki(),cT=Math.PI/3,uT=2*Math.PI/3;function lT(t){var e;return t=(.5-t)*Math.PI,ns.r=255*(e=Math.sin(t))*e,ns.g=255*(e=Math.sin(t+cT))*e,ns.b=255*(e=Math.sin(t+uT))*e,ns+""}function fT(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"}function is(t){var e=t.length;return function(i){return t[Math.max(0,Math.min(e-1,Math.floor(i*e)))]}}const hT=is(At("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var dT=is(At("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),gT=is(At("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),pT=is(At("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function _T(t){return $e(ya(t).call(document.documentElement))}var mT=0;function Dp(){return new Iu}function Iu(){this._="@"+(++mT).toString(36)}function yT(t){return"string"==typeof t?new Te([document.querySelectorAll(t)],[document.documentElement]):new Te([t??[]],Ss)}function xT(t,e){null==e&&(e=ks().touches);for(var i=0,a=e?e.length:0,o=new Array(a);i<a;++i)o[i]=Aa(t,e[i]);return o}function Lt(t){return function(){return t}}Iu.prototype=Dp.prototype={constructor:Iu,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var Ip=Math.abs,xe=Math.atan2,bi=Math.cos,vT=Math.max,Fu=Math.min,Tn=Math.sin,Ki=Math.sqrt,ve=1e-12,Hn=Math.PI,rs=Hn/2,Un=2*Hn;function Fp(t){return t>=1?rs:t<=-1?-rs:Math.asin(t)}function wT(t){return t.innerRadius}function ST(t){return t.outerRadius}function TT(t){return t.startAngle}function AT(t){return t.endAngle}function CT(t){return t&&t.padAngle}function as(t,e,i,a,o,c,l){var f=t-i,h=e-a,d=(l?c:-c)/Ki(f*f+h*h),p=d*h,m=-d*f,_=t+p,v=e+m,S=i+p,b=a+m,A=(_+S)/2,C=(v+b)/2,k=S-_,M=b-v,E=k*k+M*M,$=o-c,I=_*b-S*v,N=(M<0?-1:1)*Ki(vT(0,$*$*E-I*I)),W=(I*M-k*N)/E,H=(-I*k-M*N)/E,U=(I*M+k*N)/E,B=(-I*k+M*N)/E,R=W-A,F=H-C,Q=U-A,D=B-C;return R*R+F*F>Q*Q+D*D&&(W=U,H=B),{cx:W,cy:H,x01:-p,y01:-m,x11:W*(o/$-1),y11:H*(o/$-1)}}function MT(){var t=wT,e=ST,i=Lt(0),a=null,o=TT,c=AT,l=CT,f=null;function h(){var d,p,m=+t.apply(this,arguments),_=+e.apply(this,arguments),v=o.apply(this,arguments)-rs,S=c.apply(this,arguments)-rs,b=Ip(S-v),A=S>v;if(f||(f=d=ii()),_<m&&(p=_,_=m,m=p),_>ve)if(b>Un-ve)f.moveTo(_*bi(v),_*Tn(v)),f.arc(0,0,_,v,S,!A),m>ve&&(f.moveTo(m*bi(S),m*Tn(S)),f.arc(0,0,m,S,v,A));else{var R,F,C=v,k=S,M=v,E=S,$=b,I=b,N=l.apply(this,arguments)/2,W=N>ve&&(a?+a.apply(this,arguments):Ki(m*m+_*_)),H=Fu(Ip(_-m)/2,+i.apply(this,arguments)),U=H,B=H;if(W>ve){var Q=Fp(W/m*Tn(N)),D=Fp(W/_*Tn(N));($-=2*Q)>ve?(M+=Q*=A?1:-1,E-=Q):($=0,M=E=(v+S)/2),(I-=2*D)>ve?(C+=D*=A?1:-1,k-=D):(I=0,C=k=(v+S)/2)}var j=_*bi(C),ct=_*Tn(C),at=m*bi(E),lt=m*Tn(E);if(H>ve){var Gt,bt=_*bi(k),wt=_*Tn(k),Xt=m*bi(M),It=m*Tn(M);if(b<Hn&&(Gt=function PT(t,e,i,a,o,c,l,f){var h=i-t,d=a-e,p=l-o,m=f-c,_=m*h-p*d;if(!(_*_<ve))return[t+(_=(p*(e-c)-m*(t-o))/_)*h,e+_*d]}(j,ct,Xt,It,bt,wt,at,lt))){var ee=j-Gt[0],Ke=ct-Gt[1],ln=bt-Gt[0],fn=wt-Gt[1],it=1/Tn(function bT(t){return t>1?0:t<-1?Hn:Math.acos(t)}((ee*ln+Ke*fn)/(Ki(ee*ee+Ke*Ke)*Ki(ln*ln+fn*fn)))/2),Tt=Ki(Gt[0]*Gt[0]+Gt[1]*Gt[1]);U=Fu(H,(m-Tt)/(it-1)),B=Fu(H,(_-Tt)/(it+1))}}I>ve?B>ve?(R=as(Xt,It,j,ct,_,B,A),F=as(bt,wt,at,lt,_,B,A),f.moveTo(R.cx+R.x01,R.cy+R.y01),B<H?f.arc(R.cx,R.cy,B,xe(R.y01,R.x01),xe(F.y01,F.x01),!A):(f.arc(R.cx,R.cy,B,xe(R.y01,R.x01),xe(R.y11,R.x11),!A),f.arc(0,0,_,xe(R.cy+R.y11,R.cx+R.x11),xe(F.cy+F.y11,F.cx+F.x11),!A),f.arc(F.cx,F.cy,B,xe(F.y11,F.x11),xe(F.y01,F.x01),!A))):(f.moveTo(j,ct),f.arc(0,0,_,C,k,!A)):f.moveTo(j,ct),m>ve&&$>ve?U>ve?(R=as(at,lt,bt,wt,m,-U,A),F=as(j,ct,Xt,It,m,-U,A),f.lineTo(R.cx+R.x01,R.cy+R.y01),U<H?f.arc(R.cx,R.cy,U,xe(R.y01,R.x01),xe(F.y01,F.x01),!A):(f.arc(R.cx,R.cy,U,xe(R.y01,R.x01),xe(R.y11,R.x11),!A),f.arc(0,0,m,xe(R.cy+R.y11,R.cx+R.x11),xe(F.cy+F.y11,F.cx+F.x11),A),f.arc(F.cx,F.cy,U,xe(F.y11,F.x11),xe(F.y01,F.x01),!A))):f.arc(0,0,m,E,M,A):f.lineTo(at,lt)}else f.moveTo(0,0);if(f.closePath(),d)return f=null,d+""||null}return h.centroid=function(){var d=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,p=(+o.apply(this,arguments)+ +c.apply(this,arguments))/2-Hn/2;return[bi(p)*d,Tn(p)*d]},h.innerRadius=function(d){return arguments.length?(t="function"==typeof d?d:Lt(+d),h):t},h.outerRadius=function(d){return arguments.length?(e="function"==typeof d?d:Lt(+d),h):e},h.cornerRadius=function(d){return arguments.length?(i="function"==typeof d?d:Lt(+d),h):i},h.padRadius=function(d){return arguments.length?(a=null==d?null:"function"==typeof d?d:Lt(+d),h):a},h.startAngle=function(d){return arguments.length?(o="function"==typeof d?d:Lt(+d),h):o},h.endAngle=function(d){return arguments.length?(c="function"==typeof d?d:Lt(+d),h):c},h.padAngle=function(d){return arguments.length?(l="function"==typeof d?d:Lt(+d),h):l},h.context=function(d){return arguments.length?(f=d??null,h):f},h}function zp(t){this._context=t}function os(t){return new zp(t)}function zu(t){return t[0]}function Yu(t){return t[1]}function Bu(){var t=zu,e=Yu,i=Lt(!0),a=null,o=os,c=null;function l(f){var h,p,_,d=f.length,m=!1;for(null==a&&(c=o(_=ii())),h=0;h<=d;++h)!(h<d&&i(p=f[h],h,f))===m&&((m=!m)?c.lineStart():c.lineEnd()),m&&c.point(+t(p,h,f),+e(p,h,f));if(_)return c=null,_+""||null}return l.x=function(f){return arguments.length?(t="function"==typeof f?f:Lt(+f),l):t},l.y=function(f){return arguments.length?(e="function"==typeof f?f:Lt(+f),l):e},l.defined=function(f){return arguments.length?(i="function"==typeof f?f:Lt(!!f),l):i},l.curve=function(f){return arguments.length?(o=f,null!=a&&(c=o(a)),l):o},l.context=function(f){return arguments.length?(null==f?a=c=null:c=o(a=f),l):a},l}function Yp(){var t=zu,e=null,i=Lt(0),a=Yu,o=Lt(!0),c=null,l=os,f=null;function h(p){var m,_,v,b,C,S=p.length,A=!1,k=new Array(S),M=new Array(S);for(null==c&&(f=l(C=ii())),m=0;m<=S;++m){if(!(m<S&&o(b=p[m],m,p))===A)if(A=!A)_=m,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),v=m-1;v>=_;--v)f.point(k[v],M[v]);f.lineEnd(),f.areaEnd()}A&&(k[m]=+t(b,m,p),M[m]=+i(b,m,p),f.point(e?+e(b,m,p):k[m],a?+a(b,m,p):M[m]))}if(C)return f=null,C+""||null}function d(){return Bu().defined(o).curve(l).context(c)}return h.x=function(p){return arguments.length?(t="function"==typeof p?p:Lt(+p),e=null,h):t},h.x0=function(p){return arguments.length?(t="function"==typeof p?p:Lt(+p),h):t},h.x1=function(p){return arguments.length?(e=null==p?null:"function"==typeof p?p:Lt(+p),h):e},h.y=function(p){return arguments.length?(i="function"==typeof p?p:Lt(+p),a=null,h):i},h.y0=function(p){return arguments.length?(i="function"==typeof p?p:Lt(+p),h):i},h.y1=function(p){return arguments.length?(a=null==p?null:"function"==typeof p?p:Lt(+p),h):a},h.lineX0=h.lineY0=function(){return d().x(t).y(i)},h.lineY1=function(){return d().x(t).y(a)},h.lineX1=function(){return d().x(e).y(i)},h.defined=function(p){return arguments.length?(o="function"==typeof p?p:Lt(!!p),h):o},h.curve=function(p){return arguments.length?(l=p,null!=c&&(f=l(c)),h):l},h.context=function(p){return arguments.length?(null==p?c=f=null:f=l(c=p),h):c},h}function LT(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function OT(t){return t}function ET(){var t=OT,e=LT,i=null,a=Lt(0),o=Lt(Un),c=Lt(0);function l(f){var h,p,m,C,E,d=f.length,_=0,v=new Array(d),S=new Array(d),b=+a.apply(this,arguments),A=Math.min(Un,Math.max(-Un,o.apply(this,arguments)-b)),k=Math.min(Math.abs(A)/d,c.apply(this,arguments)),M=k*(A<0?-1:1);for(h=0;h<d;++h)(E=S[v[h]=h]=+t(f[h],h,f))>0&&(_+=E);for(null!=e?v.sort(function($,I){return e(S[$],S[I])}):null!=i&&v.sort(function($,I){return i(f[$],f[I])}),h=0,m=_?(A-d*M)/_:0;h<d;++h,b=C)S[p=v[h]]={data:f[p],index:h,value:E=S[p],startAngle:b,endAngle:C=b+(E>0?E*m:0)+M,padAngle:k};return S}return l.value=function(f){return arguments.length?(t="function"==typeof f?f:Lt(+f),l):t},l.sortValues=function(f){return arguments.length?(e=f,i=null,l):e},l.sort=function(f){return arguments.length?(i=f,e=null,l):i},l.startAngle=function(f){return arguments.length?(a="function"==typeof f?f:Lt(+f),l):a},l.endAngle=function(f){return arguments.length?(o="function"==typeof f?f:Lt(+f),l):o},l.padAngle=function(f){return arguments.length?(c="function"==typeof f?f:Lt(+f),l):c},l}zp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var Bp=Xu(os);function Xp(t){this._curve=t}function Xu(t){function e(i){return new Xp(t(i))}return e._curve=t,e}function aa(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(i){return arguments.length?e(Xu(i)):e()._curve},t}function Hp(){return aa(Bu().curve(Bp))}function Up(){var t=Yp().curve(Bp),e=t.curve,i=t.lineX0,a=t.lineX1,o=t.lineY0,c=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return aa(i())},delete t.lineX0,t.lineEndAngle=function(){return aa(a())},delete t.lineX1,t.lineInnerRadius=function(){return aa(o())},delete t.lineY0,t.lineOuterRadius=function(){return aa(c())},delete t.lineY1,t.curve=function(l){return arguments.length?e(Xu(l)):e()._curve},t}function oa(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}Xp.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var Hu=Array.prototype.slice;function kT(t){return t.source}function RT(t){return t.target}function Uu(t){var e=kT,i=RT,a=zu,o=Yu,c=null;function l(){var f,h=Hu.call(arguments),d=e.apply(this,h),p=i.apply(this,h);if(c||(c=f=ii()),t(c,+a.apply(this,(h[0]=d,h)),+o.apply(this,h),+a.apply(this,(h[0]=p,h)),+o.apply(this,h)),f)return c=null,f+""||null}return l.source=function(f){return arguments.length?(e=f,l):e},l.target=function(f){return arguments.length?(i=f,l):i},l.x=function(f){return arguments.length?(a="function"==typeof f?f:Lt(+f),l):a},l.y=function(f){return arguments.length?(o="function"==typeof f?f:Lt(+f),l):o},l.context=function(f){return arguments.length?(c=f??null,l):c},l}function GT(t,e,i,a,o){t.moveTo(e,i),t.bezierCurveTo(e=(e+a)/2,i,e,o,a,o)}function VT(t,e,i,a,o){t.moveTo(e,i),t.bezierCurveTo(e,i=(i+o)/2,a,i,a,o)}function $T(t,e,i,a,o){var c=oa(e,i),l=oa(e,i=(i+o)/2),f=oa(a,i),h=oa(a,o);t.moveTo(c[0],c[1]),t.bezierCurveTo(l[0],l[1],f[0],f[1],h[0],h[1])}function NT(){return Uu(GT)}function DT(){return Uu(VT)}function IT(){var t=Uu($T);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}const Wu={draw:function(t,e){var i=Math.sqrt(e/Hn);t.moveTo(i,0),t.arc(0,0,i,0,Un)}},Wp={draw:function(t,e){var i=Math.sqrt(e/5)/2;t.moveTo(-3*i,-i),t.lineTo(-i,-i),t.lineTo(-i,-3*i),t.lineTo(i,-3*i),t.lineTo(i,-i),t.lineTo(3*i,-i),t.lineTo(3*i,i),t.lineTo(i,i),t.lineTo(i,3*i),t.lineTo(-i,3*i),t.lineTo(-i,i),t.lineTo(-3*i,i),t.closePath()}};var qp=Math.sqrt(1/3),FT=2*qp;const jp={draw:function(t,e){var i=Math.sqrt(e/FT),a=i*qp;t.moveTo(0,-i),t.lineTo(a,0),t.lineTo(0,i),t.lineTo(-a,0),t.closePath()}};var Qp=Math.sin(Hn/10)/Math.sin(7*Hn/10),YT=Math.sin(Un/10)*Qp,BT=-Math.cos(Un/10)*Qp;const Zp={draw:function(t,e){var i=Math.sqrt(.8908130915292852*e),a=YT*i,o=BT*i;t.moveTo(0,-i),t.lineTo(a,o);for(var c=1;c<5;++c){var l=Un*c/5,f=Math.cos(l),h=Math.sin(l);t.lineTo(h*i,-f*i),t.lineTo(f*a-h*o,h*a+f*o)}t.closePath()}},Kp={draw:function(t,e){var i=Math.sqrt(e),a=-i/2;t.rect(a,a,i,i)}};var qu=Math.sqrt(3);const Jp={draw:function(t,e){var i=-Math.sqrt(e/(3*qu));t.moveTo(0,2*i),t.lineTo(-qu*i,-i),t.lineTo(qu*i,-i),t.closePath()}};var Qe=-.5,Ze=Math.sqrt(3)/2,ju=1/Math.sqrt(12),XT=3*(ju/2+1);const t0={draw:function(t,e){var i=Math.sqrt(e/XT),a=i/2,o=i*ju,c=a,l=i*ju+i,f=-c,h=l;t.moveTo(a,o),t.lineTo(c,l),t.lineTo(f,h),t.lineTo(Qe*a-Ze*o,Ze*a+Qe*o),t.lineTo(Qe*c-Ze*l,Ze*c+Qe*l),t.lineTo(Qe*f-Ze*h,Ze*f+Qe*h),t.lineTo(Qe*a+Ze*o,Qe*o-Ze*a),t.lineTo(Qe*c+Ze*l,Qe*l-Ze*c),t.lineTo(Qe*f+Ze*h,Qe*h-Ze*f),t.closePath()}};var HT=[Wu,Wp,jp,Kp,Zp,Jp,t0];function UT(){var t=Lt(Wu),e=Lt(64),i=null;function a(){var o;if(i||(i=o=ii()),t.apply(this,arguments).draw(i,+e.apply(this,arguments)),o)return i=null,o+""||null}return a.type=function(o){return arguments.length?(t="function"==typeof o?o:Lt(o),a):t},a.size=function(o){return arguments.length?(e="function"==typeof o?o:Lt(+o),a):e},a.context=function(o){return arguments.length?(i=o??null,a):i},a}function Wn(){}function ss(t,e,i){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+i)/6)}function cs(t){this._context=t}function WT(t){return new cs(t)}function e0(t){this._context=t}function qT(t){return new e0(t)}function n0(t){this._context=t}function jT(t){return new n0(t)}function i0(t,e){this._basis=new cs(t),this._beta=e}cs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ss(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ss(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},e0.prototype={areaStart:Wn,areaEnd:Wn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ss(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},n0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var i=(this._x0+4*this._x1+t)/6,a=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(i,a):this._context.moveTo(i,a);break;case 3:this._point=4;default:ss(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},i0.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,i=t.length-1;if(i>0)for(var h,a=t[0],o=e[0],c=t[i]-a,l=e[i]-o,f=-1;++f<=i;)this._basis.point(this._beta*t[f]+(1-this._beta)*(a+(h=f/i)*c),this._beta*e[f]+(1-this._beta)*(o+h*l));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const QT=function t(e){function i(a){return 1===e?new cs(a):new i0(a,e)}return i.beta=function(a){return t(+a)},i}(.85);function us(t,e,i){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-i),t._x2,t._y2)}function Qu(t,e){this._context=t,this._k=(1-e)/6}Qu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:us(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:us(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const ZT=function t(e){function i(a){return new Qu(a,e)}return i.tension=function(a){return t(+a)},i}(0);function Zu(t,e){this._context=t,this._k=(1-e)/6}Zu.prototype={areaStart:Wn,areaEnd:Wn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:us(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const KT=function t(e){function i(a){return new Zu(a,e)}return i.tension=function(a){return t(+a)},i}(0);function Ku(t,e){this._context=t,this._k=(1-e)/6}Ku.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:us(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const JT=function t(e){function i(a){return new Ku(a,e)}return i.tension=function(a){return t(+a)},i}(0);function Ju(t,e,i){var a=t._x1,o=t._y1,c=t._x2,l=t._y2;if(t._l01_a>ve){var f=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,h=3*t._l01_a*(t._l01_a+t._l12_a);a=(a*f-t._x0*t._l12_2a+t._x2*t._l01_2a)/h,o=(o*f-t._y0*t._l12_2a+t._y2*t._l01_2a)/h}if(t._l23_a>ve){var d=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,p=3*t._l23_a*(t._l23_a+t._l12_a);c=(c*d+t._x1*t._l23_2a-e*t._l12_2a)/p,l=(l*d+t._y1*t._l23_2a-i*t._l12_2a)/p}t._context.bezierCurveTo(a,o,c,l,t._x2,t._y2)}function r0(t,e){this._context=t,this._alpha=e}r0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var i=this._x2-t,a=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+a*a,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Ju(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const t3=function t(e){function i(a){return e?new r0(a,e):new Qu(a,0)}return i.alpha=function(a){return t(+a)},i}(.5);function a0(t,e){this._context=t,this._alpha=e}a0.prototype={areaStart:Wn,areaEnd:Wn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var i=this._x2-t,a=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+a*a,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Ju(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const e3=function t(e){function i(a){return e?new a0(a,e):new Zu(a,0)}return i.alpha=function(a){return t(+a)},i}(.5);function o0(t,e){this._context=t,this._alpha=e}o0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var i=this._x2-t,a=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+a*a,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ju(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const n3=function t(e){function i(a){return e?new o0(a,e):new Ku(a,0)}return i.alpha=function(a){return t(+a)},i}(.5);function s0(t){this._context=t}function i3(t){return new s0(t)}function c0(t){return t<0?-1:1}function u0(t,e,i){var a=t._x1-t._x0,o=e-t._x1,c=(t._y1-t._y0)/(a||o<0&&-0),l=(i-t._y1)/(o||a<0&&-0),f=(c*o+l*a)/(a+o);return(c0(c)+c0(l))*Math.min(Math.abs(c),Math.abs(l),.5*Math.abs(f))||0}function l0(t,e){var i=t._x1-t._x0;return i?(3*(t._y1-t._y0)/i-e)/2:e}function tl(t,e,i){var a=t._x0,c=t._x1,l=t._y1,f=(c-a)/3;t._context.bezierCurveTo(a+f,t._y0+f*e,c-f,l-f*i,c,l)}function ls(t){this._context=t}function f0(t){this._context=new h0(t)}function h0(t){this._context=t}function r3(t){return new ls(t)}function a3(t){return new f0(t)}function d0(t){this._context=t}function g0(t){var e,a,i=t.length-1,o=new Array(i),c=new Array(i),l=new Array(i);for(o[0]=0,c[0]=2,l[0]=t[0]+2*t[1],e=1;e<i-1;++e)o[e]=1,c[e]=4,l[e]=4*t[e]+2*t[e+1];for(o[i-1]=2,c[i-1]=7,l[i-1]=8*t[i-1]+t[i],e=1;e<i;++e)c[e]-=a=o[e]/c[e-1],l[e]-=a*l[e-1];for(o[i-1]=l[i-1]/c[i-1],e=i-2;e>=0;--e)o[e]=(l[e]-o[e+1])/c[e];for(c[i-1]=(t[i]+o[i-1])/2,e=0;e<i-1;++e)c[e]=2*t[e+1]-o[e+1];return[o,c]}function o3(t){return new d0(t)}function fs(t,e){this._context=t,this._t=e}function s3(t){return new fs(t,.5)}function c3(t){return new fs(t,0)}function u3(t){return new fs(t,1)}function Ji(t,e){if((l=t.length)>1)for(var a,o,l,i=1,c=t[e[0]],f=c.length;i<l;++i)for(o=c,c=t[e[i]],a=0;a<f;++a)c[a][1]+=c[a][0]=isNaN(o[a][1])?o[a][0]:o[a][1]}function tr(t){for(var e=t.length,i=new Array(e);--e>=0;)i[e]=e;return i}function l3(t,e){return t[e]}function f3(){var t=Lt([]),e=tr,i=Ji,a=l3;function o(c){var f,m,l=t.apply(this,arguments),h=c.length,d=l.length,p=new Array(d);for(f=0;f<d;++f){for(var b,_=l[f],v=p[f]=new Array(h),S=0;S<h;++S)v[S]=b=[0,+a(c[S],_,S,c)],b.data=c[S];v.key=_}for(f=0,m=e(p);f<d;++f)p[m[f]].index=f;return i(p,m),p}return o.keys=function(c){return arguments.length?(t="function"==typeof c?c:Lt(Hu.call(c)),o):t},o.value=function(c){return arguments.length?(a="function"==typeof c?c:Lt(+c),o):a},o.order=function(c){return arguments.length?(e=null==c?tr:"function"==typeof c?c:Lt(Hu.call(c)),o):e},o.offset=function(c){return arguments.length?(i=c??Ji,o):i},o}function h3(t,e){if((a=t.length)>0){for(var i,a,l,o=0,c=t[0].length;o<c;++o){for(l=i=0;i<a;++i)l+=t[i][o][1]||0;if(l)for(i=0;i<a;++i)t[i][o][1]/=l}Ji(t,e)}}function d3(t,e){if((h=t.length)>0)for(var i,o,c,l,f,h,a=0,d=t[e[0]].length;a<d;++a)for(l=f=0,i=0;i<h;++i)(c=(o=t[e[i]][a])[1]-o[0])>0?(o[0]=l,o[1]=l+=c):c<0?(o[1]=f,o[0]=f+=c):(o[0]=0,o[1]=c)}function g3(t,e){if((o=t.length)>0){for(var o,i=0,a=t[e[0]],c=a.length;i<c;++i){for(var l=0,f=0;l<o;++l)f+=t[l][i][1]||0;a[i][1]+=a[i][0]=-f/2}Ji(t,e)}}function p3(t,e){if((l=t.length)>0&&(c=(o=t[e[0]]).length)>0){for(var o,c,l,i=0,a=1;a<c;++a){for(var f=0,h=0,d=0;f<l;++f){for(var p=t[e[f]],m=p[a][1]||0,v=(m-(p[a-1][1]||0))/2,S=0;S<f;++S){var b=t[e[S]];v+=(b[a][1]||0)-(b[a-1][1]||0)}h+=m,d+=v*m}o[a-1][1]+=o[a-1][0]=i,h&&(i-=d/h)}o[a-1][1]+=o[a-1][0]=i,Ji(t,e)}}function p0(t){var e=t.map(_3);return tr(t).sort(function(i,a){return e[i]-e[a]})}function _3(t){for(var o,e=-1,i=0,a=t.length,c=-1/0;++e<a;)(o=+t[e][1])>c&&(c=o,i=e);return i}function _0(t){var e=t.map(m0);return tr(t).sort(function(i,a){return e[i]-e[a]})}function m0(t){for(var o,e=0,i=-1,a=t.length;++i<a;)(o=+t[i][1])&&(e+=o);return e}function m3(t){return _0(t).reverse()}function y3(t){var i,a,e=t.length,o=t.map(m0),c=p0(t),l=0,f=0,h=[],d=[];for(i=0;i<e;++i)a=c[i],l<f?(l+=o[a],h.push(a)):(f+=o[a],d.push(a));return d.reverse().concat(h)}function x3(t){return tr(t).reverse()}s0.prototype={areaStart:Wn,areaEnd:Wn,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},ls.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:tl(this,this._t0,l0(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var i=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,tl(this,l0(this,i=u0(this,t,e)),i);break;default:tl(this,this._t0,i=u0(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=i}}},(f0.prototype=Object.create(ls.prototype)).point=function(t,e){ls.prototype.point.call(this,e,t)},h0.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,i,a,o,c){this._context.bezierCurveTo(e,t,a,i,c,o)}},d0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,i=t.length;if(i)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===i)this._context.lineTo(t[1],e[1]);else for(var a=g0(t),o=g0(e),c=0,l=1;l<i;++c,++l)this._context.bezierCurveTo(a[0][c],o[0][c],a[1][c],o[1][c],t[l],e[l]);(this._line||0!==this._line&&1===i)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},fs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var i=this._x*(1-this._t)+t*this._t;this._context.lineTo(i,this._y),this._context.lineTo(i,e)}}this._x=t,this._y=e}};var y0="%Y-%m-%dT%H:%M:%S.%LZ";const w3=Date.prototype.toISOString?function v3(t){return t.toISOString()}:Ko(y0),A3=+new Date("2000-01-01T00:00:00.000Z")?function S3(t){var e=new Date(t);return isNaN(e)?null:e}:Gu(y0);function C3(t,e,i){var a=new xr,o=e;return null==e?(a.restart(t,e,i),a):(e=+e,i=null==i?Gi():+i,a.restart(function c(l){l+=o,a.restart(c,o+=e,i),t(l)},e,i),a)}function x0(t){return function(){return t}}function P3(t){return t[0]}function M3(t){return t[1]}function el(){this._=null}function hs(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function sa(t,e){var i=e,a=e.R,o=i.U;o?o.L===i?o.L=a:o.R=a:t._=a,a.U=o,i.U=a,i.R=a.L,i.R&&(i.R.U=i),a.L=i}function ca(t,e){var i=e,a=e.L,o=i.U;o?o.L===i?o.L=a:o.R=a:t._=a,a.U=o,i.U=a,i.L=a.R,i.L&&(i.L.U=i),a.R=i}function v0(t){for(;t.L;)t=t.L;return t}el.prototype={constructor:el,insert:function(t,e){var i,a,o;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;i=t}else this._?(t=v0(this._),e.P=null,e.N=t,t.P=t.L=e,i=t):(e.P=e.N=null,this._=e,i=null);for(e.L=e.R=null,e.U=i,e.C=!0,t=e;i&&i.C;)i===(a=i.U).L?(o=a.R)&&o.C?(i.C=o.C=!1,a.C=!0,t=a):(t===i.R&&(sa(this,i),i=(t=i).U),i.C=!1,a.C=!0,ca(this,a)):(o=a.L)&&o.C?(i.C=o.C=!1,a.C=!0,t=a):(t===i.L&&(ca(this,i),i=(t=i).U),i.C=!1,a.C=!0,sa(this,a)),i=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var i,c,l,e=t.U,a=t.L,o=t.R;if(c=a?o?v0(o):a:o,e?e.L===t?e.L=c:e.R=c:this._=c,a&&o?(l=c.C,c.C=t.C,c.L=a,a.U=c,c!==o?(e=c.U,c.U=t.U,e.L=t=c.R,c.R=o,o.U=c):(c.U=e,e=c,t=c.R)):(l=t.C,t=c),t&&(t.U=e),!l){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===e.L){if((i=e.R).C&&(i.C=!1,e.C=!0,sa(this,e),i=e.R),i.L&&i.L.C||i.R&&i.R.C){(!i.R||!i.R.C)&&(i.L.C=!1,i.C=!0,ca(this,i),i=e.R),i.C=e.C,e.C=i.R.C=!1,sa(this,e),t=this._;break}}else if((i=e.L).C&&(i.C=!1,e.C=!0,ca(this,e),i=e.L),i.L&&i.L.C||i.R&&i.R.C){(!i.L||!i.L.C)&&(i.R.C=!1,i.C=!0,sa(this,i),i=e.L),i.C=e.C,e.C=i.L.C=!1,ca(this,e),t=this._;break}i.C=!0,t=e,e=e.U}while(!t.C);t&&(t.C=!1)}}};const b0=el;function ua(t,e,i,a){var o=[null,null],c=be.push(o)-1;return o.left=t,o.right=e,i&&ds(o,t,e,i),a&&ds(o,e,t,a),Be[t.index].halfedges.push(c),Be[e.index].halfedges.push(c),o}function la(t,e,i){var a=[e,i];return a.left=t,a}function ds(t,e,i,a){t[0]||t[1]?t.left===i?t[1]=a:t[0]=a:(t[0]=a,t.left=e,t.right=i)}function L3(t,e,i,a,o){var b,c=t[0],l=t[1],f=c[0],h=c[1],m=0,_=1,v=l[0]-f,S=l[1]-h;if(b=e-f,v||!(b>0)){if(b/=v,v<0){if(b<m)return;b<_&&(_=b)}else if(v>0){if(b>_)return;b>m&&(m=b)}if(b=a-f,v||!(b<0)){if(b/=v,v<0){if(b>_)return;b>m&&(m=b)}else if(v>0){if(b<m)return;b<_&&(_=b)}if(b=i-h,S||!(b>0)){if(b/=S,S<0){if(b<m)return;b<_&&(_=b)}else if(S>0){if(b>_)return;b>m&&(m=b)}if(b=o-h,S||!(b<0)){if(b/=S,S<0){if(b>_)return;b>m&&(m=b)}else if(S>0){if(b<m)return;b<_&&(_=b)}return!(m>0)&&!(_<1)||(m>0&&(t[0]=[f+m*v,h+m*S]),_<1&&(t[1]=[f+_*v,h+_*S])),!0}}}}}function O3(t,e,i,a,o){var c=t[1];if(c)return!0;var b,A,l=t[0],f=t.left,h=t.right,d=f[0],p=f[1],m=h[0],_=h[1],v=(d+m)/2;if(_===p){if(v<e||v>=a)return;if(d>m){if(l){if(l[1]>=o)return}else l=[v,i];c=[v,o]}else{if(l){if(l[1]<i)return}else l=[v,o];c=[v,i]}}else if(A=(p+_)/2-(b=(d-m)/(_-p))*v,b<-1||b>1)if(d>m){if(l){if(l[1]>=o)return}else l=[(i-A)/b,i];c=[(o-A)/b,o]}else{if(l){if(l[1]<i)return}else l=[(o-A)/b,o];c=[(i-A)/b,i]}else if(p<_){if(l){if(l[0]>=a)return}else l=[e,b*e+A];c=[a,b*a+A]}else{if(l){if(l[0]<e)return}else l=[a,b*a+A];c=[e,b*e+A]}return t[0]=l,t[1]=c,!0}function R3(t,e){var i=t.site,a=e.left,o=e.right;return i===o&&(o=a,a=i),o?Math.atan2(o[1]-a[1],o[0]-a[0]):(i===a?(a=e[1],o=e[0]):(a=e[0],o=e[1]),Math.atan2(a[0]-o[0],o[1]-a[1]))}function w0(t,e){return e[+(e.left!==t.site)]}function G3(t,e){return e[+(e.left===t.site)]}var nl,S0=[];function N3(){hs(this),this.x=this.y=this.arc=this.site=this.cy=null}function er(t){var e=t.P,i=t.N;if(e&&i){var a=e.site,o=t.site,c=i.site;if(a!==c){var l=o[0],f=o[1],h=a[0]-l,d=a[1]-f,p=c[0]-l,m=c[1]-f,_=2*(h*m-d*p);if(!(_>=-Y3)){var v=h*h+d*d,S=p*p+m*m,b=(m*v-d*S)/_,A=(h*S-p*v)/_,C=S0.pop()||new N3;C.arc=t,C.site=o,C.x=b+l,C.y=(C.cy=A+f)+Math.sqrt(b*b+A*A),t.circle=C;for(var k=null,M=fa._;M;)if(C.y<M.y||C.y===M.y&&C.x<=M.x){if(!M.L){k=M.P;break}M=M.L}else{if(!M.R){k=M;break}M=M.R}fa.insert(k,C),k||(nl=C)}}}}function nr(t){var e=t.circle;e&&(e.P||(nl=e.N),fa.remove(e),S0.push(e),hs(e),t.circle=null)}var T0=[];function D3(){hs(this),this.edge=this.site=this.circle=null}function A0(t){var e=T0.pop()||new D3;return e.site=t,e}function il(t){nr(t),ir.remove(t),T0.push(t),hs(t)}function I3(t){var e=t.circle,i=e.x,a=e.cy,o=[i,a],c=t.P,l=t.N,f=[t];il(t);for(var h=c;h.circle&&Math.abs(i-h.circle.x)<Dt&&Math.abs(a-h.circle.cy)<Dt;)c=h.P,f.unshift(h),il(h),h=c;f.unshift(h),nr(h);for(var d=l;d.circle&&Math.abs(i-d.circle.x)<Dt&&Math.abs(a-d.circle.cy)<Dt;)l=d.N,f.push(d),il(d),d=l;f.push(d),nr(d);var m,p=f.length;for(m=1;m<p;++m)ds((d=f[m]).edge,(h=f[m-1]).site,d.site,o);(d=f[p-1]).edge=ua((h=f[0]).site,d.site,null,o),er(h),er(d)}function F3(t){for(var a,o,c,l,e=t[0],i=t[1],f=ir._;f;)if((c=C0(f,i)-e)>Dt)f=f.L;else{if(!((l=e-z3(f,i))>Dt)){c>-Dt?(a=f.P,o=f):l>-Dt?(a=f,o=f.N):a=o=f;break}if(!f.R){a=f;break}f=f.R}!function k3(t){Be[t.index]={site:t,halfedges:[]}}(t);var h=A0(t);if(ir.insert(a,h),a||o){if(a===o)return nr(a),o=A0(a.site),ir.insert(h,o),h.edge=o.edge=ua(a.site,h.site),er(a),void er(o);if(!o)return void(h.edge=ua(a.site,h.site));nr(a),nr(o);var d=a.site,p=d[0],m=d[1],_=t[0]-p,v=t[1]-m,S=o.site,b=S[0]-p,A=S[1]-m,C=2*(_*A-v*b),k=_*_+v*v,M=b*b+A*A,E=[(A*k-v*M)/C+p,(_*M-b*k)/C+m];ds(o.edge,d,S,E),h.edge=ua(d,t,null,E),o.edge=ua(t,S,null,E),er(a),er(o)}}function C0(t,e){var i=t.site,a=i[0],o=i[1],c=o-e;if(!c)return a;var l=t.P;if(!l)return-1/0;var f=(i=l.site)[0],h=i[1],d=h-e;if(!d)return f;var p=f-a,m=1/c-1/d,_=p/d;return m?(-_+Math.sqrt(_*_-2*m*(p*p/(-2*d)-h+d/2+o-c/2)))/m+a:(a+f)/2}function z3(t,e){var i=t.N;if(i)return C0(i,e);var a=t.site;return a[1]===e?a[0]:1/0}var ir,Be,fa,be,Dt=1e-6,Y3=1e-12;function B3(t,e,i){return(t[0]-i[0])*(e[1]-t[1])-(t[0]-e[0])*(i[1]-t[1])}function X3(t,e){return e[1]-t[1]||e[0]-t[0]}function rl(t,e){var a,o,c,i=t.sort(X3).pop();for(be=[],Be=new Array(t.length),ir=new b0,fa=new b0;;)if(c=nl,i&&(!c||i[1]<c.y||i[1]===c.y&&i[0]<c.x))(i[0]!==a||i[1]!==o)&&(F3(i),a=i[0],o=i[1]),i=t.pop();else{if(!c)break;I3(c.arc)}if(function V3(){for(var i,a,o,c,t=0,e=Be.length;t<e;++t)if((i=Be[t])&&(c=(a=i.halfedges).length)){var l=new Array(c),f=new Array(c);for(o=0;o<c;++o)l[o]=o,f[o]=R3(i,be[a[o]]);for(l.sort(function(h,d){return f[d]-f[h]}),o=0;o<c;++o)f[o]=a[l[o]];for(o=0;o<c;++o)a[o]=f[o]}}(),e){var l=+e[0][0],f=+e[0][1],h=+e[1][0],d=+e[1][1];(function E3(t,e,i,a){for(var c,o=be.length;o--;)O3(c=be[o],t,e,i,a)&&L3(c,t,e,i,a)&&(Math.abs(c[0][0]-c[1][0])>Dt||Math.abs(c[0][1]-c[1][1])>Dt)||delete be[o]})(l,f,h,d),function $3(t,e,i,a){var c,l,f,h,d,p,m,_,v,S,b,A,o=Be.length,C=!0;for(c=0;c<o;++c)if(l=Be[c]){for(f=l.site,h=(d=l.halfedges).length;h--;)be[d[h]]||d.splice(h,1);for(h=0,p=d.length;h<p;)b=(S=G3(l,be[d[h]]))[0],A=S[1],_=(m=w0(l,be[d[++h%p]]))[0],v=m[1],(Math.abs(b-_)>Dt||Math.abs(A-v)>Dt)&&(d.splice(h,0,be.push(la(f,S,Math.abs(b-t)<Dt&&a-A>Dt?[t,Math.abs(_-t)<Dt?v:a]:Math.abs(A-a)<Dt&&i-b>Dt?[Math.abs(v-a)<Dt?_:i,a]:Math.abs(b-i)<Dt&&A-e>Dt?[i,Math.abs(_-i)<Dt?v:e]:Math.abs(A-e)<Dt&&b-t>Dt?[Math.abs(v-e)<Dt?_:t,e]:null))-1),++p);p&&(C=!1)}if(C){var k,M,E,$=1/0;for(c=0,C=null;c<o;++c)(l=Be[c])&&(E=(k=(f=l.site)[0]-t)*k+(M=f[1]-e)*M)<$&&($=E,C=l);if(C){var I=[t,e],N=[t,a],W=[i,a],H=[i,e];C.halfedges.push(be.push(la(f=C.site,I,N))-1,be.push(la(f,N,W))-1,be.push(la(f,W,H))-1,be.push(la(f,H,I))-1)}}for(c=0;c<o;++c)(l=Be[c])&&(l.halfedges.length||delete Be[c])}(l,f,h,d)}this.edges=be,this.cells=Be,ir=fa=be=Be=null}function H3(){var t=P3,e=M3,i=null;function a(o){return new rl(o.map(function(c,l){var f=[Math.round(t(c,l,o)/Dt)*Dt,Math.round(e(c,l,o)/Dt)*Dt];return f.index=l,f.data=c,f}),i)}return a.polygons=function(o){return a(o).polygons()},a.links=function(o){return a(o).links()},a.triangles=function(o){return a(o).triangles()},a.x=function(o){return arguments.length?(t="function"==typeof o?o:x0(+o),a):t},a.y=function(o){return arguments.length?(e="function"==typeof o?o:x0(+o),a):e},a.extent=function(o){return arguments.length?(i=null==o?null:[[+o[0][0],+o[0][1]],[+o[1][0],+o[1][1]]],a):i&&[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},a.size=function(o){return arguments.length?(i=null==o?null:[[0,0],[+o[0],+o[1]]],a):i&&[i[1][0]-i[0][0],i[1][1]-i[0][1]]},a}function gs(t){return function(){return t}}function U3(t,e,i){this.target=t,this.type=e,this.transform=i}function En(t,e,i){this.k=t,this.x=e,this.y=i}rl.prototype={constructor:rl,polygons:function(){var t=this.edges;return this.cells.map(function(e){var i=e.halfedges.map(function(a){return w0(e,t[a])});return i.data=e.site.data,i})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(i,a){if(f=(c=i.halfedges).length)for(var c,f,h,o=i.site,l=-1,d=e[c[f-1]],p=d.left===o?d.right:d.left;++l<f;)h=p,p=(d=e[c[l]]).left===o?d.right:d.left,h&&p&&a<h.index&&a<p.index&&B3(o,h,p)<0&&t.push([o.data,h.data,p.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,i){for(var o,f,a=this,c=a._found||0,l=a.cells.length;!(f=a.cells[c]);)if(++c>=l)return null;var h=t-f.site[0],d=e-f.site[1],p=h*h+d*d;do{f=a.cells[o=c],c=null,f.halfedges.forEach(function(m){var _=a.edges[m],v=_.left;if(v!==f.site&&v||(v=_.right)){var S=t-v[0],b=e-v[1],A=S*S+b*b;A<p&&(p=A,c=v.index)}})}while(null!==c);return a._found=o,null==i||p<=i*i?f.site:null}},En.prototype={constructor:En,scale:function(t){return 1===t?this:new En(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new En(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ps=new En(1,0,0);function P0(t){for(;!t.__zoom;)if(!(t=t.parentNode))return ps;return t.__zoom}function al(){rt.stopImmediatePropagation()}function ha(){rt.preventDefault(),rt.stopImmediatePropagation()}function W3(){return!rt.ctrlKey&&!rt.button}function q3(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function M0(){return this.__zoom||ps}function j3(){return-rt.deltaY*(1===rt.deltaMode?.05:rt.deltaMode?1:.002)}function Q3(){return navigator.maxTouchPoints||"ontouchstart"in this}function Z3(t,e,i){var a=t.invertX(e[0][0])-i[0][0],o=t.invertX(e[1][0])-i[1][0],c=t.invertY(e[0][1])-i[0][1],l=t.invertY(e[1][1])-i[1][1];return t.translate(o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o),l>c?(c+l)/2:Math.min(0,c)||Math.max(0,l))}function K3(){var p,m,t=W3,e=q3,i=Z3,a=j3,o=Q3,c=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],f=250,h=Dd,d=Gn("start","zoom","end"),_=500,v=150,S=0;function b(R){R.property("__zoom",M0).on("wheel.zoom",I).on("mousedown.zoom",N).on("dblclick.zoom",W).filter(o).on("touchstart.zoom",H).on("touchmove.zoom",U).on("touchend.zoom touchcancel.zoom",B).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function A(R,F){return(F=Math.max(c[0],Math.min(c[1],F)))===R.k?R:new En(F,R.x,R.y)}function C(R,F,Q){var D=F[0]-Q[0]*R.k,j=F[1]-Q[1]*R.k;return D===R.x&&j===R.y?R:new En(R.k,D,j)}function k(R){return[(+R[0][0]+ +R[1][0])/2,(+R[0][1]+ +R[1][1])/2]}function M(R,F,Q){R.on("start.zoom",function(){E(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){E(this,arguments).end()}).tween("zoom",function(){var D=this,j=arguments,ct=E(D,j),at=e.apply(D,j),lt=null==Q?k(at):"function"==typeof Q?Q.apply(D,j):Q,bt=Math.max(at[1][0]-at[0][0],at[1][1]-at[0][1]),wt=D.__zoom,Xt="function"==typeof F?F.apply(D,j):F,It=h(wt.invert(lt).concat(bt/wt.k),Xt.invert(lt).concat(bt/Xt.k));return function(Gt){if(1===Gt)Gt=Xt;else{var ee=It(Gt),Ke=bt/ee[2];Gt=new En(Ke,lt[0]-ee[0]*Ke,lt[1]-ee[1]*Ke)}ct.zoom(null,Gt)}})}function E(R,F,Q){return!Q&&R.__zooming||new $(R,F)}function $(R,F){this.that=R,this.args=F,this.active=0,this.extent=e.apply(R,F),this.taps=0}function I(){if(t.apply(this,arguments)){var R=E(this,arguments),F=this.__zoom,Q=Math.max(c[0],Math.min(c[1],F.k*Math.pow(2,a.apply(this,arguments)))),D=Jn(this);if(R.wheel)(R.mouse[0][0]!==D[0]||R.mouse[0][1]!==D[1])&&(R.mouse[1]=F.invert(R.mouse[0]=D)),clearTimeout(R.wheel);else{if(F.k===Q)return;R.mouse=[D,F.invert(D)],ei(this),R.start()}ha(),R.wheel=setTimeout(function j(){R.wheel=null,R.end()},v),R.zoom("mouse",i(C(A(F,Q),R.mouse[0],R.mouse[1]),R.extent,l))}}function N(){if(!m&&t.apply(this,arguments)){var R=E(this,arguments,!0),F=$e(rt.view).on("mousemove.zoom",function ct(){if(ha(),!R.moved){var lt=rt.clientX-D,bt=rt.clientY-j;R.moved=lt*lt+bt*bt>S}R.zoom("mouse",i(C(R.that.__zoom,R.mouse[0]=Jn(R.that),R.mouse[1]),R.extent,l))},!0).on("mouseup.zoom",function at(){F.on("mousemove.zoom mouseup.zoom",null),va(rt.view,R.moved),ha(),R.end()},!0),Q=Jn(this),D=rt.clientX,j=rt.clientY;xa(rt.view),al(),R.mouse=[Q,this.__zoom.invert(Q)],ei(this),R.start()}}function W(){if(t.apply(this,arguments)){var R=this.__zoom,F=Jn(this),Q=R.invert(F),j=i(C(A(R,R.k*(rt.shiftKey?.5:2)),F,Q),e.apply(this,arguments),l);ha(),f>0?$e(this).transition().duration(f).call(M,j,F):$e(this).call(b.transform,j)}}function H(){if(t.apply(this,arguments)){var D,j,ct,at,R=rt.touches,F=R.length,Q=E(this,arguments,rt.changedTouches.length===F);for(al(),j=0;j<F;++j)at=[at=gr(this,R,(ct=R[j]).identifier),this.__zoom.invert(at),ct.identifier],Q.touch0?!Q.touch1&&Q.touch0[2]!==at[2]&&(Q.touch1=at,Q.taps=0):(Q.touch0=at,D=!0,Q.taps=1+!!p);p&&(p=clearTimeout(p)),D&&(Q.taps<2&&(p=setTimeout(function(){p=null},_)),ei(this),Q.start())}}function U(){if(this.__zooming){var D,j,ct,at,R=E(this,arguments),F=rt.changedTouches,Q=F.length;for(ha(),p&&(p=clearTimeout(p)),R.taps=0,D=0;D<Q;++D)ct=gr(this,F,(j=F[D]).identifier),R.touch0&&R.touch0[2]===j.identifier?R.touch0[0]=ct:R.touch1&&R.touch1[2]===j.identifier&&(R.touch1[0]=ct);if(j=R.that.__zoom,R.touch1){var lt=R.touch0[0],bt=R.touch0[1],wt=R.touch1[0],Xt=R.touch1[1],It=(It=wt[0]-lt[0])*It+(It=wt[1]-lt[1])*It,Gt=(Gt=Xt[0]-bt[0])*Gt+(Gt=Xt[1]-bt[1])*Gt;j=A(j,Math.sqrt(It/Gt)),ct=[(lt[0]+wt[0])/2,(lt[1]+wt[1])/2],at=[(bt[0]+Xt[0])/2,(bt[1]+Xt[1])/2]}else{if(!R.touch0)return;ct=R.touch0[0],at=R.touch0[1]}R.zoom("touch",i(C(j,ct,at),R.extent,l))}}function B(){if(this.__zooming){var D,j,R=E(this,arguments),F=rt.changedTouches,Q=F.length;for(al(),m&&clearTimeout(m),m=setTimeout(function(){m=null},_),D=0;D<Q;++D)j=F[D],R.touch0&&R.touch0[2]===j.identifier?delete R.touch0:R.touch1&&R.touch1[2]===j.identifier&&delete R.touch1;if(R.touch1&&!R.touch0&&(R.touch0=R.touch1,delete R.touch1),R.touch0)R.touch0[1]=this.__zoom.invert(R.touch0[0]);else if(R.end(),2===R.taps){var ct=$e(this).on("dblclick.zoom");ct&&ct.apply(this,arguments)}}}return b.transform=function(R,F,Q){var D=R.selection?R.selection():R;D.property("__zoom",M0),R!==D?M(R,F,Q):D.interrupt().each(function(){E(this,arguments).start().zoom(null,"function"==typeof F?F.apply(this,arguments):F).end()})},b.scaleBy=function(R,F,Q){b.scaleTo(R,function(){return this.__zoom.k*("function"==typeof F?F.apply(this,arguments):F)},Q)},b.scaleTo=function(R,F,Q){b.transform(R,function(){var D=e.apply(this,arguments),j=this.__zoom,ct=null==Q?k(D):"function"==typeof Q?Q.apply(this,arguments):Q,at=j.invert(ct),lt="function"==typeof F?F.apply(this,arguments):F;return i(C(A(j,lt),ct,at),D,l)},Q)},b.translateBy=function(R,F,Q){b.transform(R,function(){return i(this.__zoom.translate("function"==typeof F?F.apply(this,arguments):F,"function"==typeof Q?Q.apply(this,arguments):Q),e.apply(this,arguments),l)})},b.translateTo=function(R,F,Q,D){b.transform(R,function(){var j=e.apply(this,arguments),ct=this.__zoom,at=null==D?k(j):"function"==typeof D?D.apply(this,arguments):D;return i(ps.translate(at[0],at[1]).scale(ct.k).translate("function"==typeof F?-F.apply(this,arguments):-F,"function"==typeof Q?-Q.apply(this,arguments):-Q),j,l)},D)},$.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(R,F){return this.mouse&&"mouse"!==R&&(this.mouse[1]=F.invert(this.mouse[0])),this.touch0&&"touch"!==R&&(this.touch0[1]=F.invert(this.touch0[0])),this.touch1&&"touch"!==R&&(this.touch1[1]=F.invert(this.touch1[0])),this.that.__zoom=F,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(R){ur(new U3(b,R,this.that.__zoom),d.apply,d,[R,this.that,this.args])}},b.wheelDelta=function(R){return arguments.length?(a="function"==typeof R?R:gs(+R),b):a},b.filter=function(R){return arguments.length?(t="function"==typeof R?R:gs(!!R),b):t},b.touchable=function(R){return arguments.length?(o="function"==typeof R?R:gs(!!R),b):o},b.extent=function(R){return arguments.length?(e="function"==typeof R?R:gs([[+R[0][0],+R[0][1]],[+R[1][0],+R[1][1]]]),b):e},b.scaleExtent=function(R){return arguments.length?(c[0]=+R[0],c[1]=+R[1],b):[c[0],c[1]]},b.translateExtent=function(R){return arguments.length?(l[0][0]=+R[0][0],l[1][0]=+R[1][0],l[0][1]=+R[0][1],l[1][1]=+R[1][1],b):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},b.constrain=function(R){return arguments.length?(i=R,b):i},b.duration=function(R){return arguments.length?(f=+R,b):f},b.interpolate=function(R){return arguments.length?(h=R,b):h},b.on=function(){var R=d.on.apply(d,arguments);return R===d?b:R},b.clickDistance=function(R){return arguments.length?(S=(R=+R)*R,b):Math.sqrt(S)},b}P0.prototype=En.prototype}}]);